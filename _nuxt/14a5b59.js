(window.webpackJsonp=window.webpackJsonp||[]).push([[5,30],{290:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(294),o=n(295),l=n(123),h=n(296);function c(t){return r(t)||o(t)||l(t)||h()}},293:function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return _})),n.d(e,"h",(function(){return m})),n.d(e,"i",(function(){return v})),n.d(e,"j",(function(){return y})),n.d(e,"k",(function(){return x})),n.d(e,"l",(function(){return O})),n.d(e,"m",(function(){return E})),n.d(e,"n",(function(){return C})),n.d(e,"o",(function(){return S})),n.d(e,"p",(function(){return R})),n.d(e,"q",(function(){return j})),n.d(e,"r",(function(){return w})),n.d(e,"s",(function(){return I})),n.d(e,"t",(function(){return k})),n.d(e,"u",(function(){return M})),n.d(e,"v",(function(){return L})),n.d(e,"w",(function(){return P})),n.d(e,"x",(function(){return A})),n.d(e,"y",(function(){return F})),n.d(e,"B",(function(){return D})),n.d(e,"z",(function(){return N})),n.d(e,"A",(function(){return G})),n.d(e,"C",(function(){return z})),n.d(e,"D",(function(){return W})),n.d(e,"E",(function(){return X})),n.d(e,"F",(function(){return B})),n.d(e,"H",(function(){return Y})),n.d(e,"I",(function(){return K})),n.d(e,"G",(function(){return Z})),n.d(e,"a",(function(){return V})),n.d(e,"K",(function(){return U})),n.d(e,"J",(function(){return H}));var r=n(468),o=n(316);function l(t){const e=y();for(let i=0,n=t.length;i<n;++i)j(e,t[i]);return e}function h(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function c(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function d(t,e,n){let r,o;return r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,o=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,r*r+o*o}function f(t,e){return m(t,e[0],e[1])}function _(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function m(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function v(t,e){const n=t[0],o=t[1],l=t[2],h=t[3],c=e[0],d=e[1];let f=r.a.UNKNOWN;return c<n?f|=r.a.LEFT:c>l&&(f|=r.a.RIGHT),d<o?f|=r.a.BELOW:d>h&&(f|=r.a.ABOVE),f===r.a.UNKNOWN&&(f=r.a.INTERSECTING),f}function y(){return[1/0,1/0,-1/0,-1/0]}function x(t,e,n,r,o){return o?(o[0]=t,o[1]=e,o[2]=n,o[3]=r,o):[t,e,n,r]}function O(t){return x(1/0,1/0,-1/0,-1/0,t)}function E(t,e){const n=t[0],r=t[1];return x(n,r,n,r,e)}function C(t,e,n,r,o){return w(O(o),t,e,n,r)}function S(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function R(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function j(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function w(t,e,n,r,o){for(;n<r;n+=o)T(t,e[n],e[n+1]);return t}function T(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function I(t,e){let n;return n=e(M(t)),n||(n=e(L(t)),n||(n=e(W(t)),n||(n=e(z(t)),n||!1)))}function k(t){let area=0;return Y(t)||(area=X(t)*N(t)),area}function M(t){return[t[0],t[1]]}function L(t){return[t[2],t[1]]}function P(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function A(t,e){let n;return"bottom-left"===e?n=M(t):"bottom-right"===e?n=L(t):"top-left"===e?n=z(t):"top-right"===e?n=W(t):Object(o.a)(!1,13),n}function F(t,e,n,r,o){const[l,h,c,d,f,_,m,v]=D(t,e,n,r);return x(Math.min(l,c,f,m),Math.min(h,d,_,v),Math.max(l,c,f,m),Math.max(h,d,_,v),o)}function D(t,e,n,r){const o=e*r[0]/2,l=e*r[1]/2,h=Math.cos(n),c=Math.sin(n),d=o*h,f=o*c,_=l*h,m=l*c,v=t[0],y=t[1];return[v-d+m,y-f-_,v-d-m,y-f+_,v+d-m,y+f+_,v+d+m,y+f-_,v-d+m,y-f-_]}function N(t){return t[3]-t[1]}function G(t,e,n){const r=n||[1/0,1/0,-1/0,-1/0];return B(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):O(r),r}function z(t){return[t[0],t[3]]}function W(t){return[t[2],t[3]]}function X(t){return t[2]-t[0]}function B(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Y(t){return t[2]<t[0]||t[3]<t[1]}function K(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function Z(t,e,n){let o=!1;const l=v(t,e),h=v(t,n);if(l===r.a.INTERSECTING||h===r.a.INTERSECTING)o=!0;else{const c=t[0],d=t[1],f=t[2],_=t[3],m=e[0],v=e[1],y=n[0],x=n[1],O=(x-v)/(y-m);let E,C;h&r.a.ABOVE&&!(l&r.a.ABOVE)&&(E=y-(x-_)/O,o=E>=c&&E<=f),o||!(h&r.a.RIGHT)||l&r.a.RIGHT||(C=x-(y-f)*O,o=C>=d&&C<=_),o||!(h&r.a.BELOW)||l&r.a.BELOW||(E=y-(x-d)/O,o=E>=c&&E<=f),o||!(h&r.a.LEFT)||l&r.a.LEFT||(C=x-(y-c)*O,o=C>=d&&C<=_)}return o}function V(t,e,n,r){let o=[];if(r>1){const e=t[2]-t[0],n=t[3]-t[1];for(let i=0;i<r;++i)o.push(t[0]+e*i/r,t[1],t[2],t[1]+n*i/r,t[2]-e*i/r,t[3],t[0],t[3]-n*i/r)}else o=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(o,o,2);const l=[],h=[];for(let i=0,t=o.length;i<t;i+=2)l.push(o[i]),h.push(o[i+1]);return function(t,e,n){return x(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}(l,h,n)}function U(t,e){const n=e.getExtent(),r=P(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){const e=X(n),o=Math.floor((r[0]-n[0])/e)*e;t[0]-=o,t[2]-=o}return t}function H(t,e){if(e.canWrapX()){const n=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[n[0],t[1],n[2],t[3]]];U(t,e);const r=X(n);if(X(t)>r)return[[n[0],t[1],n[2],t[3]]];if(t[0]<n[0])return[[t[0]+r,t[1],n[2],t[3]],[n[0],t[1],t[2],t[3]]];if(t[2]>n[2])return[[t[0],t[1],n[2],t[3]],[n[0],t[1],t[2]-r,t[3]]]}return[t]}},294:function(t,e,n){var r=n(190);t.exports=function(t){if(Array.isArray(t))return r(t)},t.exports.default=t.exports,t.exports.__esModule=!0},295:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0},296:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},303:function(t,e,n){"use strict";function r(t,e,n){return Math.min(Math.max(t,e),n)}function o(t,e,n,r,o,h){const c=o-n,d=h-r;if(0!==c||0!==d){const l=((t-n)*c+(e-r)*d)/(c*c+d*d);l>1?(n=o,r=h):l>0&&(n+=c*l,r+=d*l)}return l(t,e,n,r)}function l(t,e,n,r){const o=n-t,l=r-e;return o*o+l*l}function h(t){const e=t.length;for(let i=0;i<e;i++){let n=i,r=Math.abs(t[i][i]);for(let o=i+1;o<e;o++){const e=Math.abs(t[o][i]);e>r&&(r=e,n=o)}if(0===r)return null;const o=t[n];t[n]=t[i],t[i]=o;for(let n=i+1;n<e;n++){const r=-t[n][i]/t[i][i];for(let o=i;o<e+1;o++)i==o?t[n][o]=0:t[n][o]+=r*t[i][o]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let o=r-1;o>=0;o--)t[o][e]-=t[o][r]*n[r]}return n}function c(t){return 180*t/Math.PI}function d(t){return t*Math.PI/180}function f(a,b){const t=a%b;return t*b<0?t+b:t}function _(a,b,t){return a+t*(b-a)}function m(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function v(t,e){return Math.floor(m(t,e))}function y(t,e){return Math.ceil(m(t,e))}n.d(e,"b",(function(){return r})),n.d(e,"h",(function(){return o})),n.d(e,"g",(function(){return l})),n.d(e,"f",(function(){return h})),n.d(e,"i",(function(){return c})),n.d(e,"k",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"d",(function(){return _})),n.d(e,"j",(function(){return m})),n.d(e,"c",(function(){return v})),n.d(e,"a",(function(){return y}))},304:function(t,e,n){"use strict";e.a={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},313:function(t,e,n){"use strict";function r(){throw new Error("Unimplemented abstract method.")}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return l}));let o=0;function l(t){return t.ol_uid||(t.ol_uid=String(++o))}},316:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(469);function o(t,e){if(!t)throw new r.a(e)}},317:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(587);function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},318:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(588),o=n(589);function l(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},319:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},320:function(t,e,n){"use strict";function r(a,b){return a>b?1:a<b?-1:0}function o(t,e,n){const r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;let i;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return"function"==typeof n?n(e,t[i-1],t[i])>0?i-1:i:t[i-1]-e<e-t[i]?i-1:i}return r-1}function l(t,e,n){for(;e<n;){const r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function h(t,data){const e=Array.isArray(data)?data:[data],n=e.length;for(let i=0;i<n;i++)t[t.length]=e[i]}function c(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function d(t,e,n){const o=e||r;return t.every((function(e,r){if(0===r)return!0;const l=o(t[r-1],e);return!(l>0||n&&0===l)}))}n.d(e,"a",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return l})),n.d(e,"c",(function(){return h})),n.d(e,"b",(function(){return c})),n.d(e,"d",(function(){return d}))},324:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"f",(function(){return h})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return d})),n.d(e,"e",(function(){return f}));var r=n(376);function o(t,e,n,o){let canvas;return canvas=n&&n.length?n.shift():r.g?new OffscreenCanvas(t||300,e||300):document.createElement("canvas"),t&&(canvas.width=t),e&&(canvas.height=e),canvas.getContext("2d",o)}function l(t){const canvas=t.canvas;canvas.width=1,canvas.height=1,t.clearRect(0,0,1,1)}function h(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function c(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function d(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function f(t,e){const n=t.childNodes;for(let i=0;;++i){const r=n[i],o=e[i];if(!r&&!o)break;r!==o&&(r?o?t.insertBefore(o,r):(t.removeChild(r),--i):t.appendChild(o))}}},325:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return z})),n.d(e,"i",(function(){return Y})),n.d(e,"j",(function(){return K})),n.d(e,"b",(function(){return V})),n.d(e,"e",(function(){return U})),n.d(e,"d",(function(){return H})),n.d(e,"l",(function(){return J})),n.d(e,"k",(function(){return Q})),n.d(e,"q",(function(){return $})),n.d(e,"m",(function(){return ot})),n.d(e,"n",(function(){return at})),n.d(e,"f",(function(){return lt})),n.d(e,"o",(function(){return ht})),n.d(e,"g",(function(){return ct})),n.d(e,"p",(function(){return ut})),n.d(e,"h",(function(){return gt}));n(120),n(41),n(585);var r=n(121),o=n(317),l=n(318),h=n(319),c=n(122);var d={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},f=function(){function t(e){Object(r.a)(this,t),this.code_=e.code,this.units_=e.units,this.extent_=void 0!==e.extent?e.extent:null,this.worldExtent_=void 0!==e.worldExtent?e.worldExtent:null,this.axisOrientation_=void 0!==e.axisOrientation?e.axisOrientation:"enu",this.global_=void 0!==e.global&&e.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return Object(c.a)(t,[{key:"canWrapX",value:function(){return this.canWrapX_}},{key:"getCode",value:function(){return this.code_}},{key:"getExtent",value:function(){return this.extent_}},{key:"getUnits",value:function(){return this.units_}},{key:"getMetersPerUnit",value:function(){return this.metersPerUnit_||d[this.units_]}},{key:"getWorldExtent",value:function(){return this.worldExtent_}},{key:"getAxisOrientation",value:function(){return this.axisOrientation_}},{key:"isGlobal",value:function(){return this.global_}},{key:"setGlobal",value:function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)}},{key:"getDefaultTileGrid",value:function(){return this.defaultTileGrid_}},{key:"setDefaultTileGrid",value:function(t){this.defaultTileGrid_=t}},{key:"setExtent",value:function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)}},{key:"setWorldExtent",value:function(t){this.worldExtent_=t}},{key:"setGetPointResolution",value:function(t){this.getPointResolutionFunc_=t}},{key:"getPointResolutionFunc",value:function(){return this.getPointResolutionFunc_}}]),t}();function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var m=6378137,v=Math.PI*m,y=[-v,-v,v,v],x=[-180,-85,180,85],O=m*Math.log(Math.tan(Math.PI/2)),E=function(t){Object(o.a)(n,t);var e=_(n);function n(code){return Object(r.a)(this,n),e.call(this,{code:code,units:"m",extent:y,global:!0,worldExtent:x,getPointResolution:function(t,e){return t/Math.cosh(e[1]/m)}})}return n}(f),C=[new E("EPSG:3857"),new E("EPSG:102100"),new E("EPSG:102113"),new E("EPSG:900913"),new E("http://www.opengis.net/def/crs/EPSG/0/3857"),new E("http://www.opengis.net/gml/srs/epsg.xml#3857")];function S(input,output,t){var e=input.length;t=t>1?t:2,void 0===output&&(output=t>2?input.slice():new Array(e));for(var i=0;i<e;i+=t){output[i]=v*input[i]/180;var n=m*Math.log(Math.tan(Math.PI*(+input[i+1]+90)/360));n>O?n=O:n<-O&&(n=-O),output[i+1]=n}return output}function R(input,output,t){var e=input.length;t=t>1?t:2,void 0===output&&(output=t>2?input.slice():new Array(e));for(var i=0;i<e;i+=t)output[i]=180*input[i]/v,output[i+1]=360*Math.atan(Math.exp(input[i+1]/m))/Math.PI-90;return output}function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var w=[-180,-90,180,90],T=6378137*Math.PI/180,I=function(t){Object(o.a)(n,t);var e=j(n);function n(code,t){return Object(r.a)(this,n),e.call(this,{code:code,units:"degrees",extent:w,axisOrientation:t,global:!0,metersPerUnit:T,worldExtent:w})}return n}(f),k=[new I("CRS:84"),new I("EPSG:4326","neu"),new I("urn:ogc:def:crs:OGC:1.3:CRS84"),new I("urn:ogc:def:crs:OGC:2:84"),new I("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new I("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new I("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],M=(n(27),n(54),{});n(359);var L={};function P(source,t,e){var n=source.getCode(),r=t.getCode();n in L||(L[n]={}),L[n][r]=e}var A=n(293),F=(n(303),n(391)),D=n(467),N=n(470),G=!0;function z(t){G=!(void 0===t||t)}function W(input,output){if(void 0!==output){for(var i=0,t=input.length;i<t;++i)output[i]=input[i];output=output}else output=input.slice();return output}function X(input,output){if(void 0!==output&&input!==output){for(var i=0,t=input.length;i<t;++i)output[i]=input[i];input=output}return input}function B(t){!function(code,t){M[code]=t}(t.getCode(),t),P(t,t,W)}function Y(t){return"string"==typeof t?M[code=t]||M[code.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null:t||null;var code}function K(t,e,n,r){var o,l=(t=Y(t)).getPointResolutionFunc();if(l){if(o=l(e,n),r&&r!==t.getUnits()){var h=t.getMetersPerUnit();h&&(o=o*h/d[r])}}else{var c=t.getUnits();if("degrees"==c&&!r||"degrees"==r)o=e;else{var f=J(t,Y("EPSG:4326"));if(f===X&&"degrees"!==c)o=e*t.getMetersPerUnit();else{var _=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];_=f(_,_,2),o=(Object(D.a)(_.slice(0,2),_.slice(2,4))+Object(D.a)(_.slice(4,6),_.slice(6,8)))/2}var m=r?d[r]:t.getMetersPerUnit();void 0!==m&&(o/=m)}}return o}function Z(t){!function(t){t.forEach(B)}(t),t.forEach((function(source){t.forEach((function(t){source!==t&&P(source,t,W)}))}))}function V(t,e){return t?"string"==typeof t?Y(t):t:Y(e)}function U(t,e){return z(),$(t,"EPSG:4326",void 0!==e?e:"EPSG:3857")}function H(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||J(t,e)===W)&&n}function J(t,e){var n=function(t,e){var n;return t in L&&e in L[t]&&(n=L[t][e]),n}(t.getCode(),e.getCode());return n||(n=X),n}function Q(source,t){return J(Y(source),Y(t))}function $(t,source,e){return Q(source,e)(t,void 0,t.length)}function tt(t,source,e,n){var r=Q(source,e);return Object(A.a)(t,r,void 0,n)}var et,it,nt,st=null;function ot(){return st}function at(t,e){return st?$(t,e,st):t}function lt(t,e){return st?$(t,st,e):(G&&!Object(F.b)(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(G=!1,Object(N.a)("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t)}function ht(t,e){return st?tt(t,e,st):t}function ct(t,e){return st?tt(t,st,e):t}function ut(t,e){if(!st)return t;var n=Y(e).getUnits(),r=st.getUnits();return n&&r?t*d[n]/d[r]:t}function gt(t,e){if(!st)return t;var n=Y(e).getUnits(),r=st.getUnits();return n&&r?t*d[r]/d[n]:t}Z(C),Z(k),et=C,it=S,nt=R,k.forEach((function(t){et.forEach((function(e){P(t,e,it),P(e,t,nt)}))}))},326:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return l})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return c}));var r=n(320);function o(){return!0}function l(){return!1}function h(){}function c(t){let e,n,o,l=!1;return function(){const h=Array.prototype.slice.call(arguments);return l&&this===o&&Object(r.b)(h,n)||(l=!0,o=this,n=h,e=t.apply(this,arguments)),e}}},357:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return h}));var r=n(359);function o(t,e,n,r,o){if(r&&r!==t&&(n=n.bind(r)),o){const r=n;n=function(){t.removeEventListener(e,n),r.apply(this,arguments)}}const l={target:t,type:e,listener:n};return t.addEventListener(e,n),l}function l(t,e,n,r){return o(t,e,n,r,!0)}function h(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Object(r.a)(t))}},359:function(t,e,n){"use strict";function r(object){for(const t in object)delete object[t]}function o(object){let t;for(t in object)return!1;return!t}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}))},360:function(t,e,n){"use strict";var r=n(369),o=n(409),l=n(472),h=n(313),c=n(359);class d extends r.a{constructor(t,e,n){super(t),this.key=e,this.oldValue=n}}class f extends l.a{constructor(t){super(),this.on,this.once,this.un,Object(h.b)(this),this.values_=null,void 0!==t&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(t,e){let n;n=`change:${t}`,this.hasListener(n)&&this.dispatchEvent(new d(n,t,e)),n=o.a.PROPERTYCHANGE,this.hasListener(n)&&this.dispatchEvent(new d(n,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,n){const r=this.values_||(this.values_={});if(n)r[t]=e;else{const n=r[t];r[t]=e,n!==e&&this.notify(t,n)}}setProperties(t,e){for(const n in t)this.set(n,t[n],e)}applyProperties(source){source.values_&&Object.assign(this.values_||(this.values_={}),source.values_)}unset(t,e){if(this.values_&&t in this.values_){const n=this.values_[t];delete this.values_[t],Object(c.b)(this.values_)&&(this.values_=null),e||this.notify(t,n)}}}e.a=f},369:function(t,e,n){"use strict";e.a=class{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}},370:function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"f",(function(){return c})),n.d(e,"a",(function(){return d})),n.d(e,"e",(function(){return f})),n.d(e,"b",(function(){return _})),n.d(e,"d",(function(){return m})),n.d(e,"g",(function(){return y}));var r=n(376),o=n(316);new Array(6);function l(){return[1,0,0,1,0,0]}function h(t,a,b,e,n,r,o){return t[0]=a,t[1]=b,t[2]=e,t[3]=n,t[4]=r,t[5]=o,t}function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function d(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function f(t,e,n){return h(t,e,0,0,n,0,0)}function _(t,e,n,r,o,l,h,c){const d=Math.sin(l),f=Math.cos(l);return t[0]=r*f,t[1]=o*d,t[2]=-r*d,t[3]=o*f,t[4]=h*r*f-c*r*d+e,t[5]=h*o*d+c*o*f+n,t}function m(t,source){const e=(n=source)[0]*n[3]-n[1]*n[2];var n;Object(o.a)(0!==e,32);const a=source[0],b=source[1],r=source[2],l=source[3],h=source[4],c=source[5];return t[0]=l/e,t[1]=-b/e,t[2]=-r/e,t[3]=a/e,t[4]=(r*c-l*h)/e,t[5]=-(a*c-b*h)/e,t}let v;function y(t){const e="matrix("+t.join(", ")+")";if(r.g)return e;const n=v||(v=document.createElement("div"));return n.style.transform=e,n.style.transform}},376:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return h})),n.d(e,"a",(function(){return c})),n.d(e,"g",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"e",(function(){return _}));const r="undefined"!=typeof navigator&&void 0!==navigator.userAgent?navigator.userAgent.toLowerCase():"",o=r.includes("firefox"),l=(r.includes("safari")&&!r.includes("chrom")&&(r.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(r)),r.includes("webkit")&&!r.includes("edge")),h=r.includes("macintosh"),c="undefined"!=typeof devicePixelRatio?devicePixelRatio:1,d="undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,f="undefined"!=typeof Image&&Image.prototype.decode,_=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(t){}return t}()},377:function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},378:function(t,e,n){"use strict";n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"d",(function(){return _})),n.d(e,"e",(function(){return m})),n.d(e,"f",(function(){return v})),n.d(e,"g",(function(){return y})),n.d(e,"i",(function(){return x})),n.d(e,"k",(function(){return O})),n.d(e,"l",(function(){return E})),n.d(e,"m",(function(){return C})),n.d(e,"j",(function(){return S})),n.d(e,"h",(function(){return R})),n.d(e,"a",(function(){return j})),n.d(e,"q",(function(){return k})),n.d(e,"p",(function(){return A})),n.d(e,"o",(function(){return F})),n.d(e,"n",(function(){return D}));var r=n(360),o=n(376),l=n(359),h=n(324),c=n(411);const d="10px sans-serif",f="#000",_="round",m=[],v=0,y="round",x=10,O="#000",E="center",C="middle",S=[0,0,0,0],R=1,j=new r.a;let w,T=null;const I={},k=function(){const t="32px ",e=["monospace","serif"],n=e.length,text="wmytzilWMYTZIL@#/&?$%10";let r,o;function h(r,l,h){let c=!0;for(let i=0;i<n;++i){const n=e[i];if(o=P(r+" "+l+" "+t+n,text),h!=n){const e=P(r+" "+l+" "+t+h+","+n,text);c=c&&e!=o}}return!!c}function d(){let t=!0;const e=j.getKeys();for(let i=0,n=e.length;i<n;++i){const n=e[i];j.get(n)<100&&(h.apply(this,n.split("\n"))?(Object(l.a)(I),T=null,w=void 0,j.set(n,100)):(j.set(n,j.get(n)+1,!0),t=!1))}t&&(clearInterval(r),r=void 0)}return function(t){const e=Object(c.e)(t);if(!e)return;const n=e.families;for(let i=0,t=n.length;i<t;++i){const t=n[i],o=e.style+"\n"+e.weight+"\n"+t;void 0===j.get(o)&&(j.set(o,100,!0),h(e.style,e.weight,t)||(j.set(o,0,!0),void 0===r&&(r=setInterval(d,32))))}}}(),M=function(){let t;return function(e){let n=I[e];if(null==n){if(o.g){const t=Object(c.e)(e),r=L(e,"Žg");n=(isNaN(Number(t.lineHeight))?1.2:Number(t.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);I[e]=n}return n}}();function L(t,text){return T||(T=Object(h.a)(1,1)),t!=w&&(T.font=t,w=T.font),T.measureText(text)}function P(t,text){return L(t,text).width}function A(t,text,e){if(text in e)return e[text];const n=text.split("\n").reduce(((e,n)=>Math.max(e,P(t,n))),0);return e[text]=n,n}function F(t,e){const n=[],r=[],o=[];let l=0,h=0,c=0,d=0;for(let i=0,f=e.length;i<=f;i+=2){const text=e[i];if("\n"===text||i===f){l=Math.max(l,h),o.push(h),h=0,c+=d;continue}const _=e[i+1]||t.font,m=P(_,text);n.push(m),h+=m;const v=M(_);r.push(v),d=Math.max(d,v)}return{width:l,height:c,widths:n,heights:r,lineWidths:o}}function D(t,e,n,r,o,l,h,c,d,f,_){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(d,f),t.scale(_[0],_[1]),function(label,t){const e=label.contextInstructions;for(let i=0,n=e.length;i<n;i+=2)Array.isArray(e[i+1])?t[e[i]].apply(t,e[i+1]):t[e[i]]=e[i+1]}(r,t)):_[0]<0||_[1]<0?(t.translate(d,f),t.scale(_[0],_[1]),t.drawImage(r,o,l,h,c,0,0,h,c)):t.drawImage(r,o,l,h,c,d,f,h*_[0],c*_[1]),t.restore()}},383:function(t,e,n){"use strict";function r(t){return Math.pow(t,3)}function o(t){return 1-r(1-t)}function l(t){return 3*t*t-2*t*t*t}function h(t){return t}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return h}))},385:function(t,e,n){"use strict";function r(t){return t[0]>0&&t[1]>0}function o(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function l(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return l}))},386:function(t,e,n){"use strict";function r(t,e,n,r,o,l){l=l||[];let i=0;for(let h=e;h<n;h+=r){const e=t[h],n=t[h+1];l[i++]=o[0]*e+o[2]*n+o[4],l[i++]=o[1]*e+o[3]*n+o[5]}return l&&l.length!=i&&(l.length=i),l}function o(t,e,n,r,o,l,h){h=h||[];const c=Math.cos(o),d=Math.sin(o),f=l[0],_=l[1];let i=0;for(let o=e;o<n;o+=r){const e=t[o]-f,n=t[o+1]-_;h[i++]=f+e*c-n*d,h[i++]=_+e*d+n*c;for(let e=o+2;e<o+r;++e)h[i++]=t[e]}return h&&h.length!=i&&(h.length=i),h}function l(t,e,n,r,o,l,h,c){c=c||[];const d=h[0],f=h[1];let i=0;for(let h=e;h<n;h+=r){const e=t[h]-d,n=t[h+1]-f;c[i++]=d+o*e,c[i++]=f+l*n;for(let e=h+2;e<h+r;++e)c[i++]=t[e]}return c&&c.length!=i&&(c.length=i),c}function h(t,e,n,r,o,l,h){h=h||[];let i=0;for(let c=e;c<n;c+=r){h[i++]=t[c]+o,h[i++]=t[c+1]+l;for(let e=c+2;e<c+r;++e)h[i++]=t[e]}return h&&h.length!=i&&(h.length=i),h}n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return h}))},387:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return _})),n.d(e,"c",(function(){return v}));var r=n(316),o=n(303);const l=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,h=/^([a-z]*)$|^hsla?\(.*\)$/i;function c(t){return"string"==typeof t?t:v(t)}function d(t){const e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);const t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}const f=function(){const t={};let e=0;return function(s){let n;if(t.hasOwnProperty(s))n=t[s];else{if(e>=1024){let i=0;for(const n in t)0==(3&i++)&&(delete t[n],--e)}n=function(s){let t,g,b,a,e;h.exec(s)&&(s=d(s));if(l.exec(s)){const n=s.length-1;let r;r=n<=4?1:2;const o=4===n||8===n;t=parseInt(s.substr(1+0*r,r),16),g=parseInt(s.substr(1+1*r,r),16),b=parseInt(s.substr(1+2*r,r),16),a=o?parseInt(s.substr(1+3*r,r),16):255,1==r&&(t=(t<<4)+t,g=(g<<4)+g,b=(b<<4)+b,o&&(a=(a<<4)+a)),e=[t,g,b,a/255]}else s.startsWith("rgba(")?(e=s.slice(5,-1).split(",").map(Number),m(e)):s.startsWith("rgb(")?(e=s.slice(4,-1).split(",").map(Number),e.push(1),m(e)):Object(r.a)(!1,14);return e}(s),t[s]=n,++e}return n}}();function _(t){return Array.isArray(t)?t:f(t)}function m(t){return t[0]=Object(o.b)(t[0]+.5|0,0,255),t[1]=Object(o.b)(t[1]+.5|0,0,255),t[2]=Object(o.b)(t[2]+.5|0,0,255),t[3]=Object(o.b)(t[3],0,1),t}function v(t){let e=t[0];e!=(0|e)&&(e=e+.5|0);let g=t[1];g!=(0|g)&&(g=g+.5|0);let b=t[2];b!=(0|b)&&(b=b+.5|0);return"rgba("+e+","+g+","+b+","+(void 0===t[3]?1:Math.round(100*t[3])/100)+")"}},388:function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},391:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return h})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return d})),n.d(e,"c",(function(){return f}));var r=n(293);n(303);function o(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function l(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function h(t,e){const n=Math.cos(e),r=Math.sin(e),o=t[0]*n-t[1]*r,l=t[1]*n+t[0]*r;return t[0]=o,t[1]=l,t}function c(t,e){return t[0]*=e,t[1]*=e,t}function d(t,e){if(e.canWrapX()){const n=Object(r.E)(e.getExtent()),o=f(t,e,n);o&&(t[0]-=o*n)}return t}function f(t,e,n){const o=e.getExtent();let l=0;return e.canWrapX()&&(t[0]<o[0]||t[0]>o[2])&&(n=n||Object(r.E)(o),l=Math.floor((t[0]-o[0])/n)),l}},407:function(t,e,n){"use strict";n.d(e,"b",(function(){return v}));var r=n(471),o=n(304),l=n(473),h=n(417),c=n(425),d=n(316),f=n(293),_=n(357);class m extends r.a{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(l.a.SOURCE,this.handleSourcePropertyChange_);const source=t.source?t.source:null;this.setSource(source)}getLayersArray(t){return(t=t||[]).push(this),t}getLayerStatesArray(t){return(t=t||[]).push(this.getLayerState()),t}getSource(){return this.get(l.a.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const source=this.getSource();return source?source.getState():"undefined"}handleSourceChange_(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Object(_.c)(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const source=this.getSource();source&&(this.sourceChangeKey_=Object(_.a)(source,o.a.CHANGE,this.handleSourceChange_,this),"ready"===source.getState()&&(this.sourceReady_=!0,setTimeout((()=>{this.dispatchEvent("sourceready")}),0))),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return this.renderer_&&this.rendered?this.renderer_.getData(t):null}isVisible(view){let t;t=view instanceof c.a?{viewState:view.getState(),extent:view.calculateExtent()}:view;const e=this.getExtent();return this.getVisible()&&v(this.getLayerState(),t.viewState)&&(!e||Object(f.F)(e,t.extent))}getAttributions(view){if(!this.isVisible(view))return[];let t;const source=this.getSource();if(source&&(t=source.getAttributions()),!t)return[];let e=t(view instanceof c.a?view.getViewStateAndExtent():view);return Array.isArray(e)||(e=[e]),e}render(t,e){const n=this.getRenderer();if(n.prepareFrame(t))return this.rendered=!0,n.renderFrame(t,e)}unrender(){this.rendered=!1}setMapInternal(map){map||this.unrender(),this.set(l.a.MAP,map)}getMapInternal(){return this.get(l.a.MAP)}setMap(map){this.mapPrecomposeKey_&&(Object(_.c)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),map||this.changed(),this.mapRenderKey_&&(Object(_.c)(this.mapRenderKey_),this.mapRenderKey_=null),map&&(this.mapPrecomposeKey_=Object(_.a)(map,h.a.PRECOMPOSE,(function(t){const e=t.frameState.layerStatesArray,n=this.getLayerState(!1);Object(d.a)(!e.some((function(t){return t.layer===n.layer})),67),e.push(n)}),this),this.mapRenderKey_=Object(_.a)(this,o.a.CHANGE,map.render,map),this.changed())}setSource(source){this.set(l.a.SOURCE,source)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function v(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}e.a=m},408:function(t,e,n){"use strict";var r=n(439),o=n(369),l=n(326),h=n(359);class c extends r.a{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const n=this.listeners_||(this.listeners_={}),r=n[t]||(n[t]=[]);r.includes(e)||r.push(e)}dispatchEvent(t){const e="string"==typeof t,n=e?t:t.type,r=this.listeners_&&this.listeners_[n];if(!r)return;const h=e?new o.a(t):t;h.target||(h.target=this.eventTarget_||this);const c=this.dispatching_||(this.dispatching_={}),d=this.pendingRemovals_||(this.pendingRemovals_={});let f;n in c||(c[n]=0,d[n]=0),++c[n];for(let i=0,t=r.length;i<t;++i)if(f="handleEvent"in r[i]?r[i].handleEvent(h):r[i].call(this,h),!1===f||h.propagationStopped){f=!1;break}if(0==--c[n]){let t=d[n];for(delete d[n];t--;)this.removeEventListener(n,l.c);delete c[n]}return f}disposeInternal(){this.listeners_&&Object(h.a)(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)}removeEventListener(t,e){const n=this.listeners_&&this.listeners_[t];if(n){const r=n.indexOf(e);-1!==r&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[r]=l.c,++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}}}e.a=c},409:function(t,e,n){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},410:function(t,e,n){"use strict";var r=n(469),o=n(360),l=n(418),h=n(369);const c="length";class d extends h.a{constructor(t,element,e){super(t),this.element=element,this.index=e}}class f extends o.a{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let i=0,t=this.array_.length;i<t;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let i=0,e=t.length;i<e;++i)this.push(t[i]);return this}forEach(t){const e=this.array_;for(let i=0,n=e.length;i<n;++i)t(e[i],i,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(c)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new d(l.a.ADD,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let i=0,n=e.length;i<n;++i)if(e[i]===t)return this.removeAt(i)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new d(l.a.REMOVE,e,t)),e}setAt(t,e){if(t>=this.getLength())return void this.insertAt(t,e);if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const n=this.array_[t];this.array_[t]=e,this.dispatchEvent(new d(l.a.REMOVE,n,t)),this.dispatchEvent(new d(l.a.ADD,e,t))}updateLength_(){this.set(c,this.array_.length)}assertUnique_(t,e){for(let i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===t&&i!==e)throw new r.a(58)}}e.a=f},411:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return h})),n.d(e,"e",(function(){return f}));const r="ol-hidden",o="ol-unselectable",l="ol-control",h="ol-collapsed",c=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),d=["style","variant","weight","size","lineHeight","family"],f=function(t){const e=t.match(c);if(!e)return null;const style={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,t=d.length;i<t;++i){const t=e[i+1];void 0!==t&&(style[d[i]]=t)}return style.families=style.family.split(/,\s?/),style}},412:function(t,e,n){"use strict";n(120);var r=n(121),o=n(122),l=function(){function t(e){Object(r.a)(this,t),e=e||{},this.color_=void 0!==e.color?e.color:null}return Object(o.a)(t,[{key:"clone",value:function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})}},{key:"getColor",value:function(){return this.color_}},{key:"setColor",value:function(t){this.color_=t}}]),t}();e.a=l},414:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(590);function o(t,e,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var base=r(t,e);if(base){var desc=Object.getOwnPropertyDescriptor(base,e);return desc.get?desc.get.call(n):desc.value}})(t,e,n||t)}},417:function(t,e,n){"use strict";e.a={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}},418:function(t,e,n){"use strict";e.a={ADD:"add",REMOVE:"remove"}},419:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(387);function o(t){return Array.isArray(t)?Object(r.c)(t):t}},420:function(t,e,n){"use strict";n.d(e,"c",(function(){return m})),n.d(e,"a",(function(){return y}));n(79),n(485);var r=n(29),o=n(121),l=n(122),h=n(422),c=n(412),d=n(421),f=n(316),_=function(){function t(e){Object(o.a)(this,t),e=e||{},this.geometry_=null,this.geometryFunction_=x,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.hitDetectionRenderer_=void 0!==e.hitDetectionRenderer?e.hitDetectionRenderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return Object(l.a)(t,[{key:"clone",value:function(){var e=this.getGeometry();return e&&"object"===Object(r.a)(e)&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"setRenderer",value:function(t){this.renderer_=t}},{key:"setHitDetectionRenderer",value:function(t){this.hitDetectionRenderer_=t}},{key:"getHitDetectionRenderer",value:function(){return this.hitDetectionRenderer_}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"getGeometryFunction",value:function(){return this.geometryFunction_}},{key:"getFill",value:function(){return this.fill_}},{key:"setFill",value:function(t){this.fill_=t}},{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(image){this.image_=image}},{key:"getStroke",value:function(){return this.stroke_}},{key:"setStroke",value:function(t){this.stroke_=t}},{key:"getText",value:function(){return this.text_}},{key:"setText",value:function(text){this.text_=text}},{key:"getZIndex",value:function(){return this.zIndex_}},{key:"setGeometry",value:function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=x,this.geometry_=t}},{key:"setZIndex",value:function(t){this.zIndex_=t}}]),t}();function m(t){var e;if("function"==typeof t)e=t;else{var n;if(Array.isArray(t))n=t;else Object(f.a)("function"==typeof t.getZIndex,41),n=[t];e=function(){return n}}return e}var v=null;function y(t,e){if(!v){var n=new c.a({color:"rgba(255,255,255,0.4)"}),r=new d.a({color:"#3399CC",width:1.25});v=[new _({image:new h.a({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return v}function x(t){return t.getGeometry()}e.b=_},421:function(t,e,n){"use strict";n(120);var r=n(121),o=n(122),l=function(){function t(e){Object(r.a)(this,t),e=e||{},this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return Object(o.a)(t,[{key:"clone",value:function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}},{key:"getColor",value:function(){return this.color_}},{key:"getLineCap",value:function(){return this.lineCap_}},{key:"getLineDash",value:function(){return this.lineDash_}},{key:"getLineDashOffset",value:function(){return this.lineDashOffset_}},{key:"getLineJoin",value:function(){return this.lineJoin_}},{key:"getMiterLimit",value:function(){return this.miterLimit_}},{key:"getWidth",value:function(){return this.width_}},{key:"setColor",value:function(t){this.color_=t}},{key:"setLineCap",value:function(t){this.lineCap_=t}},{key:"setLineDash",value:function(t){this.lineDash_=t}},{key:"setLineDashOffset",value:function(t){this.lineDashOffset_=t}},{key:"setLineJoin",value:function(t){this.lineJoin_=t}},{key:"setMiterLimit",value:function(t){this.miterLimit_=t}},{key:"setWidth",value:function(t){this.width_=t}}]),t}();e.a=l},422:function(t,e,n){"use strict";n(485),n(120);var r=n(121),o=n(122),l=n(317),h=n(318),c=n(319);function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(c.a)(t);if(e){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var f=function(t){Object(l.a)(n,t);var e=d(n);function n(t){return Object(r.a)(this,n),t=t||{radius:5},e.call(this,{points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:void 0!==t.scale?t.scale:1,rotation:void 0!==t.rotation?t.rotation:0,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode})}return Object(o.a)(n,[{key:"clone",value:function(){var t=this.getScale(),style=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return style.setOpacity(this.getOpacity()),style}},{key:"setRadius",value:function(t){this.radius_=t,this.render()}}]),n}(n(486).a);e.a=f},425:function(t,e,n){"use strict";n(52),n(120),n(592),n(48);var r=n(121),o=n(122),l=n(317),h=n(318),c=n(319),d=n(360),f=n(440),_={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},m=n(446),v=n(325),y=n(326),x=n(391),O=n(316),E=n(303);function C(t,e,n){return function(r,o,l,h,c){if(!r)return;if(!o&&!e)return r;const d=e?0:l[0]*o,f=e?0:l[1]*o,_=c?c[0]:0,m=c?c[1]:0;let v=t[0]+d/2+_,y=t[2]-d/2+_,x=t[1]+f/2+m,O=t[3]-f/2+m;v>y&&(v=(y+v)/2,y=v),x>O&&(x=(O+x)/2,O=x);let C=Object(E.b)(r[0],v,y),S=Object(E.b)(r[1],x,O);if(h&&n&&o){const t=30*o;C+=-t*Math.log(1+Math.max(0,v-r[0])/t)+t*Math.log(1+Math.max(0,r[0]-y)/t),S+=-t*Math.log(1+Math.max(0,x-r[1])/t)+t*Math.log(1+Math.max(0,r[1]-O)/t)}return[C,S]}}function S(t){return t}var R=n(293),j=n(320);function w(t,e,n,r){const o=Object(R.E)(e)/n[0],l=Object(R.z)(e)/n[1];return r?Math.min(t,Math.max(o,l)):Math.min(t,Math.min(o,l))}function T(t,e,n){let r=Math.min(t,e);return r*=Math.log(1+50*Math.max(0,t/e-1))/50+1,n&&(r=Math.max(r,n),r/=Math.log(1+50*Math.max(0,n/t-1))/50+1),Object(E.b)(r,n/2,2*e)}function I(t,e,n,r,o){return n=void 0===n||n,function(l,h,c,d){if(void 0!==l){const h=r?w(t,r,c,o):t;return n&&d?T(l,h,e):Object(E.b)(l,e,h)}}}var k=n(447),M=n(383),L=n(496);function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(c.a)(t);if(e){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var A=function(t){Object(l.a)(n,t);var e=P(n);function n(t){var o;return Object(r.a)(this,n),(o=e.call(this)).on,o.once,o.un,t=Object.assign({},t),o.hints_=[0,0],o.animations_=[],o.updateAnimationKey_,o.projection_=Object(v.b)(t.projection,"EPSG:3857"),o.viewportSize_=[100,100],o.targetCenter_=null,o.targetResolution_,o.targetRotation_,o.nextCenter_=null,o.nextResolution_,o.nextRotation_,o.cancelAnchor_=void 0,t.projection&&Object(v.c)(),t.center&&(t.center=Object(v.f)(t.center,o.projection_)),t.extent&&(t.extent=Object(v.g)(t.extent,o.projection_)),o.applyOptions_(t),o}return Object(o.a)(n,[{key:"applyOptions_",value:function(t){var e=Object.assign({},t);for(var n in _)delete e[n];this.setProperties(e,!0);var r=function(t){var e,n,r,o=28,l=2,h=void 0!==t.minZoom?t.minZoom:0,c=void 0!==t.maxZoom?t.maxZoom:o,d=void 0!==t.zoomFactor?t.zoomFactor:l,f=void 0!==t.multiWorld&&t.multiWorld,_=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,y=void 0!==t.showFullExtent&&t.showFullExtent,x=Object(v.b)(t.projection,"EPSG:3857"),O=x.getExtent(),C=t.constrainOnlyCenter,S=t.extent;f||S||!x.isGlobal()||(C=!1,S=O);if(void 0!==t.resolutions){var k=t.resolutions;n=k[h],r=void 0!==k[c]?k[c]:k[k.length-1],e=t.constrainResolution?function(t,e,n,r){return e=void 0===e||e,function(o,l,h,c){if(void 0!==o){const d=t[0],f=t[t.length-1],_=n?w(d,n,h,r):d;if(c)return e?T(o,_,f):Object(E.b)(o,f,_);const m=Math.min(_,o),v=Math.floor(Object(j.e)(t,m,l));return t[v]>_&&v<t.length-1?t[v+1]:t[v]}}}(k,_,!C&&S,y):I(n,r,_,!C&&S,y)}else{var M=(O?Math.max(Object(R.E)(O),Object(R.z)(O)):360*v.a.degrees/x.getMetersPerUnit())/m.b/Math.pow(l,0),L=M/Math.pow(l,o-0);void 0!==(n=t.maxResolution)?h=0:n=M/Math.pow(d,h),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(d,c):M/Math.pow(d,c):L),c=h+Math.floor(Math.log(n/r)/Math.log(d)),r=n/Math.pow(d,c-h),e=t.constrainResolution?function(t,e,n,r,o,l){return r=void 0===r||r,n=void 0!==n?n:0,function(h,c,d,f){if(void 0!==h){const _=o?w(e,o,d,l):e;if(f)return r?T(h,_,n):Object(E.b)(h,n,_);const m=1e-9,v=Math.ceil(Math.log(e/_)/Math.log(t)-m),y=-c*(.5-m)+.5,x=Math.min(_,h),O=Math.floor(Math.log(e/x)/Math.log(t)+y),C=Math.max(v,O),S=e/Math.pow(t,C);return Object(E.b)(S,n,_)}}}(d,n,r,_,!C&&S,y):I(n,r,_,!C&&S,y)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:h,zoomFactor:d}}(t);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=r.minZoom;var o=function(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return C(t.extent,t.constrainOnlyCenter,e)}var n=Object(v.b)(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,C(r,!1,!1)}return S}(t),l=r.constraint,h=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?Object(k.b)():!1===e?k.d:"number"==typeof e?Object(k.a)(e):k.d}return k.c}(t);this.constraints_={center:o,resolution:l,rotation:h},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom)}},{key:"padding",get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenterInternal();if(n){var r=t||[0,0,0,0];e=e||[0,0,0,0];var o=this.getResolution(),l=o/2*(r[3]-e[3]+e[1]-r[1]),h=o/2*(r[0]-e[0]+e[2]-r[2]);this.setCenterInternal([n[0]+l,n[1]-h])}}},{key:"getUpdatedOptions_",value:function(t){var e=this.getProperties();return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}},{key:"animate",value:function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),i=0;i<e.length;++i){var n=arguments[i];n.center&&((n=Object.assign({},n)).center=Object(v.f)(n.center,this.getProjection())),n.anchor&&((n=Object.assign({},n)).anchor=Object(v.f)(n.anchor,this.getProjection())),e[i]=n}this.animateInternal.apply(this,e)}},{key:"animateInternal",value:function(t){var e,n=arguments.length;n>1&&"function"==typeof arguments[n-1]&&(e=arguments[n-1],--n);for(var i=0;i<n&&!this.isDef();++i){var r=arguments[i];r.center&&this.setCenterInternal(r.center),void 0!==r.zoom?this.setZoom(r.zoom):r.resolution&&this.setResolution(r.resolution),void 0!==r.rotation&&this.setRotation(r.rotation)}if(i!==n){for(var o=Date.now(),l=this.targetCenter_.slice(),h=this.targetResolution_,c=this.targetRotation_,d=[];i<n;++i){var _=arguments[i],m={start:o,complete:!1,anchor:_.anchor,duration:void 0!==_.duration?_.duration:1e3,easing:_.easing||M.c,callback:e};if(_.center&&(m.sourceCenter=l,m.targetCenter=_.center.slice(),l=m.targetCenter),void 0!==_.zoom?(m.sourceResolution=h,m.targetResolution=this.getResolutionForZoom(_.zoom),h=m.targetResolution):_.resolution&&(m.sourceResolution=h,m.targetResolution=_.resolution,h=m.targetResolution),void 0!==_.rotation){m.sourceRotation=c;var v=Object(E.e)(_.rotation-c+Math.PI,2*Math.PI)-Math.PI;m.targetRotation=c+v,c=m.targetRotation}D(m)?m.complete=!0:o+=m.duration,d.push(m)}this.animations_.push(d),this.setHint(f.a.ANIMATING,1),this.updateAnimations_()}else e&&F(e,!0)}},{key:"getAnimating",value:function(){return this.hints_[f.a.ANIMATING]>0}},{key:"getInteracting",value:function(){return this.hints_[f.a.INTERACTING]>0}},{key:"cancelAnimations",value:function(){var t;this.setHint(f.a.ANIMATING,-this.hints_[f.a.ANIMATING]);for(var i=0,e=this.animations_.length;i<e;++i){var n=this.animations_[i];if(n[0].callback&&F(n[0].callback,!1),!t)for(var r=0,o=n.length;r<o;++r){var l=n[r];if(!l.complete){t=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}},{key:"updateAnimations_",value:function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,i=this.animations_.length-1;i>=0;--i){for(var n=this.animations_[i],r=!0,o=0,l=n.length;o<l;++o){var h=n[o];if(!h.complete){var c=t-h.start,d=h.duration>0?c/h.duration:1;d>=1?(h.complete=!0,d=1):r=!1;var progress=h.easing(d);if(h.sourceCenter){var _=h.sourceCenter[0],m=h.sourceCenter[1],v=h.targetCenter[0],y=h.targetCenter[1];this.nextCenter_=h.targetCenter;var x=_+progress*(v-_),O=m+progress*(y-m);this.targetCenter_=[x,O]}if(h.sourceResolution&&h.targetResolution){var C=1===progress?h.targetResolution:h.sourceResolution+progress*(h.targetResolution-h.sourceResolution);if(h.anchor){var S=this.getViewportSize_(this.getRotation()),R=this.constraints_.resolution(C,0,S,!0);this.targetCenter_=this.calculateCenterZoom(R,h.anchor)}this.nextResolution_=h.targetResolution,this.targetResolution_=C,this.applyTargetState_(!0)}if(void 0!==h.sourceRotation&&void 0!==h.targetRotation){var j=1===progress?Object(E.e)(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+progress*(h.targetRotation-h.sourceRotation);if(h.anchor){var w=this.constraints_.rotation(j,!0);this.targetCenter_=this.calculateCenterRotate(w,h.anchor)}this.nextRotation_=h.targetRotation,this.targetRotation_=j}if(this.applyTargetState_(!0),e=!0,!h.complete)break}}if(r){this.animations_[i]=null,this.setHint(f.a.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var T=n[0].callback;T&&F(T,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}}},{key:"calculateCenterRotate",value:function(t,e){var n,r=this.getCenterInternal();return void 0!==r&&(n=[r[0]-e[0],r[1]-e[1]],Object(x.d)(n,t-this.getRotation()),Object(x.a)(n,e)),n}},{key:"calculateCenterZoom",value:function(t,e){var n,r=this.getCenterInternal(),o=this.getResolution();void 0!==r&&void 0!==o&&(n=[e[0]-t*(e[0]-r[0])/o,e[1]-t*(e[1]-r[1])/o]);return n}},{key:"getViewportSize_",value:function(t){var e=this.viewportSize_;if(t){var n=e[0],r=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(r*Math.cos(t))]}return e}},{key:"setViewportSize",value:function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}},{key:"getCenter",value:function(){var t=this.getCenterInternal();return t?Object(v.n)(t,this.getProjection()):t}},{key:"getCenterInternal",value:function(){return this.get(_.CENTER)}},{key:"getConstraints",value:function(){return this.constraints_}},{key:"getConstrainResolution",value:function(){return this.get("constrainResolution")}},{key:"getHints",value:function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}},{key:"calculateExtent",value:function(t){var e=this.calculateExtentInternal(t);return Object(v.o)(e,this.getProjection())}},{key:"calculateExtentInternal",value:function(t){t=t||this.getViewportSizeMinusPadding_();var e=this.getCenterInternal();Object(O.a)(e,1);var n=this.getResolution();Object(O.a)(void 0!==n,2);var r=this.getRotation();return Object(O.a)(void 0!==r,3),Object(R.y)(e,n,r,t)}},{key:"getMaxResolution",value:function(){return this.maxResolution_}},{key:"getMinResolution",value:function(){return this.minResolution_}},{key:"getMaxZoom",value:function(){return this.getZoomForResolution(this.minResolution_)}},{key:"setMaxZoom",value:function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}},{key:"getMinZoom",value:function(){return this.getZoomForResolution(this.maxResolution_)}},{key:"setMinZoom",value:function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}},{key:"setConstrainResolution",value:function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}},{key:"getProjection",value:function(){return this.projection_}},{key:"getResolution",value:function(){return this.get(_.RESOLUTION)}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getResolutionForExtent",value:function(t,e){return this.getResolutionForExtentInternal(Object(v.g)(t,this.getProjection()),e)}},{key:"getResolutionForExtentInternal",value:function(t,e){e=e||this.getViewportSizeMinusPadding_();var n=Object(R.E)(t)/e[0],r=Object(R.z)(t)/e[1];return Math.max(n,r)}},{key:"getResolutionForValueFunction",value:function(t){t=t||2;var e=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,r=Math.log(e/n)/Math.log(t);return function(n){return e/Math.pow(t,n*r)}}},{key:"getRotation",value:function(){return this.get(_.ROTATION)}},{key:"getValueForResolutionFunction",value:function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(n/r)/e;return function(t){return Math.log(n/t)/e/o}}},{key:"getViewportSizeMinusPadding_",value:function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e}},{key:"getState",value:function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),r=this.getCenterInternal(),o=this.padding_;if(o){var l=this.getViewportSizeMinusPadding_();r=N(r,this.getViewportSize_(),[l[0]/2+o[3],l[1]/2+o[0]],e,n)}return{center:r.slice(0),projection:void 0!==t?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}},{key:"getViewStateAndExtent",value:function(){return{viewState:this.getState(),extent:this.calculateExtent()}}},{key:"getZoom",value:function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t}},{key:"getZoomForResolution",value:function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var o=Object(j.e)(this.resolutions_,t,1);r=o,e=this.resolutions_[o],n=o==this.resolutions_.length-1?2:e/this.resolutions_[o+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)}},{key:"getResolutionForZoom",value:function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Object(E.b)(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,Object(E.b)(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}},{key:"fit",value:function(t,e){var n;if(Object(O.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)){Object(O.a)(!Object(R.H)(t),25);var r=Object(v.g)(t,this.getProjection());n=Object(L.b)(r)}else if("Circle"===t.getType()){var o=Object(v.g)(t.getExtent(),this.getProjection());(n=Object(L.b)(o)).rotate(this.getRotation(),Object(R.w)(o))}else{var l=Object(v.m)();n=l?t.clone().transform(l,this.getProjection()):t}this.fitInternal(n,e)}},{key:"rotatedExtentForGeometry",value:function(t){for(var e=this.getRotation(),n=Math.cos(e),r=Math.sin(-e),o=t.getFlatCoordinates(),l=t.getStride(),h=1/0,c=1/0,d=-1/0,f=-1/0,i=0,_=o.length;i<_;i+=l){var m=o[i]*n-o[i+1]*r,v=o[i]*r+o[i+1]*n;h=Math.min(h,m),c=Math.min(c,v),d=Math.max(d,m),f=Math.max(f,v)}return[h,c,d,f]}},{key:"fitInternal",value:function(t,e){var n=(e=e||{}).size;n||(n=this.getViewportSizeMinusPadding_());var r,o=void 0!==e.padding?e.padding:[0,0,0,0],l=void 0!==e.nearest&&e.nearest;r=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.getResolutionForZoom(e.maxZoom):0;var h=this.rotatedExtentForGeometry(t),c=this.getResolutionForExtentInternal(h,[n[0]-o[1]-o[3],n[1]-o[0]-o[2]]);c=isNaN(c)?r:Math.max(c,r),c=this.getConstrainedResolution(c,l?0:1);var d=this.getRotation(),f=Math.sin(d),_=Math.cos(d),m=Object(R.w)(h);m[0]+=(o[1]-o[3])/2*c,m[1]+=(o[0]-o[2])/2*c;var v=m[0]*_-m[1]*f,x=m[1]*_+m[0]*f,O=this.getConstrainedCenter([v,x],c),E=e.callback?e.callback:y.c;void 0!==e.duration?this.animateInternal({resolution:c,center:O,duration:e.duration,easing:e.easing},E):(this.targetResolution_=c,this.targetCenter_=O,this.applyTargetState_(!1,!0),F(E,!0))}},{key:"centerOn",value:function(t,e,n){this.centerOnInternal(Object(v.f)(t,this.getProjection()),e,n)}},{key:"centerOnInternal",value:function(t,e,n){this.setCenterInternal(N(t,e,n,this.getResolution(),this.getRotation()))}},{key:"calculateCenterShift",value:function(t,e,n,r){var o,l=this.padding_;if(l&&t){var h=this.getViewportSizeMinusPadding_(-n),c=N(t,r,[h[0]/2+l[3],h[1]/2+l[0]],e,n);o=[t[0]-c[0],t[1]-c[1]]}return o}},{key:"isDef",value:function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}},{key:"adjustCenter",value:function(t){var e=Object(v.n)(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}},{key:"adjustCenterInternal",value:function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}},{key:"adjustResolution",value:function(t,e){e=e&&Object(v.f)(e,this.getProjection()),this.adjustResolutionInternal(t,e)}},{key:"adjustResolutionInternal",value:function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,r,n);e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()}},{key:"adjustZoom",value:function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}},{key:"adjustRotation",value:function(t,e){e&&(e=Object(v.f)(e,this.getProjection())),this.adjustRotationInternal(t,e)}},{key:"adjustRotationInternal",value:function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()}},{key:"setCenter",value:function(t){this.setCenterInternal(t?Object(v.f)(t,this.getProjection()):t)}},{key:"setCenterInternal",value:function(t){this.targetCenter_=t,this.applyTargetState_()}},{key:"setHint",value:function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}},{key:"setResolution",value:function(t){this.targetResolution_=t,this.applyTargetState_()}},{key:"setRotation",value:function(t){this.targetRotation_=t,this.applyTargetState_()}},{key:"setZoom",value:function(t){this.setResolution(this.getResolutionForZoom(t))}},{key:"applyTargetState_",value:function(t,e){var n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),o=this.getViewportSize_(r),l=this.constraints_.resolution(this.targetResolution_,0,o,n),h=this.constraints_.center(this.targetCenter_,l,o,n,this.calculateCenterShift(this.targetCenter_,l,r,o));this.get(_.ROTATION)!==r&&this.set(_.ROTATION,r),this.get(_.RESOLUTION)!==l&&(this.set(_.RESOLUTION,l),this.set("zoom",this.getZoom(),!0)),h&&this.get(_.CENTER)&&Object(x.b)(this.get(_.CENTER),h)||this.set(_.CENTER,h),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}},{key:"resolveConstraints",value:function(t,e,n){t=void 0!==t?t:200;var r=e||0,o=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(o),h=this.constraints_.resolution(this.targetResolution_,r,l),c=this.constraints_.center(this.targetCenter_,h,l,!1,this.calculateCenterShift(this.targetCenter_,h,o,l));if(0===t&&!this.cancelAnchor_)return this.targetResolution_=h,this.targetRotation_=o,this.targetCenter_=c,void this.applyTargetState_();n=n||(0===t?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===h&&this.getRotation()===o&&this.getCenterInternal()&&Object(x.b)(this.getCenterInternal(),c)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:c,resolution:h,duration:t,easing:M.b,anchor:n}))}},{key:"beginInteraction",value:function(){this.resolveConstraints(0),this.setHint(f.a.INTERACTING,1)}},{key:"endInteraction",value:function(t,e,n){n=n&&Object(v.f)(n,this.getProjection()),this.endInteractionInternal(t,e,n)}},{key:"endInteractionInternal",value:function(t,e,n){this.getInteracting()&&(this.setHint(f.a.INTERACTING,-1),this.resolveConstraints(t,e,n))}},{key:"getConstrainedCenter",value:function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)}},{key:"getConstrainedZoom",value:function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))}},{key:"getConstrainedResolution",value:function(t,e){e=e||0;var n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,n)}}]),n}(d.a);function F(t,e){setTimeout((function(){t(e)}),0)}function D(t){return!(t.sourceCenter&&t.targetCenter&&!Object(x.b)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function N(t,e,n,r,o){var l=Math.cos(-o),h=Math.sin(-o),c=t[0]*l-t[1]*h,d=t[1]*l+t[0]*h;return[(c+=(e[0]/2-n[0])*r)*l-(d+=(n[1]-e[1]/2)*r)*(h=-h),d*l+c*h]}e.a=A},426:function(t,e,n){"use strict";n.d(e,"b",(function(){return x}));var r=n(360),o=n(313),l=n(370),h=n(293),c=n(325),d=n(326),f=n(386);const _=Object(l.c)();class m extends r.a{constructor(){super(),this.extent_=Object(h.j)(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=Object(d.d)((function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);const r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)}))}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return Object(o.a)()}closestPointXY(t,e,n,r){return Object(o.a)()}containsXY(t,e){const n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return Object(o.a)()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Object(h.l)(t),this.extentRevision_=this.getRevision()}return Object(h.I)(this.extent_,t)}rotate(t,e){Object(o.a)()}scale(t,e,n){Object(o.a)()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return Object(o.a)()}getType(){return Object(o.a)()}applyTransform(t){Object(o.a)()}intersectsExtent(t){return Object(o.a)()}translate(t,e){Object(o.a)()}transform(source,t){const e=Object(c.i)(source),n="tile-pixels"==e.getUnits()?function(n,r,o){const d=e.getExtent(),m=e.getWorldExtent(),v=Object(h.z)(m)/Object(h.z)(d);return Object(l.b)(_,m[0],m[3],v,-v,0,0,0),Object(f.c)(n,0,n.length,o,_,r),Object(c.k)(e,t)(n,r,o)}:Object(c.k)(e,t);return this.applyTransform(n),this}}var v=m;function y(t){let e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function x(t,e,n){const r=t.getFlatCoordinates();if(!r)return null;const o=t.getStride();return Object(f.c)(r,0,r.length,o,e,n)}e.a=class extends v{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates=null}computeExtent(t){return Object(h.n)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return Object(o.a)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=y(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){Object(o.a)()}setLayout(t,e,n){let r;if(t)r=y(t);else{for(let i=0;i<n;++i){if(0===e.length)return this.layout="XY",void(this.stride=2);e=e[0]}r=e.length,t=function(t){let e;2==t?e="XY":3==t?e="XYZ":4==t&&(e="XYZM");return e}(r)}this.layout=t,this.stride=r}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(t,e){const n=this.getFlatCoordinates();if(n){const r=this.getStride();Object(f.a)(n,0,n.length,r,t,e,n),this.changed()}}scale(t,e,n){void 0===e&&(e=t),n||(n=Object(h.w)(this.getExtent()));const r=this.getFlatCoordinates();if(r){const o=this.getStride();Object(f.b)(r,0,r.length,o,t,e,n,r),this.changed()}}translate(t,e){const n=this.getFlatCoordinates();if(n){const r=this.getStride();Object(f.d)(n,0,n.length,r,t,e,n),this.changed()}}}},439:function(t,e,n){"use strict";e.a=class{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}},440:function(t,e,n){"use strict";e.a={ANIMATING:0,INTERACTING:1}},441:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return h}));var r=n(293);function o(t,e,n,o,h){return!Object(r.s)(h,(function(r){return!l(t,e,n,o,r[0],r[1])}))}function l(t,e,n,r,o,l){let h=0,c=t[n-r],d=t[n-r+1];for(;e<n;e+=r){const n=t[e],r=t[e+1];d<=l?r>l&&(n-c)*(l-d)-(o-c)*(r-d)>0&&h++:r<=l&&(n-c)*(l-d)-(o-c)*(r-d)<0&&h--,c=n,d=r}return 0!==h}function h(t,e,n,r,o,h){if(0===n.length)return!1;if(!l(t,e,n[0],r,o,h))return!1;for(let i=1,e=n.length;i<e;++i)if(l(t,n[i-1],n[i],r,o,h))return!1;return!0}},442:function(t,e,n){"use strict";function r(t,e,n,r,o){o=void 0!==o?o:[];let i=0;for(let l=e;l<n;l+=r)o[i++]=t.slice(l,l+r);return o.length=i,o}function o(t,e,n,o,l){l=void 0!==l?l:[];let i=0;for(let h=0,c=n.length;h<c;++h){const c=n[h];l[i++]=r(t,e,c,o,l[i]),e=c}return l.length=i,l}function l(t,e,n,r,l){l=void 0!==l?l:[];let i=0;for(let h=0,c=n.length;h<c;++h){const c=n[h];l[i++]=1===c.length&&c[0]===e?[]:o(t,e,c,r,l[i]),e=c[c.length-1]}return l.length=i,l}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return l}))},443:function(t,e,n){"use strict";n(120);var r=n(121),o=n(122),l=n(317),h=n(318),c=n(319),d=n(426),f=n(293),_=n(444),m=n(303);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(c.a)(t);if(e){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var y=function(t){Object(l.a)(n,t);var e=v(n);function n(t,o){var l;return Object(r.a)(this,n),(l=e.call(this)).setCoordinates(t,o),l}return Object(o.a)(n,[{key:"clone",value:function(){var t=new n(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}},{key:"closestPointXY",value:function(t,e,n,r){var o=this.flatCoordinates,l=Object(m.g)(t,e,o[0],o[1]);if(l<r){for(var h=this.stride,i=0;i<h;++i)n[i]=o[i];return n.length=h,l}return r}},{key:"getCoordinates",value:function(){return this.flatCoordinates?this.flatCoordinates.slice():[]}},{key:"computeExtent",value:function(t){return Object(f.m)(this.flatCoordinates,t)}},{key:"getType",value:function(){return"Point"}},{key:"intersectsExtent",value:function(t){return Object(f.h)(t,this.flatCoordinates[0],this.flatCoordinates[1])}},{key:"setCoordinates",value:function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(_.a)(this.flatCoordinates,0,t,this.stride),this.changed()}}]),n}(d.a);e.a=y},444:function(t,e,n){"use strict";function r(t,e,n,r){for(let i=0,r=n.length;i<r;++i)t[e++]=n[i];return e}function o(t,e,n,r){for(let i=0,o=n.length;i<o;++i){const o=n[i];for(let n=0;n<r;++n)t[e++]=o[n]}return e}function l(t,e,n,r,l){l=l||[];let i=0;for(let h=0,c=n.length;h<c;++h){const c=o(t,e,n[h],r);l[i++]=c,e=c}return l.length=i,l}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return l}))},445:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return c}));var r=n(303);function o(t,e,n,o,l,h,c){const d=(n-e)/o;if(d<3){for(;e<n;e+=o)h[c++]=t[e],h[c++]=t[e+1];return c}const f=new Array(d);f[0]=1,f[d-1]=1;const _=[e,n-o];let m=0;for(;_.length>0;){const n=_.pop(),h=_.pop();let c=0;const d=t[h],v=t[h+1],y=t[n],x=t[n+1];for(let i=h+o;i<n;i+=o){const e=t[i],n=t[i+1],o=Object(r.h)(e,n,d,v,y,x);o>c&&(m=i,c=o)}c>l&&(f[(m-e)/o]=1,h+o<m&&_.push(h,m),m+o<n&&_.push(m,n))}for(let i=0;i<d;++i)f[i]&&(h[c++]=t[e+i*o],h[c++]=t[e+i*o+1]);return c}function l(t,e){return e*Math.round(t/e)}function h(t,e,n,r,o,h,c){if(e==n)return c;let d,f,_=l(t[e],o),m=l(t[e+1],o);e+=r,h[c++]=_,h[c++]=m;do{if(d=l(t[e],o),f=l(t[e+1],o),(e+=r)==n)return h[c++]=d,h[c++]=f,c}while(d==_&&f==m);for(;e<n;){const n=l(t[e],o),v=l(t[e+1],o);if(e+=r,n==d&&v==f)continue;const y=d-_,x=f-m,O=n-_,E=v-m;y*E==x*O&&(y<0&&O<y||y==O||y>0&&O>y)&&(x<0&&E<x||x==E||x>0&&E>x)?(d=n,f=v):(h[c++]=d,h[c++]=f,_=d,m=f,d=n,f=v)}return h[c++]=d,h[c++]=f,c}function c(t,e,n,r,o,l,c,d){for(let i=0,f=n.length;i<f;++i){const f=n[i];c=h(t,e,f,r,o,l,c),d.push(c),e=f}return c}},446:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));const r=42,o=256},447:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return c}));var r=n(303);function o(t){if(void 0!==t)return 0}function l(t){if(void 0!==t)return t}function h(t){const e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?t=Math.floor(t/e+.5)*e:void 0}}function c(t){return t=t||Object(r.k)(5),function(e,n){return n?e:void 0!==e?Math.abs(e)<=t?0:e:void 0}}},467:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return h}));var r=n(303);const o=6371008.8;function l(t,e,n){n=n||o;const l=Object(r.k)(t[1]),h=Object(r.k)(e[1]),c=(h-l)/2,d=Object(r.k)(e[0]-t[0])/2,a=Math.sin(c)*Math.sin(c)+Math.sin(d)*Math.sin(d)*Math.cos(l)*Math.cos(h);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function h(t,e,n,l){l=l||o;const h=Object(r.k)(t[1]),c=Object(r.k)(t[0]),d=e/l,f=Math.asin(Math.sin(h)*Math.cos(d)+Math.cos(h)*Math.sin(d)*Math.cos(n)),_=c+Math.atan2(Math.sin(n)*Math.sin(d)*Math.cos(h),Math.cos(d)-Math.sin(h)*Math.sin(f));return[Object(r.i)(_),Object(r.i)(f)]}},468:function(t,e,n){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},469:function(t,e,n){"use strict";const r={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection",69:"`width` or `height` cannot be provided together with `scale`"};class o extends Error{constructor(code){const t=r[code];super(t),this.code=code,this.name="AssertionError",this.message=t}}e.a=o},470:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));const r={info:1,warn:2,error:3,none:4};let o=r.info;function l(...t){o>r.warn||console.warn(...t)}},471:function(t,e,n){"use strict";var r=n(360),o=n(473),l=n(313),h=n(316),c=n(303);class d extends r.a{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);"object"==typeof t.properties&&(delete e.properties,Object.assign(e,t.properties)),e[o.a.OPACITY]=void 0!==t.opacity?t.opacity:1,Object(h.a)("number"==typeof e[o.a.OPACITY],64),e[o.a.VISIBLE]=void 0===t.visible||t.visible,e[o.a.Z_INDEX]=t.zIndex,e[o.a.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,e[o.a.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,e[o.a.MIN_ZOOM]=void 0!==t.minZoom?t.minZoom:-1/0,e[o.a.MAX_ZOOM]=void 0!==t.maxZoom?t.maxZoom:1/0,this.className_=void 0!==e.className?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=Object(c.b)(Math.round(100*this.getOpacity())/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return Object(l.a)()}getLayerStatesArray(t){return Object(l.a)()}getExtent(){return this.get(o.a.EXTENT)}getMaxResolution(){return this.get(o.a.MAX_RESOLUTION)}getMinResolution(){return this.get(o.a.MIN_RESOLUTION)}getMinZoom(){return this.get(o.a.MIN_ZOOM)}getMaxZoom(){return this.get(o.a.MAX_ZOOM)}getOpacity(){return this.get(o.a.OPACITY)}getSourceState(){return Object(l.a)()}getVisible(){return this.get(o.a.VISIBLE)}getZIndex(){return this.get(o.a.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(o.a.EXTENT,t)}setMaxResolution(t){this.set(o.a.MAX_RESOLUTION,t)}setMinResolution(t){this.set(o.a.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(o.a.MAX_ZOOM,t)}setMinZoom(t){this.set(o.a.MIN_ZOOM,t)}setOpacity(t){Object(h.a)("number"==typeof t,64),this.set(o.a.OPACITY,t)}setVisible(t){this.set(o.a.VISIBLE,t)}setZIndex(t){this.set(o.a.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}e.a=d},472:function(t,e,n){"use strict";var r=n(408),o=n(304),l=n(357);class h extends r.a{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(o.a.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=Object(l.a)(this,t[i],e);return r}return Object(l.a)(this,t,e)}onceInternal(t,e){let n;if(Array.isArray(t)){const r=t.length;n=new Array(r);for(let i=0;i<r;++i)n[i]=Object(l.b)(this,t[i],e)}else n=Object(l.b)(this,t,e);return e.ol_key=n,n}unInternal(t,e){const n=e.ol_key;if(n)!function(t){if(Array.isArray(t))for(let i=0,e=t.length;i<e;++i)Object(l.c)(t[i]);else Object(l.c)(t)}(n);else if(Array.isArray(t))for(let i=0,n=t.length;i<n;++i)this.removeEventListener(t[i],e);else this.removeEventListener(t,e)}}h.prototype.on,h.prototype.once,h.prototype.un,e.a=h},473:function(t,e,n){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}},475:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(387);class o{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let i=0;for(const t in this.cache_){const e=this.cache_[t];0!=(3&i++)||e.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}}get(t,e,n){const r=l(t,e,n);return r in this.cache_?this.cache_[r]:null}set(t,e,n,r){const o=l(t,e,n);this.cache_[o]=r,++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function l(t,e,n){return e+":"+t+":"+(n?Object(r.b)(n):"null")}const h=new o},476:function(t,e,n){"use strict";var r=n(369);class o extends r.a{constructor(t,e,n,r){super(t),this.inversePixelTransform=e,this.frameState=n,this.context=r}}e.a=o},478:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));class r{constructor(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function o(t,e,n,o,l){return void 0!==l?(l.minX=t,l.maxX=e,l.minY=n,l.maxY=o,l):new r(t,e,n,o)}e.b=r},479:function(t,e,n){"use strict";var r=n(480),o=n(377),l=n(324),h=n(509);class c extends r.a{constructor(t,e,n,r,o,l){super(t,e,l),this.crossOrigin_=r,this.src_=n,this.key=n,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(element){this.image_=element,this.state=o.a.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=o.a.ERROR,this.unlistenImage_(),this.image_=function(){const t=Object(l.a)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}(),this.changed()}handleImageLoad_(){const image=this.image_;image.naturalWidth&&image.naturalHeight?this.state=o.a.LOADED:this.state=o.a.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==o.a.ERROR&&(this.state=o.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==o.a.IDLE&&(this.state=o.a.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Object(h.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}e.a=c},480:function(t,e,n){"use strict";var r=n(408),o=n(304),l=n(377),h=n(313),c=n(383);class d extends r.a{constructor(t,e,n){super(),n=n||{},this.tileCoord=t,this.state=e,this.interimTile=null,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={},this.interpolate=!!n.interpolate}changed(){this.dispatchEvent(o.a.CHANGE)}release(){this.state===l.a.ERROR&&this.setState(l.a.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let t=this.interimTile;do{if(t.getState()==l.a.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this}refreshInterimChain(){if(!this.interimTile)return;let t=this.interimTile,e=this;do{if(t.getState()==l.a.LOADED){t.interimTile=null;break}t.getState()==l.a.LOADING?e=t:t.getState()==l.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==l.a.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}load(){Object(h.a)()}getAlpha(t,time){if(!this.transition_)return 1;let e=this.transitionStarts_[t];if(e){if(-1===e)return 1}else e=time,this.transitionStarts_[t]=e;const n=time-e+1e3/60;return n>=this.transition_?1:Object(c.a)(n/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}}e.a=d},481:function(t,e,n){"use strict";var r=n(360),o=n(325);class l extends r.a{constructor(t){super(),this.projection=Object(o.i)(t.projection),this.attributions_=h(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:"ready",this.wrapX_=void 0!==t.wrapX&&t.wrapX,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise((function(t,n){e.viewResolver=t,e.viewRejector=n}))}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=h(t),this.changed()}setState(t){this.state_=t,this.changed()}}function h(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.a=l},482:function(t,e,n){"use strict";var r=n(121),o=n(122),l=n(317),h=n(318),c=n(319),d=n(360),f=n(304),_=n(316),m=n(357);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(c.a)(t);if(e){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var y=function(t){Object(l.a)(n,t);var e=v(n);function n(t){var o;if(Object(r.a)(this,n),(o=e.call(this)).on,o.once,o.un,o.id_=void 0,o.geometryName_="geometry",o.style_=null,o.styleFunction_=void 0,o.geometryChangeKey_=null,o.addChangeListener(o.geometryName_,o.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){var l=t;o.setGeometry(l)}else{var h=t;o.setProperties(h)}return o}return Object(o.a)(n,[{key:"clone",value:function(){var t=new n(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var e=this.getGeometry();e&&t.setGeometry(e.clone());var style=this.getStyle();return style&&t.setStyle(style),t}},{key:"getGeometry",value:function(){return this.get(this.geometryName_)}},{key:"getId",value:function(){return this.id_}},{key:"getGeometryName",value:function(){return this.geometryName_}},{key:"getStyle",value:function(){return this.style_}},{key:"getStyleFunction",value:function(){return this.styleFunction_}},{key:"handleGeometryChange_",value:function(){this.changed()}},{key:"handleGeometryChanged_",value:function(){this.geometryChangeKey_&&(Object(m.c)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(m.a)(t,f.a.CHANGE,this.handleGeometryChange_,this)),this.changed()}},{key:"setGeometry",value:function(t){this.set(this.geometryName_,t)}},{key:"setStyle",value:function(style){this.style_=style,this.styleFunction_=style?function(t){if("function"==typeof t)return t;var e;if(Array.isArray(t))e=t;else{Object(_.a)("function"==typeof t.getZIndex,41),e=[t]}return function(){return e}}(style):void 0,this.changed()}},{key:"setId",value:function(t){this.id_=t,this.changed()}},{key:"setGeometryName",value:function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}]),n}(d.a);e.a=y},483:function(t,e,n){"use strict";var r=n(313),o=n(385);class l{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Object(o.c)(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new l({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Object(r.a)()}getImage(t){return Object(r.a)()}getHitDetectionImage(){return Object(r.a)()}getPixelRatio(t){return 1}getImageState(){return Object(r.a)()}getImageSize(){return Object(r.a)()}getOrigin(){return Object(r.a)()}getSize(){return Object(r.a)()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Object(o.c)(t)}listenImageChange(t){Object(r.a)()}load(){Object(r.a)()}unlistenImageChange(t){Object(r.a)()}}e.a=l},484:function(t,e,n){t.exports=function(){"use strict";function t(t,n,r,a,o){!function t(e,n,r,a,o){for(;a>r;){if(a-r>600){var l=a-r+1,s=n-r+1,h=Math.log(l),c=.5*Math.exp(2*h/3),u=.5*Math.sqrt(h*c*(l-c)/l)*(s-l/2<0?-1:1);t(e,n,Math.max(r,Math.floor(n-s*c/l+u)),Math.min(a,Math.floor(n+(l-s)*c/l+u)),o)}var p=e[n],d=r,f=a;for(i(e,r,n),o(e[a],p)>0&&i(e,r,a);d<f;){for(i(e,d,f),d++,f--;o(e[d],p)<0;)d++;for(;o(e[f],p)>0;)f--}0===o(e[r],p)?i(e,r,f):i(e,++f,a),f<=n&&(r=f+1),n<=f&&(a=f-1)}}(t,n,r||0,a||t.length-1,o||e)}function i(t,i,e){var n=t[i];t[i]=t[e],t[e]=n}function e(t,i){return t<i?-1:t>i?1:0}var n=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function r(t,i,e){if(!e)return i.indexOf(t);for(var n=0;n<i.length;n++)if(e(t,i[n]))return n;return-1}function a(t,i){o(t,0,t.children.length,i,t)}function o(t,i,e,n,r){r||(r=p(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var a=i;a<e;a++){var o=t.children[a];l(r,t.leaf?n(o):o)}return r}function l(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function h(t,i){return t.minY-i.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function f(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function _(i,e,n,r,a){for(var o=[e,n];o.length;)if(!((n=o.pop())-(e=o.pop())<=r)){var l=e+Math.ceil((n-e)/r/2)*r;t(i,l,e,n,a),o.push(e,l,l,n)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(t){var i=this.data,e=[];if(!f(t,i))return e;for(var n=this.toBBox,r=[];i;){for(var a=0;a<i.children.length;a++){var o=i.children[a],l=i.leaf?n(o):o;f(t,l)&&(i.leaf?e.push(o):d(t,l)?this._all(o,e):r.push(o))}i=r.pop()}return e},n.prototype.collides=function(t){var i=this.data;if(!f(t,i))return!1;for(var e=[];i;){for(var n=0;n<i.children.length;n++){var r=i.children[n],a=i.leaf?this.toBBox(r):r;if(f(t,a)){if(i.leaf||d(t,a))return!0;e.push(r)}}i=e.pop()}return!1},n.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var e=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){var n=this.data;this.data=e,e=n}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this},n.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},n.prototype.clear=function(){return this.data=p([]),this},n.prototype.remove=function(t,i){if(!t)return this;for(var e,n,a,o=this.data,l=this.toBBox(t),s=[],h=[];o||s.length;){if(o||(o=s.pop(),n=s[s.length-1],e=h.pop(),a=!0),o.leaf){var c=r(t,o.children,i);if(-1!==c)return o.children.splice(c,1),s.push(o),this._condense(s),this}a||o.leaf||!d(o,l)?n?(e++,o=n.children[e],a=!1):o=null:(s.push(o),h.push(e),e=0,n=o,o=o.children[0])}return this},n.prototype.toBBox=function(t){return t},n.prototype.compareMinX=function(t,i){return t.minX-i.minX},n.prototype.compareMinY=function(t,i){return t.minY-i.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(t){return this.data=t,this},n.prototype._all=function(t,i){for(var e=[];t;)t.leaf?i.push.apply(i,t.children):e.push.apply(e,t.children),t=e.pop();return i},n.prototype._build=function(t,i,e,n){var r,o=e-i+1,l=this._maxEntries;if(o<=l)return a(r=p(t.slice(i,e+1)),this.toBBox),r;n||(n=Math.ceil(Math.log(o)/Math.log(l)),l=Math.ceil(o/Math.pow(l,n-1))),(r=p([])).leaf=!1,r.height=n;var s=Math.ceil(o/l),h=s*Math.ceil(Math.sqrt(l));_(t,i,e,h,this.compareMinX);for(var c=i;c<=e;c+=h){var u=Math.min(c+h-1,e);_(t,c,u,s,this.compareMinY);for(var d=c;d<=u;d+=s){var f=Math.min(d+s-1,u);r.children.push(this._build(t,d,f,n-1))}}return a(r,this.toBBox),r},n.prototype._chooseSubtree=function(t,i,e,n){for(;n.push(i),!i.leaf&&n.length-1!==e;){for(var r=1/0,a=1/0,o=void 0,l=0;l<i.children.length;l++){var s=i.children[l],h=c(s),u=(d=t,f=s,(Math.max(f.maxX,d.maxX)-Math.min(f.minX,d.minX))*(Math.max(f.maxY,d.maxY)-Math.min(f.minY,d.minY))-h);u<a?(a=u,r=h<r?h:r,o=s):u===a&&h<r&&(r=h,o=s)}i=o||i.children[0]}var d,f;return i},n.prototype._insert=function(t,i,e){var n=e?t:this.toBBox(t),r=[],a=this._chooseSubtree(n,this.data,i,r);for(a.children.push(t),l(a,n);i>=0&&r[i].children.length>this._maxEntries;)this._split(r,i),i--;this._adjustParentBBoxes(n,r,i)},n.prototype._split=function(t,i){var e=t[i],n=e.children.length,r=this._minEntries;this._chooseSplitAxis(e,r,n);var o=this._chooseSplitIndex(e,r,n),l=p(e.children.splice(o,e.children.length-o));l.height=e.height,l.leaf=e.leaf,a(e,this.toBBox),a(l,this.toBBox),i?t[i-1].children.push(l):this._splitRoot(e,l)},n.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(t,i,e){for(var n,r,a,l,s,h,u,d=1/0,f=1/0,p=i;p<=e-i;p++){var _=o(t,0,p,this.toBBox),m=o(t,p,e,this.toBBox),v=(r=_,a=m,l=void 0,s=void 0,h=void 0,u=void 0,l=Math.max(r.minX,a.minX),s=Math.max(r.minY,a.minY),h=Math.min(r.maxX,a.maxX),u=Math.min(r.maxY,a.maxY),Math.max(0,h-l)*Math.max(0,u-s)),y=c(_)+c(m);v<d?(d=v,n=p,f=y<f?y:f):v===d&&y<f&&(f=y,n=p)}return n||e-i},n.prototype._chooseSplitAxis=function(t,i,e){var n=t.leaf?this.compareMinX:s,r=t.leaf?this.compareMinY:h;this._allDistMargin(t,i,e,n)<this._allDistMargin(t,i,e,r)&&t.children.sort(n)},n.prototype._allDistMargin=function(t,i,e,n){t.children.sort(n);for(var r=this.toBBox,a=o(t,0,i,r),s=o(t,e-i,e,r),h=u(a)+u(s),c=i;c<e-i;c++){var d=t.children[c];l(a,t.leaf?r(d):d),h+=u(a)}for(var f=e-i-1;f>=i;f--){var p=t.children[f];l(s,t.leaf?r(p):p),h+=u(s)}return h},n.prototype._adjustParentBBoxes=function(t,i,e){for(var n=e;n>=0;n--)l(i[n],t)},n.prototype._condense=function(t){for(var i=t.length-1,e=void 0;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},n}()},486:function(t,e,n){"use strict";var r=n(388),o=n(483),l=n(387),h=n(419),c=n(324),d=n(378);class f extends o.a{constructor(t){super({opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,displacement:void 0!==t.displacement?t.displacement:[0,0],declutterMode:t.declutterMode}),this.canvas_=void 0,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.size_=null,this.renderOptions_=null,this.render()}clone(){const t=this.getScale(),style=new f({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return style.setOpacity(this.getOpacity()),style}getAnchor(){const t=this.size_;if(!t)return null;const e=this.getDisplacement(),n=this.getScaleArray();return[t[0]/2-e[0]/n[0],t[1]/2+e[1]/n[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_}getImage(t){let image=this.canvas_[t];if(!image){const e=this.renderOptions_,n=Object(c.a)(e.size*t,e.size*t);this.draw_(e,n,t),image=n.canvas,this.canvas_[t]=image}return image}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return r.a.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;let r=this.radius_,o=void 0===this.radius2_?r:this.radius2_;if(r<o){const t=r;r=o,o=t}const l=void 0===this.radius2_?this.points_:2*this.points_,h=2*Math.PI/l,a=o*Math.sin(h),c=r-Math.sqrt(o*o-a*a),d=Math.sqrt(a*a+c*c),f=d/a;if("miter"===t&&f<=n)return f*e;const _=e/2/f,m=e/2*(c/d),v=Math.sqrt((r+_)*(r+_)+m*m)-r;if(void 0===this.radius2_||"bevel"===t)return 2*v;const y=r*Math.sin(h),dd=o-Math.sqrt(r*r-y*y),x=Math.sqrt(y*y+dd*dd)/y;if(x<=n){const t=x*e/2-o-r;return 2*Math.max(v,t)}return 2*v}createRenderOptions(){let t,e=d.g,n=0,r=null,o=0,l=0;this.stroke_&&(t=this.stroke_.getColor(),null===t&&(t=d.k),t=Object(h.a)(t),l=this.stroke_.getWidth(),void 0===l&&(l=d.h),r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),void 0===e&&(e=d.g),n=this.stroke_.getMiterLimit(),void 0===n&&(n=d.i));const c=this.calculateLineJoinSize_(e,l,n),f=Math.max(this.radius_,this.radius2_||0);return{strokeStyle:t,strokeWidth:l,size:Math.ceil(2*f+c),lineDash:r,lineDashOffset:o,lineJoin:e,miterLimit:n}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.canvas_={},this.size_=[t,t]}draw_(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let t=this.fill_.getColor();null===t&&(t=d.b),e.fillStyle=Object(h.a)(t),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){if(this.fill_){let e=this.fill_.getColor(),n=0;if("string"==typeof e&&(e=Object(l.a)(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){const e=Object(c.a)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(t){let e=this.points_;const n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{const r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);const o=this.angle_-Math.PI/2,l=2*Math.PI/e;for(let i=0;i<e;i++){const e=o+i*l,h=i%2==0?n:r;t.lineTo(h*Math.cos(e),h*Math.sin(e))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=d.b,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}}e.a=f},493:function(t,e,n){"use strict";n(120),n(13),n(50),n(41),n(64),n(48);var r=n(121),o=n(122);function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var h=n(414),c=n(317),d=n(318),f=n(319),_=n(360),m=n(410),v=n(418),y=n(439),x=n(326),O=n(313),E=n(370),C=n(293),S=n(475),R=n(407),j=n(391);class w extends y.a{constructor(map){super(),this.map_=map}dispatchRenderEvent(t,e){Object(O.a)()}calculateMatrices2D(t){const e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;Object(E.b)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(E.d)(r,n)}forEachFeatureAtCoordinate(t,e,n,r,o,l,h,c){let d;const f=e.viewState;function _(t,e,n,r){return o.call(l,e,t?n:null,r)}const m=f.projection,v=Object(j.f)(t.slice(),m),y=[[0,0]];if(m.canWrapX()&&r){const t=m.getExtent(),e=Object(C.E)(t);y.push([-e,0],[e,0])}const x=e.layerStatesArray,O=x.length,E=[],S=[];for(let i=0;i<y.length;i++)for(let r=O-1;r>=0;--r){const o=x[r],l=o.layer;if(l.hasRenderer()&&Object(R.b)(o,f)&&h.call(c,l)){const r=l.getRenderer(),source=l.getSource();if(r&&source){const l=source.getWrapX()?v:t,h=_.bind(null,o.managed);S[0]=l[0]+y[i][0],S[1]=l[1]+y[i][1],d=r.forEachFeatureAtCoordinate(S,e,n,h,E)}if(d)return d}}if(0===E.length)return;const w=1/E.length;return E.forEach(((t,i)=>t.distanceSq+=i*w)),E.sort(((a,b)=>a.distanceSq-b.distanceSq)),E.some((t=>d=t.callback(t.feature,t.layer,t.geometry))),d}hasFeatureAtCoordinate(t,e,n,r,o,l){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,r,x.b,this,o,l)}getMap(){return this.map_}renderFrame(t){Object(O.a)()}scheduleExpireIconCache(t){S.a.canExpireCache()&&t.postRenderFunctions.push(T)}}function T(map,t){S.a.expire()}var I=w,k=n(409),M=n(476),L=n(417),P=n(411),canvas=n(378),A=n(357),F=n(324);var D=class extends I{constructor(map){super(map),this.fontChangeListenerKey_=Object(A.a)(canvas.a,k.a.PROPERTYCHANGE,map.redrawText.bind(map)),this.element_=document.createElement("div");const style=this.element_.style;style.position="absolute",style.width="100%",style.height="100%",style.zIndex="0",this.element_.className=P.d+" ol-layers";const t=map.getViewport();t.insertBefore(this.element_,t.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const map=this.getMap();if(map.hasListener(t)){const n=new M.a(t,void 0,e);map.dispatchEvent(n)}}disposeInternal(){Object(A.c)(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(t){if(!t)return void(this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1));this.calculateMatrices2D(t),this.dispatchRenderEvent(L.a.PRECOMPOSE,t);const e=t.layerStatesArray.sort((function(a,b){return a.zIndex-b.zIndex})),n=t.viewState;this.children_.length=0;const r=[];let o=null;for(let i=0,l=e.length;i<l;++i){const l=e[i];t.layerIndex=i;const h=l.layer,c=h.getSourceState();if(!Object(R.b)(l,n)||"ready"!=c&&"undefined"!=c){h.unrender();continue}const element=h.render(t,o);element&&(element!==o&&(this.children_.push(element),o=element),"getDeclutter"in h&&r.push(h))}for(let i=r.length-1;i>=0;--i)r[i].renderDeclutter(t);Object(F.e)(this.element_,this.children_),this.dispatchRenderEvent(L.a.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}},N=n(304),G=n(471),z=n(369),W=n(316),X=n(359);class B extends z.a{constructor(t,e){super(t),this.layer=e}}const Y="layers";class K extends G.a{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let n=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Y,this.handleLayersChanged_),n?Array.isArray(n)?n=new m.a(n.slice(),{unique:!0}):Object(W.a)("function"==typeof n.getArray,43):n=new m.a(void 0,{unique:!0}),this.setLayers(n)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(A.c),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(Object(A.a)(t,v.a.ADD,this.handleLayersAdd_,this),Object(A.a)(t,v.a.REMOVE,this.handleLayersRemove_,this));for(const t in this.listenerKeys_)this.listenerKeys_[t].forEach(A.c);Object(X.a)(this.listenerKeys_);const e=t.getArray();for(let i=0,t=e.length;i<t;i++){const t=e[i];this.registerLayerListeners_(t),this.dispatchEvent(new B("addlayer",t))}this.changed()}registerLayerListeners_(t){const e=[Object(A.a)(t,k.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(A.a)(t,N.a.CHANGE,this.handleLayerChange_,this)];t instanceof K&&e.push(Object(A.a)(t,"addlayer",this.handleLayerGroupAdd_,this),Object(A.a)(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[Object(O.b)(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new B("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new B("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new B("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,n=Object(O.b)(e);this.listenerKeys_[n].forEach(A.c),delete this.listenerKeys_[n],this.dispatchEvent(new B("removelayer",e)),this.changed()}getLayers(){return this.get(Y)}setLayers(t){const e=this.getLayers();if(e){const t=e.getArray();for(let i=0,e=t.length;i<e;++i)this.dispatchEvent(new B("removelayer",t[i]))}this.set(Y,t)}getLayersArray(t){return t=void 0!==t?t:[],this.getLayers().forEach((function(e){e.getLayersArray(t)})),t}getLayerStatesArray(t){const e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));const r=this.getLayerState();let o=r.zIndex;t||void 0!==r.zIndex||(o=0);for(let i=n,t=e.length;i<t;i++){const t=e[i];t.opacity*=r.opacity,t.visible=t.visible&&r.visible,t.maxResolution=Math.min(t.maxResolution,r.maxResolution),t.minResolution=Math.max(t.minResolution,r.minResolution),t.minZoom=Math.max(t.minZoom,r.minZoom),t.maxZoom=Math.min(t.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==t.extent?t.extent=Object(C.A)(t.extent,r.extent):t.extent=r.extent),void 0===t.zIndex&&(t.zIndex=o)}return e}getSourceState(){return"ready"}}var Z=K;n(42);function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var U=function(t){Object(c.a)(n,t);var e=V(n);function n(t,map,o){var l;return Object(r.a)(this,n),(l=e.call(this,t)).map=map,l.frameState=void 0!==o?o:null,l}return n}(z.a);function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var J=function(t){Object(c.a)(n,t);var e=H(n);function n(t,map,o,l,h,c){var d;return Object(r.a)(this,n),(d=e.call(this,t,map,h)).originalEvent=o,d.pixel_=null,d.coordinate_=null,d.dragging=void 0!==l&&l,d.activePointers=c,d}return Object(o.a)(n,[{key:"pixel",get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t}},{key:"coordinate",get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t}},{key:"preventDefault",value:function(){Object(h.a)(Object(f.a)(n.prototype),"preventDefault",this).call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){Object(h.a)(Object(f.a)(n.prototype),"stopPropagation",this).call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}]),n}(U),Q=(n(477),{SINGLECLICK:"singleclick",CLICK:N.a.CLICK,DBLCLICK:N.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}),$="pointermove",tt="pointerdown",et=n(408),it=n(376);function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var st=function(t){Object(c.a)(n,t);var e=nt(n);function n(map,t){var o;Object(r.a)(this,n),(o=e.call(this,map)).map_=map,o.clickTimeoutId_,o.emulateClicks_=!1,o.dragging_=!1,o.dragListenerKeys_=[],o.moveTolerance_=void 0===t?1:t,o.down_=null;var element=o.map_.getViewport();return o.activePointers_=[],o.trackedTouches_={},o.element_=element,o.pointerdownListenerKey_=Object(A.a)(element,tt,o.handlePointerDown_,l(o)),o.originalPointerMoveEvent_,o.relayedListenerKey_=Object(A.a)(element,$,o.relayMoveEvent_,l(o)),o.boundHandleTouchMove_=o.handleTouchMove_.bind(l(o)),o.element_.addEventListener(N.a.TOUCHMOVE,o.boundHandleTouchMove_,!!it.e&&{passive:!1}),o}return Object(o.a)(n,[{key:"emulateClick_",value:function(t){var e=this,n=new J(Q.CLICK,this.map_,t);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new J(Q.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout((function(){e.clickTimeoutId_=void 0;var n=new J(Q.SINGLECLICK,e.map_,t);e.dispatchEvent(n)}),250)}},{key:"updateActivePointers_",value:function(t){var e=t,n=e.pointerId;if(e.type==Q.POINTERUP||e.type==Q.POINTERCANCEL){for(var r in delete this.trackedTouches_[n],this.trackedTouches_)if(this.trackedTouches_[r].target!==e.target){delete this.trackedTouches_[r];break}}else e.type!=Q.POINTERDOWN&&e.type!=Q.POINTERMOVE||(this.trackedTouches_[n]=e);this.activePointers_=Object.values(this.trackedTouches_)}},{key:"handlePointerUp_",value:function(t){this.updateActivePointers_(t);var e=new J(Q.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(A.c),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}},{key:"isMouseActionButton_",value:function(t){return 0===t.button}},{key:"handlePointerDown_",value:function(t){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(t);var e=new J(Q.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),0===this.dragListenerKeys_.length){var n=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Object(A.a)(n,Q.POINTERMOVE,this.handlePointerMove_,this),Object(A.a)(n,Q.POINTERUP,this.handlePointerUp_,this),Object(A.a)(this.element_,Q.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push(Object(A.a)(this.element_.getRootNode(),Q.POINTERUP,this.handlePointerUp_,this))}}},{key:"handlePointerMove_",value:function(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;var e=new J(Q.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}},{key:"relayMoveEvent_",value:function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new J(Q.POINTERMOVE,this.map_,t,e))}},{key:"handleTouchMove_",value:function(t){var e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"==typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()}},{key:"isMoving_",value:function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}},{key:"disposeInternal",value:function(){this.relayedListenerKey_&&(Object(A.c)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(N.a.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object(A.c)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(A.c),this.dragListenerKeys_.length=0,this.element_=null,Object(h.a)(Object(f.a)(n.prototype),"disposeInternal",this).call(this)}}]),n}(et.a),ot="postrender",at="movestart",lt="moveend",ht="loadstart",ct="loadend",ut="layergroup",gt="size",ft="target",_t="view";const pt=1/0;var mt=class{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Object(X.a)(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,element=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const n=this.keyFunction_(element);return delete this.queuedElements_[n],element}enqueue(element){Object(W.a)(!(this.keyFunction_(element)in this.queuedElements_),31);const t=this.priorityFunction_(element);return t!=pt&&(this.elements_.push(element),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(element)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}getCount(){return this.elements_.length}getLeftChildIndex_(t){return 2*t+1}getRightChildIndex_(t){return 2*t+2}getParentIndex_(t){return t-1>>1}heapify_(){let i;for(i=(this.elements_.length>>1)-1;i>=0;i--)this.siftUp_(i)}isEmpty(){return 0===this.elements_.length}isKeyQueued(t){return t in this.queuedElements_}isQueued(element){return this.isKeyQueued(this.keyFunction_(element))}siftUp_(t){const e=this.elements_,n=this.priorities_,r=e.length,element=e[t],o=n[t],l=t;for(;t<r>>1;){const o=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),h=l<r&&n[l]<n[o]?l:o;e[t]=e[h],n[t]=n[h],t=h}e[t]=element,n[t]=o,this.siftDown_(l,t)}siftDown_(t,e){const n=this.elements_,r=this.priorities_,element=n[e],o=r[e];for(;e>t;){const t=this.getParentIndex_(e);if(!(r[t]>o))break;n[e]=n[t],r[e]=r[t],e=t}n[e]=element,r[e]=o}reprioritize(){const t=this.priorityFunction_,e=this.elements_,n=this.priorities_;let r=0;const o=e.length;let element,i,l;for(i=0;i<o;++i)element=e[i],l=t(element),l==pt?delete this.queuedElements_[this.keyFunction_(element)]:(n[r]=l,e[r++]=element);e.length=r,n.length=r,this.heapify_()}},vt=n(377);var yt=class extends mt{constructor(t,e){super((function(element){return t.apply(null,element)}),(function(element){return element[0].getKey()})),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(element){const t=super.enqueue(element);if(t){element[0].addEventListener(N.a.CHANGE,this.boundHandleTileChange_)}return t}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,n=e.getState();if(n===vt.a.LOADED||n===vt.a.ERROR||n===vt.a.EMPTY){n!==vt.a.ERROR&&e.removeEventListener(N.a.CHANGE,this.boundHandleTileChange_);const t=e.getKey();t in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[t],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let n,r,o,l=0;for(;this.tilesLoading_<t&&l<e&&this.getCount()>0;)r=this.dequeue()[0],o=r.getKey(),n=r.getState(),n!==vt.a.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++l,r.load())}};var bt=n(425),xt=n(440);n(595),n(597),n(598),n(599),n(49),n(603),n(605),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620);function Ot(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var Et=function(t){Object(c.a)(n,t);var e=Ot(n);function n(t){var o;Object(r.a)(this,n),o=e.call(this);var element=t.element;return!element||t.target||element.style.pointerEvents||(element.style.pointerEvents="auto"),o.element=element||null,o.target_=null,o.map_=null,o.listenerKeys=[],t.render&&(o.render=t.render),t.target&&o.setTarget(t.target),o}return Object(o.a)(n,[{key:"disposeInternal",value:function(){Object(F.d)(this.element),Object(h.a)(Object(f.a)(n.prototype),"disposeInternal",this).call(this)}},{key:"getMap",value:function(){return this.map_}},{key:"setMap",value:function(map){this.map_&&Object(F.d)(this.element);for(var i=0,t=this.listenerKeys.length;i<t;++i)Object(A.c)(this.listenerKeys[i]);(this.listenerKeys.length=0,this.map_=map,map)&&((this.target_?this.target_:map.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==x.c&&this.listenerKeys.push(Object(A.a)(map,ot,this.render,this)),map.render())}},{key:"render",value:function(t){}},{key:"setTarget",value:function(t){this.target_="string"==typeof t?document.getElementById(t):t}}]),n}(_.a),Ct=n(320);function St(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var Rt=function(t){Object(c.a)(n,t);var e=St(n);function n(t){var o;Object(r.a)(this,n),t=t||{},(o=e.call(this,{element:document.createElement("div"),render:t.render,target:t.target})).ulElement_=document.createElement("ul"),o.collapsed_=void 0===t.collapsed||t.collapsed,o.userCollapsed_=o.collapsed_,o.overrideCollapsible_=void 0!==t.collapsible,o.collapsible_=void 0===t.collapsible||t.collapsible,o.collapsible_||(o.collapsed_=!1);var h=void 0!==t.className?t.className:"ol-attribution",c=void 0!==t.tipLabel?t.tipLabel:"Attributions",d=void 0!==t.expandClassName?t.expandClassName:h+"-expand",f=void 0!==t.collapseLabel?t.collapseLabel:"›",_=void 0!==t.collapseClassName?t.collapseClassName:h+"-collapse";"string"==typeof f?(o.collapseLabel_=document.createElement("span"),o.collapseLabel_.textContent=f,o.collapseLabel_.className=_):o.collapseLabel_=f;var label=void 0!==t.label?t.label:"i";"string"==typeof label?(o.label_=document.createElement("span"),o.label_.textContent=label,o.label_.className=d):o.label_=label;var m=o.collapsible_&&!o.collapsed_?o.collapseLabel_:o.label_;o.toggleButton_=document.createElement("button"),o.toggleButton_.setAttribute("type","button"),o.toggleButton_.setAttribute("aria-expanded",String(!o.collapsed_)),o.toggleButton_.title=c,o.toggleButton_.appendChild(m),o.toggleButton_.addEventListener(N.a.CLICK,o.handleClick_.bind(l(o)),!1);var v=h+" "+P.d+" "+P.b+(o.collapsed_&&o.collapsible_?" "+P.a:"")+(o.collapsible_?"":" ol-uncollapsible"),element=o.element;return element.className=v,element.appendChild(o.toggleButton_),element.appendChild(o.ulElement_),o.renderedAttributions_=[],o.renderedVisible_=!0,o}return Object(o.a)(n,[{key:"collectSourceAttributions_",value:function(t){var e=Array.from(new Set(this.getMap().getAllLayers().flatMap((function(e){return e.getAttributions(t)})))),n=!this.getMap().getAllLayers().some((function(t){return t.getSource()&&!1===t.getSource().getAttributionsCollapsible()}));return this.overrideCollapsible_||this.setCollapsible(n),e}},{key:"updateElement_",value:function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Object(Ct.b)(e,this.renderedAttributions_)){Object(F.c)(this.ulElement_);for(var i=0,r=e.length;i<r;++i){var element=document.createElement("li");element.innerHTML=e[i],this.ulElement_.appendChild(element)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)}},{key:"handleClick_",value:function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}},{key:"handleToggle_",value:function(){this.element.classList.toggle(P.a),this.collapsed_?Object(F.f)(this.collapseLabel_,this.label_):Object(F.f)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}},{key:"getCollapsible",value:function(){return this.collapsible_}},{key:"setCollapsible",value:function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}},{key:"setCollapsed",value:function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"render",value:function(t){this.updateElement_(t.frameState)}}]),n}(Et),jt=n(383);function wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var Tt=function(t){Object(c.a)(n,t);var e=wt(n);function n(t){var o;Object(r.a)(this,n),t=t||{},o=e.call(this,{element:document.createElement("div"),render:t.render,target:t.target});var h=void 0!==t.className?t.className:"ol-rotate",label=void 0!==t.label?t.label:"⇧",c=void 0!==t.compassClassName?t.compassClassName:"ol-compass";o.label_=null,"string"==typeof label?(o.label_=document.createElement("span"),o.label_.className=c,o.label_.textContent=label):(o.label_=label,o.label_.classList.add(c));var d=t.tipLabel?t.tipLabel:"Reset rotation",button=document.createElement("button");button.className=h+"-reset",button.setAttribute("type","button"),button.title=d,button.appendChild(o.label_),button.addEventListener(N.a.CLICK,o.handleClick_.bind(l(o)),!1);var f=h+" "+P.d+" "+P.b,element=o.element;return element.className=f,element.appendChild(button),o.callResetNorth_=t.resetNorth?t.resetNorth:void 0,o.duration_=void 0!==t.duration?t.duration:250,o.autoHide_=void 0===t.autoHide||t.autoHide,o.rotation_=void 0,o.autoHide_&&o.element.classList.add(P.c),o}return Object(o.a)(n,[{key:"handleClick_",value:function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}},{key:"resetNorth_",value:function(){var view=this.getMap().getView();if(view){var t=view.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!=0?view.animate({rotation:0,duration:this.duration_,easing:jt.b}):view.setRotation(0))}}},{key:"render",value:function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var o=this.element.classList.contains(P.c);o||0!==n?o&&0!==n&&this.element.classList.remove(P.c):this.element.classList.add(P.c)}this.label_.style.transform=r}this.rotation_=n}}}]),n}(Et);function It(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var kt=function(t){Object(c.a)(n,t);var e=It(n);function n(t){var o;Object(r.a)(this,n),t=t||{},o=e.call(this,{element:document.createElement("div"),target:t.target});var h=void 0!==t.className?t.className:"ol-zoom",c=void 0!==t.delta?t.delta:1,d=void 0!==t.zoomInClassName?t.zoomInClassName:h+"-in",f=void 0!==t.zoomOutClassName?t.zoomOutClassName:h+"-out",_=void 0!==t.zoomInLabel?t.zoomInLabel:"+",m=void 0!==t.zoomOutLabel?t.zoomOutLabel:"–",v=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",y=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",x=document.createElement("button");x.className=d,x.setAttribute("type","button"),x.title=v,x.appendChild("string"==typeof _?document.createTextNode(_):_),x.addEventListener(N.a.CLICK,o.handleClick_.bind(l(o),c),!1);var O=document.createElement("button");O.className=f,O.setAttribute("type","button"),O.title=y,O.appendChild("string"==typeof m?document.createTextNode(m):m),O.addEventListener(N.a.CLICK,o.handleClick_.bind(l(o),-c),!1);var E=h+" "+P.d+" "+P.b,element=o.element;return element.className=E,element.appendChild(x),element.appendChild(O),o.duration_=void 0!==t.duration?t.duration:250,o}return Object(o.a)(n,[{key:"handleClick_",value:function(t,e){e.preventDefault(),this.zoomByDelta_(t)}},{key:"zoomByDelta_",value:function(t){var view=this.getMap().getView();if(view){var e=view.getZoom();if(void 0!==e){var n=view.getConstrainedZoom(e+t);this.duration_>0?(view.getAnimating()&&view.cancelAnimations(),view.animate({zoom:n,duration:this.duration_,easing:jt.b})):view.setZoom(n)}}}}]),n}(Et);var Mt="active";class Lt extends _.a{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Mt)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(Mt,t)}setMap(map){this.map_=map}}function Pt(view,t,e,n){const r=view.getZoom();if(void 0===r)return;const o=view.getConstrainedZoom(r+t),l=view.getResolutionForZoom(o);view.getAnimating()&&view.cancelAnimations(),view.animate({resolution:l,anchor:e,duration:void 0!==n?n:250,easing:jt.b})}var At=Lt;var Ft=class extends At{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){let e=!1;if(t.type==Q.DBLCLICK){const n=t.originalEvent,map=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_;Pt(map.getView(),o,r,this.duration_),n.preventDefault(),e=!0}return!e}};function Dt(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}var Nt=class extends At{constructor(t){super(t=t||{}),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Q.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Q.POINTERUP){const e=this.handleUpEvent(t);this.handlingDownUpSequence=e&&this.targetPointers.length>0}}else if(t.type==Q.POINTERDOWN){const n=this.handleDownEvent(t);this.handlingDownUpSequence=n,e=this.stopDown(n)}else t.type==Q.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}};function Gt(t){const e=arguments;return function(t){let n=!0;for(let i=0,r=e.length;i<r&&(n=n&&e[i](t),n);++i);return n}}const zt=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Wt=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)}(t)},Xt=x.b,Bt=function(t){const e=t.originalEvent;return 0==e.button&&!(it.f&&it.d&&e.ctrlKey)},Yt=(x.a,function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey}),Kt=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Zt=function(t){const e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!e.target.isContentEditable},Vt=function(t){const e=t.originalEvent;return Object(W.a)(void 0!==e,56),"mouse"==e.pointerType},Ut=function(t){const e=t.originalEvent;return Object(W.a)(void 0!==e,56),e.isPrimary&&0===e.button};var Ht=class extends Nt{constructor(t){super({stopDown:x.a}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:Gt(Yt,Ut);this.condition_=t.onFocusOnly?Gt(Wt,e):e,this.noKinetic_=!1}handleDragEvent(t){const map=t.map;this.panning_||(this.panning_=!0,map.getView().beginInteraction());const e=this.targetPointers,n=map.getEventPixel(Dt(e));if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){const e=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],view=t.map.getView();Object(j.e)(e,view.getResolution()),Object(j.d)(e,view.getRotation()),view.adjustCenterInternal(e)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()}handleUpEvent(t){const map=t.map,view=map.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const t=this.kinetic_.getDistance(),e=this.kinetic_.getAngle(),n=view.getCenterInternal(),r=map.getPixelFromCoordinateInternal(n),o=map.getCoordinateFromPixelInternal([r[0]-t*Math.cos(e),r[1]-t*Math.sin(e)]);view.animateInternal({center:view.getConstrainedCenter(o),duration:500,easing:jt.b})}return this.panning_&&(this.panning_=!1,view.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const view=t.map.getView();return this.lastCentroid=null,view.getAnimating()&&view.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}},qt=n(447);var Jt=class extends Nt{constructor(t){t=t||{},super({stopDown:x.a}),this.condition_=t.condition?t.condition:zt,this.lastAngle_=void 0,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if(!Vt(t))return;const map=t.map,view=map.getView();if(view.getConstraints().rotation===qt.c)return;const e=map.getSize(),n=t.pixel,r=Math.atan2(e[1]/2-n[1],n[0]-e[0]/2);if(void 0!==this.lastAngle_){const t=r-this.lastAngle_;view.adjustRotationInternal(-t)}this.lastAngle_=r}handleUpEvent(t){if(!Vt(t))return!0;return t.map.getView().endInteraction(this.duration_),!1}handleDownEvent(t){if(!Vt(t))return!1;if(Bt(t)&&this.condition_(t)){return t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1}},Qt=n(496);class $t extends y.a{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,n="px",style=this.element_.style;style.left=Math.min(t[0],e[0])+n,style.top=Math.min(t[1],e[1])+n,style.width=Math.abs(e[0]-t[0])+n,style.height=Math.abs(e[1]-t[1])+n}setMap(map){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const style=this.element_.style;style.left="inherit",style.top="inherit",style.width="inherit",style.height="inherit"}this.map_=map,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Qt.a([n])}getGeometry(){return this.geometry_}}var te=$t;const ee="boxstart",ie="boxdrag",ne="boxend",re="boxcancel";class se extends z.a{constructor(t,e,n){super(t),this.coordinate=e,this.mapBrowserEvent=n}}var oe=class extends Nt{constructor(t){super(),this.on,this.once,this.un,t=t||{},this.box_=new te(t.className||"ol-dragbox"),this.minArea_=void 0!==t.minArea?t.minArea:64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition?t.condition:Bt,this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,n){const r=n[0]-e[0],o=n[1]-e[1];return r*r+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new se(ie,t.coordinate,t))}handleUpEvent(t){this.box_.setMap(null);const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new se(e?ne:re,t.coordinate,t)),!1}handleDownEvent(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new se(ee,t.coordinate,t)),!0)}onBoxEnd(t){}};var ae=class extends oe{constructor(t){super({condition:(t=t||{}).condition?t.condition:Kt,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=void 0!==t.duration?t.duration:200,this.out_=void 0!==t.out&&t.out}onBoxEnd(t){const view=this.getMap().getView();let e=this.getGeometry();if(this.out_){const t=view.rotatedExtentForGeometry(e),n=view.getResolutionForExtentInternal(t),r=view.getResolution()/n;e=e.clone(),e.scale(r*r)}view.fitInternal(e,{duration:this.duration_,easing:jt.b})}},le=37,he=38,ce=39,ue=40;var de=class extends At{constructor(t){super(),t=t||{},this.defaultCondition_=function(t){return Yt(t)&&Zt(t)},this.condition_=void 0!==t.condition?t.condition:this.defaultCondition_,this.duration_=void 0!==t.duration?t.duration:100,this.pixelDelta_=void 0!==t.pixelDelta?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==N.a.KEYDOWN){const n=t.originalEvent,r=n.keyCode;if(this.condition_(t)&&(r==ue||r==le||r==ce||r==he)){const view=t.map.getView(),o=view.getResolution()*this.pixelDelta_;let l=0,h=0;r==ue?h=-o:r==le?l=-o:r==ce?l=o:h=o;const c=[l,h];Object(j.d)(c,view.getRotation()),function(view,t,e){const n=view.getCenterInternal();if(n){const r=[n[0]+t[0],n[1]+t[1]];view.animateInternal({duration:void 0!==e?e:250,easing:jt.d,center:view.getConstrainedCenter(r)})}}(view,c,this.duration_),n.preventDefault(),e=!0}}return!e}};var ge=class extends At{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:Zt,this.delta_=t.delta?t.delta:1,this.duration_=void 0!==t.duration?t.duration:100}handleEvent(t){let e=!1;if(t.type==N.a.KEYDOWN||t.type==N.a.KEYPRESS){const n=t.originalEvent,r=n.key;if(this.condition_(t)&&("+"===r||"-"===r)){const map=t.map,o="+"===r?this.delta_:-this.delta_;Pt(map.getView(),o,void 0,this.duration_),n.preventDefault(),e=!0}}return!e}};var fe=class{constructor(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let n=e-3;for(;n>0&&this.points_[n+2]>t;)n-=3;const r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;const o=this.points_[e]-this.points_[n],l=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(l,o),this.initialVelocity_=Math.sqrt(o*o+l*l)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}},_e=n(303);var pe=class extends At{constructor(t){super(t=t||{}),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=void 0!==t.maxDelta?t.maxDelta:1,this.duration_=void 0!==t.duration?t.duration:250,this.timeout_=void 0!==t.timeout?t.timeout:80,this.useAnchor_=void 0===t.useAnchor||t.useAnchor,this.constrainResolution_=void 0!==t.constrainResolution&&t.constrainResolution;const e=t.condition?t.condition:Xt;this.condition_=t.onFocusOnly?Gt(Wt,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const map=this.getMap();if(!map)return;map.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(t){if(!this.condition_(t))return!0;if(t.type!==N.a.WHEEL)return!0;const map=t.map,e=t.originalEvent;let n;if(e.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==N.a.WHEEL&&(n=e.deltaY,it.b&&e.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=it.a),e.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)),0===n)return!1;this.lastDelta_=n;const r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?"trackpad":"wheel");const view=map.getView();if("trackpad"===this.mode_&&!view.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(view.getAnimating()&&view.cancelAnimations(),view.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),view.adjustZoom(-n/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=r,!1;this.totalDelta_+=n;const o=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,map),o),!1}handleWheelZoom_(map){const view=map.getView();view.getAnimating()&&view.cancelAnimations();let t=-Object(_e.b)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(view.getConstrainResolution()||this.constrainResolution_)&&(t=t?t>0?1:-1:0),Pt(view,t,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}};var me=class extends Nt{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=x.a),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==t.threshold?t.threshold:.3,this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){let e=0;const n=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){const t=o-this.lastAngle_;this.rotationDelta_+=t,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=t}this.lastAngle_=o;const map=t.map,view=map.getView();view.getConstraints().rotation!==qt.c&&(this.anchor_=map.getCoordinateFromPixelInternal(map.getEventPixel(Dt(this.targetPointers))),this.rotating_&&(map.render(),view.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){if(this.targetPointers.length<2){return t.map.getView().endInteraction(this.duration_),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const map=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||map.getView().beginInteraction(),!0}return!1}};var ve=class extends Nt{constructor(t){const e=t=t||{};e.stopDown||(e.stopDown=x.a),super(e),this.anchor_=null,this.duration_=void 0!==t.duration?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const n=this.targetPointers[0],r=this.targetPointers[1],o=n.clientX-r.clientX,l=n.clientY-r.clientY,h=Math.sqrt(o*o+l*l);void 0!==this.lastDistance_&&(e=this.lastDistance_/h),this.lastDistance_=h;const map=t.map,view=map.getView();1!=e&&(this.lastScaleDelta_=e),this.anchor_=map.getCoordinateFromPixelInternal(map.getEventPixel(Dt(this.targetPointers))),map.render(),view.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const view=t.map.getView(),e=this.lastScaleDelta_>1?1:-1;return view.endInteraction(this.duration_,e),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const map=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||map.getView().beginInteraction(),!0}return!1}};var ye=n(325),be=n(385),xe=n(470);function Oe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}function Ee(t){t instanceof R.a?t.setMapInternal(null):t instanceof Z&&t.getLayers().forEach(Ee)}function Ce(t,map){if(t instanceof R.a)t.setMapInternal(map);else if(t instanceof Z)for(var e=t.getLayers().getArray(),i=0,n=e.length;i<n;++i)Ce(e[i],map)}var Se=function(t){Object(c.a)(n,t);var e=Oe(n);function n(t){var o;Object(r.a)(this,n),t=t||{},(o=e.call(this)).on,o.once,o.un;var h=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,r,o,l={},h=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new Z({layers:t.layers});l[ut]=h,l[ft]=t.target,l[_t]=t.view instanceof bt.a?t.view:new bt.a,void 0!==t.controls&&(Array.isArray(t.controls)?n=new m.a(t.controls.slice()):(Object(W.a)("function"==typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new m.a(t.interactions.slice()):(Object(W.a)("function"==typeof t.interactions.getArray,48),r=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new m.a(t.overlays.slice()):(Object(W.a)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new m.a;return{controls:n,interactions:r,keyboardEventTarget:e,overlays:o,values:l}}(t);o.renderComplete_,o.loaded_=!0,o.boundHandleBrowserEvent_=o.handleBrowserEvent.bind(l(o)),o.maxTilesLoading_=void 0!==t.maxTilesLoading?t.maxTilesLoading:16,o.pixelRatio_=void 0!==t.pixelRatio?t.pixelRatio:it.a,o.postRenderTimeoutHandle_,o.animationDelayKey_,o.animationDelay_=o.animationDelay_.bind(l(o)),o.coordinateToPixelTransform_=Object(E.c)(),o.pixelToCoordinateTransform_=Object(E.c)(),o.frameIndex_=0,o.frameState_=null,o.previousExtent_=null,o.viewPropertyListenerKey_=null,o.viewChangeListenerKey_=null,o.layerGroupPropertyListenerKeys_=null,o.viewport_=document.createElement("div"),o.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),o.viewport_.style.position="relative",o.viewport_.style.overflow="hidden",o.viewport_.style.width="100%",o.viewport_.style.height="100%",o.overlayContainer_=document.createElement("div"),o.overlayContainer_.style.position="absolute",o.overlayContainer_.style.zIndex="0",o.overlayContainer_.style.width="100%",o.overlayContainer_.style.height="100%",o.overlayContainer_.style.pointerEvents="none",o.overlayContainer_.className="ol-overlaycontainer",o.viewport_.appendChild(o.overlayContainer_),o.overlayContainerStopEvent_=document.createElement("div"),o.overlayContainerStopEvent_.style.position="absolute",o.overlayContainerStopEvent_.style.zIndex="0",o.overlayContainerStopEvent_.style.width="100%",o.overlayContainerStopEvent_.style.height="100%",o.overlayContainerStopEvent_.style.pointerEvents="none",o.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",o.viewport_.appendChild(o.overlayContainerStopEvent_),o.mapBrowserEventHandler_=null,o.moveTolerance_=t.moveTolerance,o.keyboardEventTarget_=h.keyboardEventTarget,o.targetChangeHandlerKeys_=null,o.targetElement_=null,o.resizeObserver_=new ResizeObserver((function(){return o.updateSize()})),o.controls=h.controls||function(t){t=t||{};var e=new m.a;return(void 0===t.zoom||t.zoom)&&e.push(new kt(t.zoomOptions)),(void 0===t.rotate||t.rotate)&&e.push(new Tt(t.rotateOptions)),(void 0===t.attribution||t.attribution)&&e.push(new Rt(t.attributionOptions)),e}(),o.interactions=h.interactions||function(t){t=t||{};const e=new m.a,n=new fe(-.005,.05,100);return(void 0===t.altShiftDragRotate||t.altShiftDragRotate)&&e.push(new Jt),(void 0===t.doubleClickZoom||t.doubleClickZoom)&&e.push(new Ft({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0===t.dragPan||t.dragPan)&&e.push(new Ht({onFocusOnly:t.onFocusOnly,kinetic:n})),(void 0===t.pinchRotate||t.pinchRotate)&&e.push(new me),(void 0===t.pinchZoom||t.pinchZoom)&&e.push(new ve({duration:t.zoomDuration})),(void 0===t.keyboard||t.keyboard)&&(e.push(new de),e.push(new ge({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0===t.mouseWheelZoom||t.mouseWheelZoom)&&e.push(new pe({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(void 0===t.shiftDragZoom||t.shiftDragZoom)&&e.push(new ae({duration:t.zoomDuration})),e}({onFocusOnly:!0}),o.overlays_=h.overlays,o.overlayIdIndex_={},o.renderer_=null,o.postRenderFunctions_=[],o.tileQueue_=new yt(o.getTilePriority.bind(l(o)),o.handleTileChange_.bind(l(o))),o.addChangeListener(ut,o.handleLayerGroupChanged_),o.addChangeListener(_t,o.handleViewChanged_),o.addChangeListener(gt,o.handleSizeChanged_),o.addChangeListener(ft,o.handleTargetChanged_),o.setProperties(h.values);var map=l(o);return!t.view||t.view instanceof bt.a||t.view.then((function(t){map.setView(new bt.a(t))})),o.controls.addEventListener(v.a.ADD,(function(t){t.element.setMap(l(o))})),o.controls.addEventListener(v.a.REMOVE,(function(t){t.element.setMap(null)})),o.interactions.addEventListener(v.a.ADD,(function(t){t.element.setMap(l(o))})),o.interactions.addEventListener(v.a.REMOVE,(function(t){t.element.setMap(null)})),o.overlays_.addEventListener(v.a.ADD,(function(t){o.addOverlayInternal_(t.element)})),o.overlays_.addEventListener(v.a.REMOVE,(function(t){var e=t.element.getId();void 0!==e&&delete o.overlayIdIndex_[e.toString()],t.element.setMap(null)})),o.controls.forEach((function(t){t.setMap(l(o))})),o.interactions.forEach((function(t){t.setMap(l(o))})),o.overlays_.forEach(o.addOverlayInternal_.bind(l(o))),o}return Object(o.a)(n,[{key:"addControl",value:function(t){this.getControls().push(t)}},{key:"addInteraction",value:function(t){this.getInteractions().push(t)}},{key:"addLayer",value:function(t){this.getLayerGroup().getLayers().push(t)}},{key:"handleLayerAdd_",value:function(t){Ce(t.layer,this)}},{key:"addOverlay",value:function(t){this.getOverlays().push(t)}},{key:"addOverlayInternal_",value:function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}},{key:"disposeInternal",value:function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),Object(h.a)(Object(f.a)(n.prototype),"disposeInternal",this).call(this)}},{key:"forEachFeatureAtPixel",value:function(t,e,n){if(this.frameState_&&this.renderer_){var r=this.getCoordinateFromPixelInternal(t),o=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,l=void 0!==n.layerFilter?n.layerFilter:x.b,h=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,h,e,null,l,null)}}},{key:"getFeaturesAtPixel",value:function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n}},{key:"getAllLayers",value:function(){var t=[];return function e(n){n.forEach((function(n){n instanceof Z?e(n.getLayers()):t.push(n)}))}(this.getLayers()),t}},{key:"hasFeatureAtPixel",value:function(t,e){if(!this.frameState_||!this.renderer_)return!1;var n=this.getCoordinateFromPixelInternal(t),r=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:x.b,o=void 0!==e.hitTolerance?e.hitTolerance:0,l=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,o,l,r,null)}},{key:"getEventCoordinate",value:function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}},{key:"getEventCoordinateInternal",value:function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}},{key:"getEventPixel",value:function(t){var e=this.viewport_.getBoundingClientRect(),n=this.getSize(),r=e.width/n[0],o=e.height/n[1],l="changedTouches"in t?t.changedTouches[0]:t;return[(l.clientX-e.left)/r,(l.clientY-e.top)/o]}},{key:"getTarget",value:function(){return this.get(ft)}},{key:"getTargetElement",value:function(){return this.targetElement_}},{key:"getCoordinateFromPixel",value:function(t){return Object(ye.n)(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}},{key:"getCoordinateFromPixelInternal",value:function(t){var e=this.frameState_;return e?Object(E.a)(e.pixelToCoordinateTransform,t.slice()):null}},{key:"getControls",value:function(){return this.controls}},{key:"getOverlays",value:function(){return this.overlays_}},{key:"getOverlayById",value:function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null}},{key:"getInteractions",value:function(){return this.interactions}},{key:"getLayerGroup",value:function(){return this.get(ut)}},{key:"setLayers",value:function(t){var e=this.getLayerGroup();if(t instanceof m.a)e.setLayers(t);else{var n=e.getLayers();n.clear(),n.extend(t)}}},{key:"getLayers",value:function(){return this.getLayerGroup().getLayers()}},{key:"getLoadingOrNotReady",value:function(){for(var t=this.getLayerGroup().getLayerStatesArray(),i=0,e=t.length;i<e;++i){var n=t[i];if(n.visible){var r=n.layer.getRenderer();if(r&&!r.ready)return!0;var source=n.layer.getSource();if(source&&source.loading)return!0}}return!1}},{key:"getPixelFromCoordinate",value:function(t){var e=Object(ye.f)(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}},{key:"getPixelFromCoordinateInternal",value:function(t){var e=this.frameState_;return e?Object(E.a)(e.coordinateToPixelTransform,t.slice(0,2)):null}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"getSize",value:function(){return this.get(gt)}},{key:"getView",value:function(){return this.get(_t)}},{key:"getViewport",value:function(){return this.viewport_}},{key:"getOverlayContainer",value:function(){return this.overlayContainer_}},{key:"getOverlayContainerStopEvent",value:function(){return this.overlayContainerStopEvent_}},{key:"getOwnerDocument",value:function(){var t=this.getTargetElement();return t?t.ownerDocument:document}},{key:"getTilePriority",value:function(t,e,n,r){return function(t,e,n,r,o){if(!t||!(n in t.wantedTiles))return pt;if(!t.wantedTiles[n][e.getKey()])return pt;const l=t.viewState.center,h=r[0]-l[0],c=r[1]-l[1];return 65536*Math.log(o)+Math.sqrt(h*h+c*c)/o}(this.frameState_,t,e,n,r)}},{key:"handleBrowserEvent",value:function(t,e){e=e||t.type;var n=new J(e,this,t);this.handleMapBrowserEvent(n)}},{key:"handleMapBrowserEvent",value:function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if(n===tt||n===N.a.WHEEL||n===N.a.KEYDOWN){var r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,l=e.target;if(this.overlayContainerStopEvent_.contains(l)||!(o===r?r.documentElement:o).contains(l))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var h=this.getInteractions().getArray().slice(),i=h.length-1;i>=0;i--){var c=h[i];if(c.getMap()===this&&c.getActive()&&this.getTargetElement())if(!c.handleEvent(t)||t.propagationStopped)break}}}},{key:"handlePostRender",value:function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,r=n;if(t){var o=t.viewHints;if(o[xt.a.ANIMATING]||o[xt.a.INTERACTING]){var l=Date.now()-t.time>8;n=l?0:8,r=l?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}t&&this.renderer_&&!t.animate&&(!0===this.renderComplete_?(this.hasListener(L.a.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(L.a.RENDERCOMPLETE,t),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new U(ct,this,t)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new U(ht,this,t))));for(var h=this.postRenderFunctions_,i=0,c=h.length;i<c;++i)h[i](this,t);h.length=0}},{key:"handleSizeChanged_",value:function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}},{key:"handleTargetChanged_",value:function(){if(this.mapBrowserEventHandler_){for(var i=0,t=this.targetChangeHandlerKeys_.length;i<t;++i)Object(A.c)(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(N.a.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(N.a.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Object(F.d)(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);var e=this.targetElement_.getRootNode();e instanceof ShadowRoot&&this.resizeObserver_.unobserve(e.host)}var n=this.getTarget(),r="string"==typeof n?document.getElementById(n):n;if(this.targetElement_=r,r){for(var o in r.appendChild(this.viewport_),this.renderer_||(this.renderer_=new D(this)),this.mapBrowserEventHandler_=new st(this,this.moveTolerance_),Q)this.mapBrowserEventHandler_.addEventListener(Q[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(N.a.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(N.a.WHEEL,this.boundHandleBrowserEvent_,!!it.e&&{passive:!1});var l=this.keyboardEventTarget_?this.keyboardEventTarget_:r;this.targetChangeHandlerKeys_=[Object(A.a)(l,N.a.KEYDOWN,this.handleBrowserEvent,this),Object(A.a)(l,N.a.KEYPRESS,this.handleBrowserEvent,this)];var h=r.getRootNode();h instanceof ShadowRoot&&this.resizeObserver_.observe(h.host),this.resizeObserver_.observe(r)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}},{key:"handleTileChange_",value:function(){this.render()}},{key:"handleViewPropertyChanged_",value:function(){this.render()}},{key:"handleViewChanged_",value:function(){this.viewPropertyListenerKey_&&(Object(A.c)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(A.c)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var view=this.getView();view&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object(A.a)(view,k.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(A.a)(view,N.a.CHANGE,this.handleViewPropertyChanged_,this),view.resolveConstraints(0)),this.render()}},{key:"handleLayerGroupChanged_",value:function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(A.c),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.handleLayerAdd_(new B("addlayer",t)),this.layerGroupPropertyListenerKeys_=[Object(A.a)(t,k.a.PROPERTYCHANGE,this.render,this),Object(A.a)(t,N.a.CHANGE,this.render,this),Object(A.a)(t,"addlayer",this.handleLayerAdd_,this),Object(A.a)(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}},{key:"isRendered",value:function(){return!!this.frameState_}},{key:"animationDelay_",value:function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}},{key:"renderSync",value:function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}},{key:"redrawText",value:function(){for(var t=this.getLayerGroup().getLayerStatesArray(),i=0,e=t.length;i<e;++i){var n=t[i].layer;n.hasRenderer()&&n.getRenderer().handleFontsChanged()}}},{key:"render",value:function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}},{key:"removeControl",value:function(t){return this.getControls().remove(t)}},{key:"removeInteraction",value:function(t){return this.getInteractions().remove(t)}},{key:"removeLayer",value:function(t){return this.getLayerGroup().getLayers().remove(t)}},{key:"handleLayerRemove_",value:function(t){Ee(t.layer)}},{key:"removeOverlay",value:function(t){return this.getOverlays().remove(t)}},{key:"renderFrame_",value:function(time){var t=this,e=this.getSize(),view=this.getView(),n=this.frameState_,r=null;if(void 0!==e&&Object(be.a)(e)&&view&&view.isDef()){var o=view.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=view.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Object(C.y)(l.center,l.resolution,l.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:time,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{},mapId:Object(O.b)(this),renderTargets:{}},l.nextCenter&&l.nextResolution){var h=isNaN(l.nextRotation)?l.rotation:l.nextRotation;r.nextExtent=Object(C.y)(l.nextCenter,l.nextResolution,h,e)}}if(this.frameState_=r,this.renderer_.renderFrame(r),r){if(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),n)(!this.previousExtent_||!Object(C.H)(this.previousExtent_)&&!Object(C.o)(r.extent,this.previousExtent_))&&(this.dispatchEvent(new U(at,this,n)),this.previousExtent_=Object(C.l)(this.previousExtent_));this.previousExtent_&&!r.viewHints[xt.a.ANIMATING]&&!r.viewHints[xt.a.INTERACTING]&&!Object(C.o)(r.extent,this.previousExtent_)&&(this.dispatchEvent(new U(lt,this,r)),Object(C.d)(r.extent,this.previousExtent_))}this.dispatchEvent(new U(ot,this,r)),this.renderComplete_=this.hasListener(ht)||this.hasListener(ct)||this.hasListener(L.a.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){t.postRenderTimeoutHandle_=void 0,t.handlePostRender()}),0))}},{key:"setLayerGroup",value:function(t){var e=this.getLayerGroup();e&&this.handleLayerRemove_(new B("removelayer",e)),this.set(ut,t)}},{key:"setSize",value:function(t){this.set(gt,t)}},{key:"setTarget",value:function(t){this.set(ft,t)}},{key:"setView",value:function(view){if(!view||view instanceof bt.a)this.set(_t,view);else{this.set(_t,new bt.a);var map=this;view.then((function(t){map.setView(new bt.a(t))}))}}},{key:"updateSize",value:function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),r=t.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),o=t.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(r)||isNaN(o)||(e=[r,o],!Object(be.a)(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&Object(xe.a)("No map visible because the map container's width or height are 0."))}var l=this.getSize();!e||l&&Object(Ct.b)(e,l)||(this.setSize(e),this.updateViewportSize_())}},{key:"updateViewportSize_",value:function(){var view=this.getView();if(view){var t=void 0,e=getComputedStyle(this.viewport_);e.width&&e.height&&(t=[parseInt(e.width,10),parseInt(e.height,10)]),view.setViewportSize(t)}}}]),n}(_.a);e.a=Se},494:function(t,e,n){"use strict";var r=n(121),o=n(122),l=n(317),h=n(318),c=n(319),d=n(407),f=n(484),_=n.n(f),m=n(420),v=n(422),y=n(412),x=n(304),O=n(388),E=n(483),C=n(387),S=n(316),R=n(408),j=n(324),w=n(475),T=n(509);let I=null;class k extends R.a{constructor(image,t,e,n,r,o){super(),this.hitDetectionImage_=null,this.image_=image,this.crossOrigin_=n,this.canvas_={},this.color_=o,this.unlisten_=null,this.imageState_=r,this.size_=e,this.src_=t,this.tainted_}initializeImage_(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===O.a.LOADED){I||(I=Object(j.a)(1,1,void 0,{willReadFrequently:!0})),I.drawImage(this.image_,0,0);try{I.getImageData(0,0,1,1),this.tainted_=!1}catch(t){I=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(x.a.CHANGE)}handleImageError_(){this.imageState_=O.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=O.a.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],n=Object(j.a)(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===O.a.IDLE){this.image_||this.initializeImage_(),this.imageState_=O.a.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(T.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==O.a.LOADED)return;const image=this.image_,canvas=document.createElement("canvas");canvas.width=Math.ceil(image.width*t),canvas.height=Math.ceil(image.height*t);const e=canvas.getContext("2d");e.scale(t,t),e.drawImage(image,0,0),e.globalCompositeOperation="multiply",e.fillStyle=Object(C.b)(this.color_),e.fillRect(0,0,canvas.width/t,canvas.height/t),e.globalCompositeOperation="destination-in",e.drawImage(image,0,0),this.canvas_[t]=canvas}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}var M=n(313);class L extends E.a{constructor(t){const e=void 0!==(t=t||{}).opacity?t.opacity:1,n=void 0!==t.rotation?t.rotation:0,r=void 0!==t.scale?t.scale:1,o=void 0!==t.rotateWithView&&t.rotateWithView;super({opacity:e,rotation:n,scale:r,displacement:void 0!==t.displacement?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=void 0!==t.anchor?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.anchorXUnits_=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.anchorYUnits_=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null;const image=void 0!==t.img?t.img:null;this.imgSize_=t.imgSize;let l=t.src;Object(S.a)(!(void 0!==l&&image),4),Object(S.a)(!image||image&&this.imgSize_,5),void 0!==l&&0!==l.length||!image||(l=image.src||Object(M.b)(image)),Object(S.a)(void 0!==l&&l.length>0,6),Object(S.a)(!((void 0!==t.width||void 0!==t.height)&&void 0!==t.scale),69);const h=void 0!==t.src?O.a.IDLE:O.a.LOADED;if(this.color_=void 0!==t.color?Object(C.a)(t.color):null,this.iconImage_=function(image,t,e,n,r,o){let l=w.a.get(t,n,o);return l||(l=new k(image,t,e,n,r,o),w.a.set(t,n,o,l)),l}(image,l,void 0!==this.imgSize_?this.imgSize_:null,this.crossOrigin_,h,this.color_),this.offset_=void 0!==t.offset?t.offset:[0,0],this.offsetOrigin_=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.origin_=null,this.size_=void 0!==t.size?t.size:null,this.width_=t.width,this.height_=t.height,void 0!==this.width_||void 0!==this.height_){const image=this.getImage(1),t=()=>{this.updateScaleFromWidthAndHeight(this.width_,this.height_)};image.width>0?this.updateScaleFromWidthAndHeight(this.width_,this.height_):image.addEventListener("load",t)}}clone(){let t=this.getScale();return t=Array.isArray(t)?t.slice():t,void 0===this.width_&&void 0===this.height_||(t=void 0),new L({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode(),width:this.width_,height:this.height_})}updateScaleFromWidthAndHeight(t,e){const image=this.getImage(1);void 0!==t&&void 0!==e?super.setScale([t/image.width,e/image.height]):void 0!==t?super.setScale([t/image.width,t/image.width]):void 0!==e?super.setScale([e/image.height,e/image.height]):super.setScale([1,1])}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;t=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(t[0]*=e[0]),"fraction"==this.anchorYUnits_&&(t[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[0]=-t[0]+e[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(t[1]=-t[1]+e[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),n=this.getScaleArray();return[t[0]-e[0]/n[0],t[1]+e[1]/n[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[0]=n[0]-e[0]-t[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){return this.width_}getHeight(){return this.height_}setWidth(t){this.width_=t,this.updateScaleFromWidthAndHeight(t,this.height_)}setHeight(t){this.height_=t,this.updateScaleFromWidthAndHeight(this.width_,t)}setScale(t){super.setScale(t);const image=this.getImage(1);if(image){const e=Array.isArray(t)?t[0]:t;void 0!==e&&(this.width_=e*image.width);const n=Array.isArray(t)?t[1]:t;void 0!==n&&(this.height_=n*image.height)}}listenImageChange(t){this.iconImage_.addEventListener(x.a.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(x.a.CHANGE,t)}}var P=L,A=n(486),F=n(421),D=n(385);class N{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.scaleArray_=Object(D.c)(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new y.a({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}clone(){const t=this.getScale();return new N({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=Object(D.c)(void 0!==t?t:1)}setStroke(t){this.stroke_=t}setText(text){this.text_=text}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}var G=N;function z(t){return new m.b({fill:W(t,""),stroke:X(t,""),text:B(t),image:Y(t)})}function W(t,e){const n=t[e+"fill-color"];if(n)return new y.a({color:n})}function X(t,e){const n=t[e+"stroke-width"],r=t[e+"stroke-color"];if(n||r)return new F.a({width:n,color:r,lineCap:t[e+"stroke-line-cap"],lineJoin:t[e+"stroke-line-join"],lineDash:t[e+"stroke-line-dash"],lineDashOffset:t[e+"stroke-line-dash-offset"],miterLimit:t[e+"stroke-miter-limit"]})}function B(t){const e=t["text-value"];if(!e)return;return new G({text:e,font:t["text-font"],maxAngle:t["text-max-angle"],offsetX:t["text-offset-x"],offsetY:t["text-offset-y"],overflow:t["text-overflow"],placement:t["text-placement"],repeat:t["text-repeat"],scale:t["text-scale"],rotateWithView:t["text-rotate-with-view"],rotation:t["text-rotation"],textAlign:t["text-align"],justify:t["text-justify"],textBaseline:t["text-baseline"],padding:t["text-padding"],fill:W(t,"text-"),backgroundFill:W(t,"text-background-"),stroke:X(t,"text-"),backgroundStroke:X(t,"text-background-")})}function Y(t){const e=t["icon-src"],n=t["icon-img"];if(e||n){return new P({src:e,img:n,imgSize:t["icon-img-size"],anchor:t["icon-anchor"],anchorOrigin:t["icon-anchor-origin"],anchorXUnits:t["icon-anchor-x-units"],anchorYUnits:t["icon-anchor-y-units"],color:t["icon-color"],crossOrigin:t["icon-cross-origin"],offset:t["icon-offset"],displacement:t["icon-displacement"],opacity:t["icon-opacity"],scale:t["icon-scale"],rotation:t["icon-rotation"],rotateWithView:t["icon-rotate-with-view"],size:t["icon-size"],declutterMode:t["icon-declutter-mode"]})}const r=t["shape-points"];if(r){const e="shape-";return new A.a({points:r,fill:W(t,e),stroke:X(t,e),radius:t["shape-radius"],radius1:t["shape-radius1"],radius2:t["shape-radius2"],angle:t["shape-angle"],displacement:t["shape-displacement"],rotation:t["shape-rotation"],rotateWithView:t["shape-rotate-with-view"],scale:t["shape-scale"],declutterMode:t["shape-declutter-mode"]})}const o=t["circle-radius"];if(o){const e="circle-";return new v.a({radius:o,fill:W(t,e),stroke:X(t,e),displacement:t["circle-displacement"],scale:t["circle-scale"],rotation:t["circle-rotation"],rotateWithView:t["circle-rotate-with-view"],declutterMode:t["circle-declutter-mode"]})}}const K="renderOrder";class Z extends d.a{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=void 0!==t.declutter&&t.declutter,this.renderBuffer_=void 0!==t.renderBuffer?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.updateWhileInteracting_=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(K)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t){t.declutterTree||(t.declutterTree=new _.a(9)),this.getRenderer().renderDeclutter(t)}setRenderOrder(t){this.set(K,t)}setStyle(style){let t;if(void 0===style)t=m.a;else if(null===style)t=null;else if("function"==typeof style)t=style;else if(style instanceof m.b)t=style;else if(Array.isArray(style)){const e=style.length,n=new Array(e);for(let i=0;i<e;++i){const s=style[i];s instanceof m.b?n[i]=s:n[i]=z(s)}t=n}else t=z(style);this.style_=t,this.styleFunction_=null===style?void 0:Object(m.c)(this.style_),this.changed()}}var V=Z;const U={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},H=[U.FILL],J=[U.STROKE],Q=[U.BEGIN_PATH],$=[U.CLOSE_PATH];var tt=U,et=n(468);var it=class{drawCustom(t,e,n,r){}drawGeometry(t){}setStyle(style){}drawCircle(t,e){}drawFeature(t,style){}drawGeometryCollection(t,e){}drawLineString(t,e){}drawMultiLineString(t,e){}drawMultiPoint(t,e){}drawMultiPolygon(t,e){}drawPoint(t,e){}drawPolygon(t,e){}drawText(t,e){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}},nt=n(419),st=n(293),ot=n(378),at=n(320),lt=n(442);var ht=class extends it{constructor(t,e,n,r){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=n,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))}appendFlatPointCoordinates(t,e){const n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates;let l=o.length;for(let i=0,h=t.length;i<h;i+=e)r[0]=t[i],r[1]=t[i+1],Object(st.f)(n,r)&&(o[l++]=r[0],o[l++]=r[1]);return l}appendFlatLineCoordinates(t,e,n,r,o,l){const h=this.coordinates;let c=h.length;const d=this.getBufferedMaxExtent();l&&(e+=r);let f=t[e],_=t[e+1];const m=this.tmpCoordinate_;let i,v,y,x=!0;for(i=e+r;i<n;i+=r)m[0]=t[i],m[1]=t[i+1],y=Object(st.i)(d,m),y!==v?(x&&(h[c++]=f,h[c++]=_,x=!1),h[c++]=m[0],h[c++]=m[1]):y===et.a.INTERSECTING?(h[c++]=m[0],h[c++]=m[1],x=!1):x=!0,f=m[0],_=m[1],v=y;return(o&&x||i===e+r)&&(h[c++]=f,h[c++]=_),c}drawCustomCoordinates_(t,e,n,r,o){for(let i=0,l=n.length;i<l;++i){const l=n[i],h=this.appendFlatLineCoordinates(t,e,l,r,!1,!1);o.push(h),e=l}return e}drawCustom(t,e,n,r){this.beginGeometry(t,e);const o=t.getType(),l=t.getStride(),h=this.coordinates.length;let c,d,f,_,m;switch(o){case"MultiPolygon":c=t.getOrientedFlatCoordinates(),_=[];const e=t.getEndss();m=0;for(let i=0,t=e.length;i<t;++i){const t=[];m=this.drawCustomCoordinates_(c,m,e[i],l,t),_.push(t)}this.instructions.push([tt.CUSTOM,h,_,t,n,lt.c]),this.hitDetectionInstructions.push([tt.CUSTOM,h,_,t,r||n,lt.c]);break;case"Polygon":case"MultiLineString":f=[],c="Polygon"==o?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),m=this.drawCustomCoordinates_(c,0,t.getEnds(),l,f),this.instructions.push([tt.CUSTOM,h,f,t,n,lt.b]),this.hitDetectionInstructions.push([tt.CUSTOM,h,f,t,r||n,lt.b]);break;case"LineString":case"Circle":c=t.getFlatCoordinates(),d=this.appendFlatLineCoordinates(c,0,c.length,l,!1,!1),this.instructions.push([tt.CUSTOM,h,d,t,n,lt.a]),this.hitDetectionInstructions.push([tt.CUSTOM,h,d,t,r||n,lt.a]);break;case"MultiPoint":c=t.getFlatCoordinates(),d=this.appendFlatPointCoordinates(c,l),d>h&&(this.instructions.push([tt.CUSTOM,h,d,t,n,lt.a]),this.hitDetectionInstructions.push([tt.CUSTOM,h,d,t,r||n,lt.a]));break;case"Point":c=t.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),d=this.coordinates.length,this.instructions.push([tt.CUSTOM,h,d,t,n]),this.hitDetectionInstructions.push([tt.CUSTOM,h,d,t,r||n])}this.endGeometry(e)}beginGeometry(t,e){this.beginGeometryInstruction1_=[tt.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[tt.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;let i;t.reverse();const e=t.length;let n,r,o=-1;for(i=0;i<e;++i)n=t[i],r=n[0],r==tt.END_GEOMETRY?o=i:r==tt.BEGIN_GEOMETRY&&(n[2]=i,Object(at.f)(this.hitDetectionInstructions,o,i),o=-1)}setFillStrokeStyle(t,e){const n=this.state;if(t){const e=t.getColor();n.fillStyle=Object(nt.a)(e||ot.b)}else n.fillStyle=void 0;if(e){const t=e.getColor();n.strokeStyle=Object(nt.a)(t||ot.k);const r=e.getLineCap();n.lineCap=void 0!==r?r:ot.d;const o=e.getLineDash();n.lineDash=o?o.slice():ot.e;const l=e.getLineDashOffset();n.lineDashOffset=l||ot.f;const h=e.getLineJoin();n.lineJoin=void 0!==h?h:ot.g;const c=e.getWidth();n.lineWidth=void 0!==c?c:ot.h;const d=e.getMiterLimit();n.miterLimit=void 0!==d?d:ot.i,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0}createFill(t){const e=t.fillStyle,n=[tt.SET_FILL_STYLE,e];return"string"!=typeof e&&n.push(!0),n}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[tt.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const n=t.fillStyle;"string"==typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)}updateStrokeStyle(t,e){const n=t.strokeStyle,r=t.lineCap,o=t.lineDash,l=t.lineDashOffset,h=t.lineJoin,c=t.lineWidth,d=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||o!=t.currentLineDash&&!Object(at.b)(t.currentLineDash,o)||t.currentLineDashOffset!=l||t.currentLineJoin!=h||t.currentLineWidth!=c||t.currentMiterLimit!=d)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=o,t.currentLineDashOffset=l,t.currentLineJoin=h,t.currentLineWidth=c,t.currentMiterLimit=d)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[tt.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(st.d)(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;Object(st.c)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}};var ct=class extends ht{constructor(t,e,n,r){super(t,e,n,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const n=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,l=this.appendFlatPointCoordinates(n,r);this.instructions.push([tt.DRAW_IMAGE,o,l,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([tt.DRAW_IMAGE,o,l,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e){if(!this.image_)return;this.beginGeometry(t,e);const n=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,l=this.appendFlatPointCoordinates(n,r);this.instructions.push([tt.DRAW_IMAGE,o,l,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([tt.DRAW_IMAGE,o,l,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const n=t.getAnchor(),r=t.getSize(),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}};var ut=class extends ht{constructor(t,e,n,r){super(t,e,n,r)}drawFlatCoordinates_(t,e,n,r){const o=this.coordinates.length,l=this.appendFlatLineCoordinates(t,e,n,r,!1,!1),h=[tt.MOVE_TO_LINE_TO,o,l];return this.instructions.push(h),this.hitDetectionInstructions.push(h),n}drawLineString(t,e){const n=this.state,r=n.strokeStyle,o=n.lineWidth;if(void 0===r||void 0===o)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([tt.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,ot.e,ot.f],Q);const l=t.getFlatCoordinates(),h=t.getStride();this.drawFlatCoordinates_(l,0,l.length,h),this.hitDetectionInstructions.push(J),this.endGeometry(e)}drawMultiLineString(t,e){const n=this.state,r=n.strokeStyle,o=n.lineWidth;if(void 0===r||void 0===o)return;this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([tt.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Q);const l=t.getEnds(),h=t.getFlatCoordinates(),c=t.getStride();let d=0;for(let i=0,t=l.length;i<t;++i)d=this.drawFlatCoordinates_(h,d,l[i],c);this.hitDetectionInstructions.push(J),this.endGeometry(e)}finish(){const t=this.state;return null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(J),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(J),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(Q)}},gt=n(445);var ft=class extends ht{constructor(t,e,n,r){super(t,e,n,r)}drawFlatCoordinatess_(t,e,n,r){const o=this.state,l=void 0!==o.fillStyle,h=void 0!==o.strokeStyle,c=n.length;this.instructions.push(Q),this.hitDetectionInstructions.push(Q);for(let i=0;i<c;++i){const o=n[i],l=this.coordinates.length,c=this.appendFlatLineCoordinates(t,e,o,r,!0,!h),d=[tt.MOVE_TO_LINE_TO,l,c];this.instructions.push(d),this.hitDetectionInstructions.push(d),h&&(this.instructions.push($),this.hitDetectionInstructions.push($)),e=o}return l&&(this.instructions.push(H),this.hitDetectionInstructions.push(H)),h&&(this.instructions.push(J),this.hitDetectionInstructions.push(J)),e}drawCircle(t,e){const n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0===r&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([tt.SET_FILL_STYLE,ot.b]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([tt.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);const l=t.getFlatCoordinates(),h=t.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(l,0,l.length,h,!1,!1);const d=[tt.CIRCLE,c];this.instructions.push(Q,d),this.hitDetectionInstructions.push(Q,d),void 0!==n.fillStyle&&(this.instructions.push(H),this.hitDetectionInstructions.push(H)),void 0!==n.strokeStyle&&(this.instructions.push(J),this.hitDetectionInstructions.push(J)),this.endGeometry(e)}drawPolygon(t,e){const n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0===r&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([tt.SET_FILL_STYLE,ot.b]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([tt.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);const l=t.getEnds(),h=t.getOrientedFlatCoordinates(),c=t.getStride();this.drawFlatCoordinatess_(h,0,l,c),this.endGeometry(e)}drawMultiPolygon(t,e){const n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0===r&&void 0===o)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([tt.SET_FILL_STYLE,ot.b]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([tt.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);const l=t.getEndss(),h=t.getOrientedFlatCoordinates(),c=t.getStride();let d=0;for(let i=0,t=l.length;i<t;++i)d=this.drawFlatCoordinatess_(h,d,l[i],c);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(0!==t){const e=this.coordinates;for(let i=0,n=e.length;i<n;++i)e[i]=Object(gt.c)(e[i],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;void 0!==t.fillStyle&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)}},_t=n(303);function pt(t,e,n,r,o){const l=[];let cursor=n,h=0,c=e.slice(n,2);for(;h<t&&cursor+o<r;){const[n,r]=c.slice(-2),d=e[cursor+o],f=e[cursor+o+1],_=Math.sqrt((d-n)*(d-n)+(f-r)*(f-r));if(h+=_,h>=t){const e=(t-h+_)/_,m=Object(_t.d)(n,d,e),v=Object(_t.d)(r,f,e);c.push(m,v),l.push(c),c=[m,v],h==t&&(cursor+=o),h=0}else if(h<t)c.push(e[cursor+o],e[cursor+o+1]),cursor+=o;else{const t=_-h,e=Object(_t.d)(n,d,t/_),m=Object(_t.d)(r,f,t/_);c.push(e,m),l.push(c),c=[e,m],h=0,cursor+=o}}return h>0&&l.push(c),l}function mt(t,e,n,r,o){let l,i,h,c,d,f,_,m,v,y,x=n,O=n,E=0,C=0,S=n;for(i=n;i<r;i+=o){const n=e[i],r=e[i+1];void 0!==d&&(v=n-d,y=r-f,c=Math.sqrt(v*v+y*y),void 0!==_&&(C+=h,l=Math.acos((_*v+m*y)/(h*c)),l>t&&(C>E&&(E=C,x=S,O=i),C=0,S=i-o)),h=c,_=v,m=y),d=n,f=r}return C+=c,C>E?[S,i]:[x,O]}const vt={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};const yt={Circle:ft,Default:ht,Image:ct,LineString:ut,Polygon:ft,Text:class extends ht{constructor(t,e,n,r){super(t,e,n,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e){const n=this.textFillState_,r=this.textStrokeState_,o=this.textState_;if(""===this.text_||!o||!n&&!r)return;const l=this.coordinates;let h=l.length;const c=t.getType();let d=null,f=t.getStride();if("line"!==o.placement||"LineString"!=c&&"MultiLineString"!=c&&"Polygon"!=c&&"MultiPolygon"!=c){let n=o.overflow?null:[];switch(c){case"Point":case"MultiPoint":d=t.getFlatCoordinates();break;case"LineString":d=t.getFlatMidpoint();break;case"Circle":d=t.getCenter();break;case"MultiLineString":d=t.getFlatMidpoints(),f=2;break;case"Polygon":d=t.getFlatInteriorPoint(),o.overflow||n.push(d[2]/this.resolution),f=3;break;case"MultiPolygon":const e=t.getFlatInteriorPoints();d=[];for(let i=0,t=e.length;i<t;i+=3)o.overflow||n.push(e[i+2]/this.resolution),d.push(e[i],e[i+1]);if(0===d.length)return;f=2}const r=this.appendFlatPointCoordinates(d,f);if(r===h)return;if(n&&(r-h)/2!=d.length/f){let t=h/2;n=n.filter(((e,i)=>{const n=l[2*(t+i)]===d[i*f]&&l[2*(t+i)+1]===d[i*f+1];return n||--t,n}))}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);let _=o.padding;if(_!=ot.j&&(o.scale[0]<0||o.scale[1]<0)){let t=o.padding[0],e=o.padding[1],n=o.padding[2],r=o.padding[3];o.scale[0]<0&&(e=-e,r=-r),o.scale[1]<0&&(t=-t,n=-n),_=[t,e,n,r]}const m=this.pixelRatio;this.instructions.push([tt.DRAW_IMAGE,h,r,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,_==ot.j?ot.j:_.map((function(p){return p*m})),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,n]);const v=1/m;this.hitDetectionInstructions.push([tt.DRAW_IMAGE,h,r,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[v,v],NaN,void 0,this.declutterImageWithText_,_,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,n]),this.endGeometry(e)}else{if(!Object(st.F)(this.getBufferedMaxExtent(),t.getExtent()))return;let n;if(d=t.getFlatCoordinates(),"LineString"==c)n=[d.length];else if("MultiLineString"==c)n=t.getEnds();else if("Polygon"==c)n=t.getEnds().slice(0,1);else if("MultiPolygon"==c){const e=t.getEndss();n=[];for(let i=0,t=e.length;i<t;++i)n.push(e[i][0])}this.beginGeometry(t,e);const r=o.repeat,_=r?void 0:o.textAlign;let m=0;for(let t=0,e=n.length;t<e;++t){let e;e=r?pt(r*this.resolution,d,m,n[t],f):[d.slice(m,n[t])];for(let r=0,c=e.length;r<c;++r){const c=e[r];let d=0,v=c.length;if(null==_){const t=mt(o.maxAngle,c,0,c.length,2);d=t[0],v=t[1]}for(let i=d;i<v;i+=f)l.push(c[i],c[i+1]);const y=l.length;m=n[t],this.drawChars_(h,y),h=y}}this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||ot.l,justify:e.justify,textBaseline:e.textBaseline||ot.m,scale:e.scale});const l=this.fillKey_;n&&(l in this.fillStates||(this.fillStates[l]={fillStyle:n.fillStyle}))}drawChars_(t,e){const n=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,l=this.textKey_,h=this.fillKey_;this.saveTextStates_();const c=this.pixelRatio,d=vt[r.textBaseline],f=this.textOffsetY_*c,text=this.text_,_=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([tt.DRAW_CHARS,t,e,d,r.overflow,h,r.maxAngle,c,f,o,_*c,text,l,1]),this.hitDetectionInstructions.push([tt.DRAW_CHARS,t,e,d,r.overflow,h,r.maxAngle,1,f,o,_,text,l,1/c])}setTextStyle(t,e){let n,r,o;if(t){const e=t.getFill();e?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=Object(nt.a)(e.getColor()||ot.b)):(r=null,this.textFillState_=r);const l=t.getStroke();if(l){o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const t=l.getLineDash(),e=l.getLineDashOffset(),n=l.getWidth(),r=l.getMiterLimit();o.lineCap=l.getLineCap()||ot.d,o.lineDash=t?t.slice():ot.e,o.lineDashOffset=void 0===e?ot.f:e,o.lineJoin=l.getLineJoin()||ot.g,o.lineWidth=void 0===n?ot.h:n,o.miterLimit=void 0===r?ot.i:r,o.strokeStyle=Object(nt.a)(l.getColor()||ot.k)}else o=null,this.textStrokeState_=o;n=this.textState_;const h=t.getFont()||ot.c;Object(ot.q)(h);const c=t.getScaleArray();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.repeat=t.getRepeat(),n.justify=t.getJustify(),n.textBaseline=t.getTextBaseline()||ot.m,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||ot.j,n.scale=void 0===c?[1,1]:c;const d=t.getOffsetX(),f=t.getOffsetY(),_=t.getRotateWithView(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===f?0:f,this.textRotateWithView_=void 0!==_&&_,this.textRotation_=void 0===m?0:m,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:Object(M.b)(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.repeat||"?")+(n.justify||"?")+(n.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Object(M.b)(r.fillStyle):""}else this.text_="";this.declutterImageWithText_=e}}};var bt=class{constructor(t,e,n,r){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const n=this.buildersByZIndex_[e];for(const r in n){const o=n[r].finish();t[e][r]=o}}return t}getBuilder(t,e){const n=void 0!==t?t.toString():"0";let r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);let o=r[e];if(void 0===o){o=new(0,yt[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=o}return o}},xt=n(508),Ot=n(370),Et=n(386);function Ct(t,e,n,r,text,o,l,h,c,d,f,_){let m=t[e],v=t[e+1],y=0,x=0,O=0,E=0;function C(){y=m,x=v,m=t[e+=r],v=t[e+1],E+=O,O=Math.sqrt((m-y)*(m-y)+(v-x)*(v-x))}do{C()}while(e<n-r&&E+O<o);let S=0===O?0:(o-E)/O;const R=Object(_t.d)(y,m,S),j=Object(_t.d)(x,v,S),w=e-r,T=E,I=o+h*c(d,text,f);for(;e<n-r&&E+O<I;)C();S=0===O?0:(I-E)/O;const k=Object(_t.d)(y,m,S),M=Object(_t.d)(x,v,S);let L;if(_){const t=[R,j,k,M];Object(Et.a)(t,0,4,2,_,t,t),L=t[0]>t[2]}else L=R>k;const P=Math.PI,A=[],F=w+r===e;let D;if(O=0,E=T,m=t[e=w],v=t[e+1],F){C(),D=Math.atan2(v-x,m-y),L&&(D+=D>0?-P:P);const t=(k+R)/2,e=(M+j)/2;return A[0]=[t,e,(I-o)/2,D,text],A}for(let i=0,t=(text=text.replace(/\n/g," ")).length;i<t;){C();let _=Math.atan2(v-x,m-y);if(L&&(_+=_>0?-P:P),void 0!==D){let t=_-D;if(t+=t>P?-2*P:t<-P?2*P:0,Math.abs(t)>l)return null}D=_;const R=i;let j=0;for(;i<t;++i){const l=h*c(d,text[L?t-i-1:i],f);if(e+r<n&&E+O<o+j+l/2)break;j+=l}if(i===R)continue;const w=L?text.substring(t-R,t-i):text.substring(R,i);S=0===O?0:(o+j/2-E)/O;const T=Object(_t.d)(y,m,S),I=Object(_t.d)(x,v,S);A.push([T,I,j/2,_,w]),o+=j}return A}function St(t,e,n,r){let o=t[e],l=t[e+1],h=0;for(let i=e+r;i<n;i+=r){const e=t[i],n=t[i+1];h+=Math.sqrt((e-o)*(e-o)+(n-l)*(n-l)),o=e,l=n}return h}const Rt=Object(st.j)(),jt=[],wt=[],Tt=[],It=[];function kt(t){return t[3].declutterBox}const Mt=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Lt(text,t){return"start"!==t&&"end"!==t||Mt.test(text)||(t="start"===t?"left":"right"),vt[t]}function Pt(t,line,i){return i>0&&t.push("\n",""),t.push(line,""),t}var At=class{constructor(t,e,n,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=Object(Ot.c)(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}createLabel(text,t,e,n){const r=text+t+e+n;if(this.labels_[r])return this.labels_[r];const o=n?this.strokeStates[n]:null,l=e?this.fillStates[e]:null,h=this.textStates[t],c=this.pixelRatio,d=[h.scale[0]*c,h.scale[1]*c],f=Array.isArray(text),_=h.justify?vt[h.justify]:Lt(Array.isArray(text)?text[0]:text,h.textAlign||ot.l),m=n&&o.lineWidth?o.lineWidth:0,v=f?text:text.split("\n").reduce(Pt,[]),{width:y,height:x,widths:O,heights:E,lineWidths:C}=Object(ot.o)(h,v),S=y+m,R=[],j=(S+2)*d[0],w=(x+m)*d[1],label={width:j<0?Math.floor(j):Math.ceil(j),height:w<0?Math.floor(w):Math.ceil(w),contextInstructions:R};1==d[0]&&1==d[1]||R.push("scale",d),n&&(R.push("strokeStyle",o.strokeStyle),R.push("lineWidth",m),R.push("lineCap",o.lineCap),R.push("lineJoin",o.lineJoin),R.push("miterLimit",o.miterLimit),R.push("setLineDash",[o.lineDash]),R.push("lineDashOffset",o.lineDashOffset)),e&&R.push("fillStyle",l.fillStyle),R.push("textBaseline","middle"),R.push("textAlign","center");const T=.5-_;let I=_*S+T*m;const k=[],M=[];let L,P=0,A=0,F=0,D=0;for(let i=0,t=v.length;i<t;i+=2){const text=v[i];if("\n"===text){A+=P,P=0,I=_*S+T*m,++D;continue}const t=v[i+1]||h.font;t!==L&&(n&&k.push("font",t),e&&M.push("font",t),L=t),P=Math.max(P,E[F]);const r=[text,I+T*O[F]+_*(O[F]-C[D]),.5*(m+P)+A];I+=O[F],n&&k.push("strokeText",r),e&&M.push("fillText",r),++F}return Array.prototype.push.apply(R,k),Array.prototype.push.apply(R,M),this.labels_[r]=label,label}replayTextBackground_(t,e,n,r,o,l,h){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,o),t.lineTo.apply(t,e),l&&(this.alignFill_=l[2],this.fill_(t)),h&&(this.setStrokeStyle_(t,h),t.stroke())}calculateImageOrLabelDimensions_(t,e,n,r,o,l,h,c,d,f,_,m,v,y,x,O){let E=n-(h*=m[0]),C=r-(c*=m[1]);const S=o+d>t?t-d:o,R=l+f>e?e-f:l,j=y[3]+S*m[0]+y[1],w=y[0]+R*m[1]+y[2],T=E-y[3],I=C-y[0];let k;return(x||0!==_)&&(jt[0]=T,It[0]=T,jt[1]=I,wt[1]=I,wt[0]=T+j,Tt[0]=wt[0],Tt[1]=I+w,It[1]=Tt[1]),0!==_?(k=Object(Ot.b)(Object(Ot.c)(),n,r,1,1,_,-n,-r),Object(Ot.a)(k,jt),Object(Ot.a)(k,wt),Object(Ot.a)(k,Tt),Object(Ot.a)(k,It),Object(st.k)(Math.min(jt[0],wt[0],Tt[0],It[0]),Math.min(jt[1],wt[1],Tt[1],It[1]),Math.max(jt[0],wt[0],Tt[0],It[0]),Math.max(jt[1],wt[1],Tt[1],It[1]),Rt)):Object(st.k)(Math.min(T,T+j),Math.min(I,I+w),Math.max(T,T+j),Math.max(I,I+w),Rt),v&&(E=Math.round(E),C=Math.round(C)),{drawImageX:E,drawImageY:C,drawImageW:S,drawImageH:R,originX:d,originY:f,declutterBox:{minX:Rt[0],minY:Rt[1],maxX:Rt[2],maxY:Rt[3],value:O},canvasTransform:k,scale:m}}replayImageOrLabel_(t,e,n,r,o,l,h){const c=!(!l&&!h),d=r.declutterBox,canvas=t.canvas,f=h?h[2]*r.scale[0]/2:0;return d.minX-f<=canvas.width/e&&d.maxX+f>=0&&d.minY-f<=canvas.height/e&&d.maxY+f>=0&&(c&&this.replayTextBackground_(t,jt,wt,Tt,It,l,h),Object(ot.n)(t,r.canvasTransform,o,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(t){if(this.alignFill_){const e=Object(Ot.a)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(text,t,e,n){const r=this.textStates[t],label=this.createLabel(text,t,n,e),o=this.strokeStates[e],l=this.pixelRatio,h=Lt(Array.isArray(text)?text[0]:text,r.textAlign||ot.l),c=vt[r.textBaseline||ot.m],d=o&&o.lineWidth?o.lineWidth:0;return{label:label,anchorX:h*(label.width/l-2*r.scale[0])+2*(.5-h)*d,anchorY:c*label.height/l+2*(.5-c)*d}}execute_(t,e,n,r,o,l,h,c){let d;this.pixelCoordinates_&&Object(at.b)(n,this.renderedTransform_)?d=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),d=Object(Et.c)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),Object(Ot.f)(this.renderedTransform_,n));let i=0;const f=r.length;let dd,_,m,v,y,x,O,image,text,E,C,S,R=0,j=0,w=0,T=null,I=null;const k=this.coordinateCache_,M=this.viewRotation_,L=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,P={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:M},A=this.instructions!=r||this.overlaps?0:200;let F,D,N,G;for(;i<f;){const n=r[i];switch(n[0]){case tt.BEGIN_GEOMETRY:F=n[1],G=n[3],F.getGeometry()?void 0===h||Object(st.F)(h,G.getExtent())?++i:i=n[2]+1:i=n[2];break;case tt.BEGIN_PATH:j>A&&(this.fill_(t),j=0),w>A&&(t.stroke(),w=0),j||w||(t.beginPath(),v=NaN,y=NaN),++i;break;case tt.CIRCLE:R=n[1];const r=d[R],f=d[R+1],z=d[R+2]-r,W=d[R+3]-f,X=Math.sqrt(z*z+W*W);t.moveTo(r+X,f),t.arc(r,f,X,0,2*Math.PI,!0),++i;break;case tt.CLOSE_PATH:t.closePath(),++i;break;case tt.CUSTOM:R=n[1],dd=n[2];const B=n[3],Y=n[4],K=6==n.length?n[5]:void 0;P.geometry=B,P.feature=F,i in k||(k[i]=[]);const Z=k[i];K?K(d,R,dd,2,Z):(Z[0]=d[R],Z[1]=d[R+1],Z.length=2),Y(Z,P),++i;break;case tt.DRAW_IMAGE:R=n[1],dd=n[2],image=n[3],_=n[4],m=n[5];let V=n[6];const U=n[7],H=n[8],J=n[9],Q=n[10];let $=n[11];const et=n[12];let it=n[13];const nt=n[14],at=n[15];if(!image&&n.length>=20){text=n[19],E=n[20],C=n[21],S=n[22];const t=this.drawLabelWithPointPlacement_(text,E,C,S);image=t.label,n[3]=image;const e=n[23];_=(t.anchorX-e)*this.pixelRatio,n[4]=_;const r=n[24];m=(t.anchorY-r)*this.pixelRatio,n[5]=m,V=image.height,n[6]=V,it=image.width,n[13]=it}let lt,ht,ct,ut;n.length>25&&(lt=n[25]),n.length>17?(ht=n[16],ct=n[17],ut=n[18]):(ht=ot.j,ct=!1,ut=!1),Q&&L?$+=M:Q||L||($-=M);let gt=0;for(;R<dd;R+=2){if(lt&&lt[gt++]<it/this.pixelRatio)continue;const n=this.calculateImageOrLabelDimensions_(image.width,image.height,d[R],d[R+1],it,V,_,m,H,J,$,et,o,ht,ct||ut,F),r=[t,e,image,n,U,ct?T:null,ut?I:null];if(c){if("none"===nt)continue;if("obstacle"===nt){c.insert(n.declutterBox);continue}{let t,e;if(at){const n=dd-R;if(!at[n]){at[n]=r;continue}if(t=at[n],delete at[n],e=kt(t),c.collides(e))continue}if(c.collides(n.declutterBox))continue;t&&(c.insert(e),this.replayImageOrLabel_.apply(this,t)),c.insert(n.declutterBox)}}this.replayImageOrLabel_.apply(this,r)}++i;break;case tt.DRAW_CHARS:const ft=n[1],_t=n[2],pt=n[3],mt=n[4];S=n[5];const yt=n[6],bt=n[7],xt=n[8];C=n[9];const Ot=n[10];text=n[11],E=n[12];const Et=[n[13],n[13]],Rt=this.textStates[E],jt=Rt.font,wt=[Rt.scale[0]*bt,Rt.scale[1]*bt];let Tt;jt in this.widths_?Tt=this.widths_[jt]:(Tt={},this.widths_[jt]=Tt);const It=St(d,ft,_t,2),Mt=Math.abs(wt[0])*Object(ot.p)(jt,text,Tt);if(mt||Mt<=It){const n=this.textStates[E].textAlign,r=Ct(d,ft,_t,2,text,(It-Mt)*vt[n],yt,Math.abs(wt[0]),ot.p,jt,Tt,L?0:this.viewRotation_);t:if(r){const n=[];let o,l,h,label,d;if(C)for(o=0,l=r.length;o<l;++o){d=r[o],h=d[4],label=this.createLabel(h,E,"",C),_=d[2]+(wt[0]<0?-Ot:Ot),m=pt*label.height+2*(.5-pt)*Ot*wt[1]/wt[0]-xt;const l=this.calculateImageOrLabelDimensions_(label.width,label.height,d[0],d[1],label.width,label.height,_,m,0,0,d[3],Et,!1,ot.j,!1,F);if(c&&c.collides(l.declutterBox))break t;n.push([t,e,label,l,1,null,null])}if(S)for(o=0,l=r.length;o<l;++o){d=r[o],h=d[4],label=this.createLabel(h,E,S,""),_=d[2],m=pt*label.height-xt;const l=this.calculateImageOrLabelDimensions_(label.width,label.height,d[0],d[1],label.width,label.height,_,m,0,0,d[3],Et,!1,ot.j,!1,F);if(c&&c.collides(l.declutterBox))break t;n.push([t,e,label,l,1,null,null])}c&&c.load(n.map(kt));for(let i=0,t=n.length;i<t;++i)this.replayImageOrLabel_.apply(this,n[i])}}++i;break;case tt.END_GEOMETRY:if(void 0!==l){F=n[1];const t=l(F,G);if(t)return t}++i;break;case tt.FILL:A?j++:this.fill_(t),++i;break;case tt.MOVE_TO_LINE_TO:for(R=n[1],dd=n[2],D=d[R],N=d[R+1],x=D+.5|0,O=N+.5|0,x===v&&O===y||(t.moveTo(D,N),v=x,y=O),R+=2;R<dd;R+=2)D=d[R],N=d[R+1],x=D+.5|0,O=N+.5|0,R!=dd-2&&x===v&&O===y||(t.lineTo(D,N),v=x,y=O);++i;break;case tt.SET_FILL_STYLE:T=n,this.alignFill_=n[2],j&&(this.fill_(t),j=0,w&&(t.stroke(),w=0)),t.fillStyle=n[1],++i;break;case tt.SET_STROKE_STYLE:I=n,w&&(t.stroke(),w=0),this.setStrokeStyle_(t,n),++i;break;case tt.STROKE:A?w++:t.stroke(),++i;break;default:++i}}j&&this.fill_(t),w&&t.stroke()}execute(t,e,n,r,o,l){this.viewRotation_=r,this.execute_(t,e,n,this.instructions,o,void 0,void 0,l)}executeHitDetection(t,e,n,r,o){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,r,o)}},Ft=n(359);const Dt=["Polygon","Circle","LineString","Image","Text","Default"];const Nt={};var Gt=class{constructor(t,e,n,r,o,l){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=l,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Object(Ot.c)(),this.createExecutors_(o)}clip(t,e){const n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()}createExecutors_(t){for(const e in t){let n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);const r=t[e];for(const t in r){const e=r[t];n[t]=new At(this.resolution_,this.pixelRatio_,this.overlaps_,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const n=this.executorsByZIndex_[e];for(let i=0,e=t.length;i<e;++i)if(t[i]in n)return!0}return!1}forEachFeatureAtCoordinate(t,e,n,r,o,l){const h=2*(r=Math.round(r))+1,c=Object(Ot.b)(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),d=!this.hitDetectionContext_;d&&(this.hitDetectionContext_=Object(j.a)(h,h,void 0,{willReadFrequently:!0}));const f=this.hitDetectionContext_;let _;f.canvas.width!==h||f.canvas.height!==h?(f.canvas.width=h,f.canvas.height=h):d||f.clearRect(0,0,h,h),void 0!==this.renderBuffer_&&(_=Object(st.j)(),Object(st.q)(_,t),Object(st.c)(_,e*(this.renderBuffer_+r),_));const m=function(t){if(void 0!==Nt[t])return Nt[t];const e=2*t+1,n=t*t,r=new Array(n+1);for(let i=0;i<=t;++i)for(let o=0;o<=t;++o){const l=i*i+o*o;if(l>n)break;let h=r[l];h||(h=[],r[l]=h),h.push(4*((t+i)*e+(t+o))+3),i>0&&h.push(4*((t-i)*e+(t+o))+3),o>0&&(h.push(4*((t+i)*e+(t-o))+3),i>0&&h.push(4*((t-i)*e+(t-o))+3))}const o=[];for(let i=0,t=r.length;i<t;++i)r[i]&&o.push(...r[i]);return Nt[t]=o,o}(r);let v;function y(t,e){const n=f.getImageData(0,0,h,h).data;for(let i=0,c=m.length;i<c;i++)if(n[m[i]]>0){if(!l||"Image"!==v&&"Text"!==v||l.includes(t)){const n=(m[i]-3)/4,l=r-n%h,c=r-(n/h|0),d=o(t,e,l*l+c*c);if(d)return d}f.clearRect(0,0,h,h);break}}const x=Object.keys(this.executorsByZIndex_).map(Number);let i,O,E,C,S;for(x.sort(at.a),i=x.length-1;i>=0;--i){const t=x[i].toString();for(E=this.executorsByZIndex_[t],O=Dt.length-1;O>=0;--O)if(v=Dt[O],C=E[v],void 0!==C&&(S=C.executeHitDetection(f,c,n,y,_),S))return S}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const n=e[0],r=e[1],o=e[2],l=e[3],h=[n,r,n,l,o,l,o,r];return Object(Et.c)(h,0,8,2,t,h),h}isEmpty(){return Object(Ft.b)(this.executorsByZIndex_)}execute(t,e,n,r,o,l,h){const c=Object.keys(this.executorsByZIndex_).map(Number);let i,d,f,_,m,v;for(c.sort(at.a),this.maxExtent_&&(t.save(),this.clip(t,n)),l=l||Dt,h&&c.reverse(),i=0,d=c.length;i<d;++i){const d=c[i].toString();for(m=this.executorsByZIndex_[d],f=0,_=l.length;f<_;++f){v=m[l[f]],void 0!==v&&v.execute(t,e,n,r,o,h)}}this.maxExtent_&&t.restore()}},zt=n(440),Wt=n(426);var Xt=class extends it{constructor(t,e,n,r,o,l,h){super(),this.context_=t,this.pixelRatio_=e,this.extent_=n,this.transform_=r,this.transformRotation_=r?Object(_t.j)(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=l,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Object(Ot.c)()}drawImages_(t,e,n,r){if(!this.image_)return;const o=Object(Et.c)(t,e,n,r,this.transform_,this.pixelCoordinates_),l=this.context_,h=this.tmpLocalTransform_,c=l.globalAlpha;1!=this.imageOpacity_&&(l.globalAlpha=c*this.imageOpacity_);let d=this.imageRotation_;0===this.transformRotation_&&(d-=this.viewRotation_),this.imageRotateWithView_&&(d+=this.viewRotation_);for(let i=0,t=o.length;i<t;i+=2){const t=o[i]-this.imageAnchorX_,e=o[i+1]-this.imageAnchorY_;if(0!==d||1!=this.imageScale_[0]||1!=this.imageScale_[1]){const n=t+this.imageAnchorX_,r=e+this.imageAnchorY_;Object(Ot.b)(h,n,r,1,1,d,-n,-r),l.setTransform.apply(l,h),l.translate(n,r),l.scale(this.imageScale_[0],this.imageScale_[1]),l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),l.setTransform(1,0,0,1,0,0)}else l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,t,e,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(l.globalAlpha=c)}drawText_(t,e,n,r){if(!this.textState_||""===this.text_)return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=Object(Et.c)(t,e,n,r,this.transform_,this.pixelCoordinates_),l=this.context_;let h=this.textRotation_;for(0===this.transformRotation_&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);e<n;e+=r){const t=o[e]+this.textOffsetX_,n=o[e+1]+this.textOffsetY_;0!==h||1!=this.textScale_[0]||1!=this.textScale_[1]?(l.translate(t-this.textOffsetX_,n-this.textOffsetY_),l.rotate(h),l.translate(this.textOffsetX_,this.textOffsetY_),l.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&l.strokeText(this.text_,0,0),this.textFillState_&&l.fillText(this.text_,0,0),l.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&l.strokeText(this.text_,t,n),this.textFillState_&&l.fillText(this.text_,t,n))}}moveToLineTo_(t,e,n,r,o){const l=this.context_,h=Object(Et.c)(t,e,n,r,this.transform_,this.pixelCoordinates_);l.moveTo(h[0],h[1]);let c=h.length;o&&(c-=2);for(let i=2;i<c;i+=2)l.lineTo(h[i],h[i+1]);return o&&l.closePath(),n}drawRings_(t,e,n,r){for(let i=0,o=n.length;i<o;++i)e=this.moveToLineTo_(t,e,n[i],r,!0);return e}drawCircle(t){if(Object(st.F)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=Object(Wt.b)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],o=Math.sqrt(n*n+r*r),l=this.context_;l.beginPath(),l.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&l.fill(),this.strokeState_&&l.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(style){this.setFillStrokeStyle(style.getFill(),style.getStroke()),this.setImageStyle(style.getImage()),this.setTextStyle(style.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t)}}drawFeature(t,style){const e=style.getGeometryFunction()(t);e&&Object(st.F)(this.extent_,e.getExtent())&&(this.setStyle(style),this.drawGeometry(e))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let i=0,t=e.length;i<t;++i)this.drawGeometry(e[i])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(st.F)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if(Object(st.F)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getFlatCoordinates();let r=0;const o=t.getEnds(),l=t.getStride();e.beginPath();for(let i=0,t=o.length;i<t;++i)r=this.moveToLineTo_(n,r,o[i],l,!1);e.stroke()}if(""!==this.text_){const e=t.getFlatMidpoints();this.drawText_(e,0,e.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(st.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Object(st.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,n=t.getOrientedFlatCoordinates();let r=0;const o=t.getEndss(),l=t.getStride();e.beginPath();for(let i=0,t=o.length;i<t;++i){const t=o[i];r=this.drawRings_(n,r,t,l)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),Object(at.b)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:ot.l;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(t){const e=t.getColor();this.fillState_={fillStyle:Object(nt.a)(e||ot.b)}}else this.fillState_=null;if(e){const t=e.getColor(),n=e.getLineCap(),r=e.getLineDash(),o=e.getLineDashOffset(),l=e.getLineJoin(),h=e.getWidth(),c=e.getMiterLimit(),d=r||ot.e;this.strokeState_={lineCap:void 0!==n?n:ot.d,lineDash:1===this.pixelRatio_?d:d.map((t=>t*this.pixelRatio_)),lineDashOffset:(o||ot.f)*this.pixelRatio_,lineJoin:void 0!==l?l:ot.g,lineWidth:(void 0!==h?h:ot.h)*this.pixelRatio_,miterLimit:void 0!==c?c:ot.i,strokeStyle:Object(nt.a)(t||ot.k)}}else this.strokeState_=null}setImageStyle(t){let e;if(!t||!(e=t.getSize()))return void(this.image_=null);const n=t.getPixelRatio(this.pixelRatio_),r=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*n,this.imageAnchorY_=r[1]*n,this.imageHeight_=e[1]*n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const l=t.getScaleArray();this.imageScale_=[l[0]*this.pixelRatio_/n,l[1]*this.pixelRatio_/n],this.imageWidth_=e[0]*n}setTextStyle(t){if(t){const e=t.getFill();if(e){const t=e.getColor();this.textFillState_={fillStyle:Object(nt.a)(t||ot.b)}}else this.textFillState_=null;const n=t.getStroke();if(n){const t=n.getColor(),e=n.getLineCap(),r=n.getLineDash(),o=n.getLineDashOffset(),l=n.getLineJoin(),h=n.getWidth(),c=n.getMiterLimit();this.textStrokeState_={lineCap:void 0!==e?e:ot.d,lineDash:r||ot.e,lineDashOffset:o||ot.f,lineJoin:void 0!==l?l:ot.g,lineWidth:void 0!==h?h:ot.h,miterLimit:void 0!==c?c:ot.i,strokeStyle:Object(nt.a)(t||ot.k)}}else this.textStrokeState_=null;const r=t.getFont(),o=t.getOffsetX(),l=t.getOffsetY(),h=t.getRotateWithView(),c=t.getRotation(),d=t.getScaleArray(),f=t.getText(),_=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==r?r:ot.c,textAlign:void 0!==_?_:ot.l,textBaseline:void 0!==m?m:ot.m},this.text_=void 0!==f?Array.isArray(f)?f.reduce(((t,e,i)=>t+(i%2?" ":e)),""):f:"",this.textOffsetX_=void 0!==o?this.pixelRatio_*o:0,this.textOffsetY_=void 0!==l?this.pixelRatio_*l:0,this.textRotateWithView_=void 0!==h&&h,this.textRotation_=void 0!==c?c:0,this.textScale_=[this.pixelRatio_*d[0],this.pixelRatio_*d[1]]}else this.text_=""}};const Bt=.5;const Yt={Point:function(t,e,style,n,r){const o=style.getImage(),l=style.getText();let h;if(o){if(o.getImageState()!=O.a.LOADED)return;let c=t;if(r){const d=o.getDeclutterMode();if("none"!==d)if(c=r,"obstacle"===d){const r=t.getBuilder(style.getZIndex(),"Image");r.setImageStyle(o,h),r.drawPoint(e,n)}else l&&l.getText()&&(h={})}const d=c.getBuilder(style.getZIndex(),"Image");d.setImageStyle(o,h),d.drawPoint(e,n)}if(l&&l.getText()){let o=t;r&&(o=r);const c=o.getBuilder(style.getZIndex(),"Text");c.setTextStyle(l,h),c.drawText(e,n)}},LineString:function(t,e,style,n,r){const o=style.getStroke();if(o){const r=t.getBuilder(style.getZIndex(),"LineString");r.setFillStrokeStyle(null,o),r.drawLineString(e,n)}const l=style.getText();if(l&&l.getText()){const o=(r||t).getBuilder(style.getZIndex(),"Text");o.setTextStyle(l),o.drawText(e,n)}},Polygon:function(t,e,style,n,r){const o=style.getFill(),l=style.getStroke();if(o||l){const r=t.getBuilder(style.getZIndex(),"Polygon");r.setFillStrokeStyle(o,l),r.drawPolygon(e,n)}const h=style.getText();if(h&&h.getText()){const o=(r||t).getBuilder(style.getZIndex(),"Text");o.setTextStyle(h),o.drawText(e,n)}},MultiPoint:function(t,e,style,n,r){const o=style.getImage(),l=style.getText();let h;if(o){if(o.getImageState()!=O.a.LOADED)return;let c=t;if(r){const d=o.getDeclutterMode();if("none"!==d)if(c=r,"obstacle"===d){const r=t.getBuilder(style.getZIndex(),"Image");r.setImageStyle(o,h),r.drawMultiPoint(e,n)}else l&&l.getText()&&(h={})}const d=c.getBuilder(style.getZIndex(),"Image");d.setImageStyle(o,h),d.drawMultiPoint(e,n)}if(l&&l.getText()){let o=t;r&&(o=r);const c=o.getBuilder(style.getZIndex(),"Text");c.setTextStyle(l,h),c.drawText(e,n)}},MultiLineString:function(t,e,style,n,r){const o=style.getStroke();if(o){const r=t.getBuilder(style.getZIndex(),"LineString");r.setFillStrokeStyle(null,o),r.drawMultiLineString(e,n)}const l=style.getText();if(l&&l.getText()){const o=(r||t).getBuilder(style.getZIndex(),"Text");o.setTextStyle(l),o.drawText(e,n)}},MultiPolygon:function(t,e,style,n,r){const o=style.getFill(),l=style.getStroke();if(l||o){const r=t.getBuilder(style.getZIndex(),"Polygon");r.setFillStrokeStyle(o,l),r.drawMultiPolygon(e,n)}const h=style.getText();if(h&&h.getText()){const o=(r||t).getBuilder(style.getZIndex(),"Text");o.setTextStyle(h),o.drawText(e,n)}},GeometryCollection:function(t,e,style,n,r){const o=e.getGeometriesArray();let i,l;for(i=0,l=o.length;i<l;++i){(0,Yt[o[i].getType()])(t,o[i],style,n,r)}},Circle:function(t,e,style,n,r){const o=style.getFill(),l=style.getStroke();if(o||l){const r=t.getBuilder(style.getZIndex(),"Circle");r.setFillStrokeStyle(o,l),r.drawCircle(e,n)}const h=style.getText();if(h&&h.getText()){const o=(r||t).getBuilder(style.getZIndex(),"Text");o.setTextStyle(h),o.drawText(e,n)}}};function Kt(t,e){return parseInt(Object(M.b)(t),10)-parseInt(Object(M.b)(e),10)}function Zt(t,e){return.5*t/e}function Vt(t,e,style,n,r,o,l){let h=!1;const c=style.getImage();if(c){const t=c.getImageState();t==O.a.LOADED||t==O.a.ERROR?c.unlistenImageChange(r):(t==O.a.IDLE&&c.load(),c.listenImageChange(r),h=!0)}return function(t,e,style,n,r,o){const l=style.getGeometryFunction()(e);if(!l)return;const h=l.simplifyTransformed(n,r);if(style.getRenderer())Ut(t,h,style,e);else{(0,Yt[h.getType()])(t,h,style,e,o)}}(t,e,style,n,o,l),h}function Ut(t,e,style,n){if("GeometryCollection"==e.getType()){const r=e.getGeometries();for(let i=0,e=r.length;i<e;++i)Ut(t,r[i],style,n);return}t.getBuilder(style.getZIndex(),"Default").drawCustom(e,n,style.getRenderer(),style.getHitDetectionRenderer())}var Ht=n(325),qt=n(391);class Jt extends xt.b{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Object(st.j)(),this.wrappedRenderedExtent_=Object(st.j)(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.declutterExecutorGroup=null,this.clipping=!0,this.compositionContext_=null,this.opacity_=1}renderWorlds(t,e,n){const r=e.extent,o=e.viewState,l=o.center,h=o.resolution,c=o.projection,d=o.rotation,f=c.getExtent(),_=this.getLayer().getSource(),m=e.pixelRatio,v=e.viewHints,y=!(v[zt.a.ANIMATING]||v[zt.a.INTERACTING]),x=this.compositionContext_,O=Math.round(e.size[0]*m),E=Math.round(e.size[1]*m),C=_.getWrapX()&&c.canWrapX(),S=C?Object(st.E)(f):null,R=C?Math.ceil((r[2]-f[2])/S)+1:1;let j=C?Math.floor((r[0]-f[0])/S):0;do{const e=this.getRenderTransform(l,h,d,m,O,E,j*S);t.execute(x,1,e,d,y,void 0,n)}while(++j<R)}setupCompositionContext_(){if(1!==this.opacity_){const t=Object(j.a)(this.context.canvas.width,this.context.canvas.height,xt.a);this.compositionContext_=t}else this.compositionContext_=this.context}releaseCompositionContext_(){if(1!==this.opacity_){const t=this.context.globalAlpha;this.context.globalAlpha=this.opacity_,this.context.drawImage(this.compositionContext_.canvas,0,0),this.context.globalAlpha=t,Object(j.b)(this.compositionContext_),xt.a.push(this.compositionContext_.canvas),this.compositionContext_=null}}renderDeclutter(t){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree),this.releaseCompositionContext_())}renderFrame(t,e){const n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];Object(Ot.e)(this.pixelTransform,1/n,1/n),Object(Ot.d)(this.inversePixelTransform,this.pixelTransform);const o=Object(Ot.g)(this.pixelTransform);this.useContainer(e,o,this.getBackground(t));const l=this.context,canvas=l.canvas,h=this.replayGroup_,c=this.declutterExecutorGroup;if((!h||h.isEmpty())&&(!c||c.isEmpty()))return null;const d=Math.round(t.size[0]*n),f=Math.round(t.size[1]*n);canvas.width!=d||canvas.height!=f?(canvas.width=d,canvas.height=f,canvas.style.transform!==o&&(canvas.style.transform=o)):this.containerReused||l.clearRect(0,0,d,f),this.preRender(l,t);const _=t.viewState,m=_.projection;this.opacity_=r.opacity,this.setupCompositionContext_();let v=!1,y=!0;if(r.extent&&this.clipping){const e=Object(Ht.g)(r.extent,m);y=Object(st.F)(e,t.extent),v=y&&!Object(st.g)(e,t.extent),v&&this.clipUnrotated(this.compositionContext_,t,e)}return y&&this.renderWorlds(h,t),v&&this.compositionContext_.restore(),this.releaseCompositionContext_(),this.postRender(l,t),this.renderedRotation_!==_.rotation&&(this.renderedRotation_=_.rotation,this.hitDetectionImageData_=null),this.container}getFeatures(t){return new Promise((e=>{if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const t=[this.context.canvas.width,this.context.canvas.height];Object(Ot.a)(this.pixelTransform,t);const e=this.renderedCenter_,n=this.renderedResolution_,r=this.renderedRotation_,o=this.renderedProjection_,l=this.wrappedRenderedExtent_,h=this.getLayer(),c=[],d=t[0]*Bt,f=t[1]*Bt;c.push(this.getRenderTransform(e,n,r,Bt,d,f,0).slice());const source=h.getSource(),_=o.getExtent();if(source.getWrapX()&&o.canWrapX()&&!Object(st.g)(_,l)){let t=l[0];const o=Object(st.E)(_);let h,m=0;for(;t<_[0];)--m,h=o*m,c.push(this.getRenderTransform(e,n,r,Bt,d,f,h).slice()),t+=o;for(m=0,t=l[2];t>_[2];)++m,h=o*m,c.push(this.getRenderTransform(e,n,r,Bt,d,f,h).slice()),t-=o}this.hitDetectionImageData_=function(t,e,n,r,o,l,h){const c=t[0]*Bt,d=t[1]*Bt,f=Object(j.a)(c,d);f.imageSmoothingEnabled=!1;const canvas=f.canvas,_=new Xt(f,Bt,o,null,h),m=n.length,v=Math.floor(16777215/m),y={};for(let i=1;i<=m;++i){const t=n[i-1],e=t.getStyleFunction()||r;if(!r)continue;let h=e(t,l);if(!h)continue;Array.isArray(h)||(h=[h]);const c=(i*v).toString(16).padStart(7,"#00000");for(let e=0,n=h.length;e<n;++e){const n=h[e],r=n.getGeometryFunction()(t);if(!r||!Object(st.F)(o,r.getExtent()))continue;const style=n.clone(),l=style.getFill();l&&l.setColor(c);const d=style.getStroke();d&&(d.setColor(c),d.setLineDash(null)),style.setText(void 0);const image=n.getImage();if(image&&0!==image.getOpacity()){const t=image.getImageSize();if(!t)continue;const e=Object(j.a)(t[0],t[1],void 0,{alpha:!1}),img=e.canvas;e.fillStyle=c,e.fillRect(0,0,img.width,img.height),style.setImage(new P({img:img,imgSize:t,anchor:image.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:image.getOrigin(),opacity:1,size:image.getSize(),scale:image.getScale(),rotation:image.getRotation(),rotateWithView:image.getRotateWithView()}))}const f=style.getZIndex()||0;let _=y[f];_||(_={},y[f]=_,_.Polygon=[],_.Circle=[],_.LineString=[],_.Point=[]);const m=r.getType();if("GeometryCollection"===m){const t=r.getGeometriesArrayRecursive();for(let i=0,e=t.length;i<e;++i){const e=t[i];_[e.getType().replace("Multi","")].push(e,style)}}else _[m.replace("Multi","")].push(r,style)}}const x=Object.keys(y).map(Number).sort(at.a);for(let i=0,t=x.length;i<t;++i){const t=y[x[i]];for(const n in t){const r=t[n];for(let t=0,n=r.length;t<n;t+=2){_.setStyle(r[t+1]);for(let n=0,o=e.length;n<o;++n)_.setTransform(e[n]),_.drawGeometry(r[t])}}}return f.getImageData(0,0,canvas.width,canvas.height)}(t,c,this.renderedFeatures_,h.getStyleFunction(),l,n,r)}e(function(t,e,n){const r=[];if(n){const o=Math.floor(Math.round(t[0])*Bt),l=Math.floor(Math.round(t[1])*Bt),h=4*(Object(_t.b)(o,0,n.width-1)+Object(_t.b)(l,0,n.height-1)*n.width),c=n.data[h],g=n.data[h+1],i=n.data[h+2]+256*(g+256*c),d=Math.floor(16777215/e.length);i&&i%d==0&&r.push(e[i/d-1])}return r}(t,this.renderedFeatures_,this.hitDetectionImageData_))}))}forEachFeatureAtCoordinate(t,e,n,r,o){if(!this.replayGroup_)return;const l=e.viewState.resolution,h=e.viewState.rotation,c=this.getLayer(),d={},f=function(t,e,n){const l=Object(M.b)(t),h=d[l];if(h){if(!0!==h&&n<h.distanceSq){if(0===n)return d[l]=!0,o.splice(o.lastIndexOf(h),1),r(t,c,e);h.geometry=e,h.distanceSq=n}}else{if(0===n)return d[l]=!0,r(t,c,e);o.push(d[l]={feature:t,layer:c,geometry:e,distanceSq:n,callback:r})}};let _;const m=[this.replayGroup_];return this.declutterExecutorGroup&&m.push(this.declutterExecutorGroup),m.some((r=>_=r.forEachFeatureAtCoordinate(t,l,h,n,f,r===this.declutterExecutorGroup&&e.declutterTree?e.declutterTree.all().map((t=>t.value)):null))),_}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const e=this.getLayer(),n=e.getSource();if(!n)return!1;const r=t.viewHints[zt.a.ANIMATING],o=t.viewHints[zt.a.INTERACTING],l=e.getUpdateWhileAnimating(),h=e.getUpdateWhileInteracting();if(this.ready&&!l&&r||!h&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const c=t.extent,d=t.viewState,f=d.projection,_=d.resolution,m=t.pixelRatio,v=e.getRevision(),y=e.getRenderBuffer();let x=e.getRenderOrder();void 0===x&&(x=Kt);const O=d.center.slice(),E=Object(st.c)(c,y*_),C=E.slice(),S=[E.slice()],R=f.getExtent();if(n.getWrapX()&&f.canWrapX()&&!Object(st.g)(R,t.extent)){const t=Object(st.E)(R),e=Math.max(Object(st.E)(E)/2,t);E[0]=R[0]-e,E[2]=R[2]+e,Object(qt.f)(O,f);const n=Object(st.K)(S[0],f);n[0]<R[0]&&n[2]<R[2]?S.push([n[0]+t,n[1],n[2]+t,n[3]]):n[0]>R[0]&&n[2]>R[2]&&S.push([n[0]-t,n[1],n[2]-t,n[3]])}if(this.ready&&this.renderedResolution_==_&&this.renderedRevision_==v&&this.renderedRenderOrder_==x&&Object(st.g)(this.wrappedRenderedExtent_,E))return Object(at.b)(this.renderedExtent_,C)||(this.hitDetectionImageData_=null,this.renderedExtent_=C),this.renderedCenter_=O,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const j=new bt(Zt(_,m),E,_,m);let w;this.getLayer().getDeclutter()&&(w=new bt(Zt(_,m),E,_,m));const T=Object(Ht.m)();let I;if(T){for(let i=0,t=S.length;i<t;++i){const t=S[i],e=Object(Ht.o)(t,f);n.loadFeatures(e,Object(Ht.p)(_,f),T)}I=Object(Ht.l)(T,f)}else for(let i=0,t=S.length;i<t;++i)n.loadFeatures(S[i],_,f);const k=function(t,e){const n=Zt(t,e);return n*n}(_,m);let M=!0;const L=t=>{let n;const r=t.getStyleFunction()||e.getStyleFunction();if(r&&(n=r(t,_)),n){const e=this.renderFeature(t,k,n,j,I,w);M=M&&!e}},P=Object(Ht.o)(E,f),A=n.getFeaturesInExtent(P);x&&A.sort(x);for(let i=0,t=A.length;i<t;++i)L(A[i]);this.renderedFeatures_=A,this.ready=M;const F=j.finish(),D=new Gt(E,_,m,n.getOverlaps(),F,e.getRenderBuffer());return w&&(this.declutterExecutorGroup=new Gt(E,_,m,n.getOverlaps(),w.finish(),e.getRenderBuffer())),this.renderedResolution_=_,this.renderedRevision_=v,this.renderedRenderOrder_=x,this.renderedExtent_=C,this.wrappedRenderedExtent_=E,this.renderedCenter_=O,this.renderedProjection_=f,this.replayGroup_=D,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,n,r,o,l){if(!n)return!1;let h=!1;if(Array.isArray(n))for(let i=0,c=n.length;i<c;++i)h=Vt(r,t,n[i],e,this.boundHandleStyleImageChange_,o,l)||h;else h=Vt(r,t,n,e,this.boundHandleStyleImageChange_,o,l);return h}}var Qt=Jt;function $t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(c.a)(t);if(e){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var te=function(t){Object(l.a)(n,t);var e=$t(n);function n(t){return Object(r.a)(this,n),e.call(this,t)}return Object(o.a)(n,[{key:"createRenderer",value:function(){return new Qt(this)}}]),n}(V);e.a=te},495:function(t,e,n){"use strict";var r=n(121),o=n(317),l=n(318),h=n(319),c=n(304),d=n(479),f=n(506),_=n(316);var m=class{constructor(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;for(;e;)t(e.value_,e.key_,this),e=e.newer}get(t,e){const n=this.entries_[t];return Object(_.a)(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}remove(t){const e=this.entries_[t];return Object(_.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e,i=0;for(e=this.newest_;e;e=e.older)t[i++]=e.key_;return t}getValues(){const t=new Array(this.count_);let e,i=0;for(e=this.newest_;e;e=e.older)t[i++]=e.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){if(this.containsKey(t))return this.entries_[t].value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){Object(_.a)(!(t in this.entries_),16);const n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_}setSize(t){this.highWaterMark=t}};function v(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function y(t,e,n){return t+"/"+e+"/"+n}function x(t){return y(t[0],t[1],t[2])}var O=class extends m{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(t){for(;this.canExpireCache();){if(this.peekLast().getKey()in t)break;this.pop().release()}}pruneExceptNewestZ(){if(0===this.getCount())return;const t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach((e=>{e.tileCoord[0]!==t&&(this.remove(x(e.tileCoord)),e.release())}))}},E=n(377),C="tileloadstart",S="tileloadend",R="tileloaderror",j=n(369),w=n(481),T=n(313),I=n(325),k=n(478),M=n(446),L=n(303),P=n(293),A=n(507),F=n(320),D=n(385);const N=[0,0,0];var G=class{constructor(t){let e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(_.a)(Object(F.d)(this.resolutions_,(function(a,b){return b-a}),!0),17),!t.origins)for(let i=0,t=this.resolutions_.length-1;i<t;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(_.a)(this.origins_.length==this.resolutions_.length,20));const n=t.extent;void 0===n||this.origin_||this.origins_||(this.origin_=Object(P.C)(n)),Object(_.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(_.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:M.b,Object(_.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==n?n:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){const r=new k.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(n){const t=this.getTileRangeForExtentAndZ(n,e);r.minX=Math.max(t.minX,r.minX),r.maxX=Math.min(t.maxX,r.maxX),r.minY=Math.max(t.minY,r.minY),r.maxY=Math.min(t.maxY,r.maxY)}return r}),this):n&&this.calculateTileRanges_(n)}forEachTileCoord(t,e,n){const r=this.getTileRangeForExtentAndZ(t,e);for(let i=r.minX,t=r.maxX;i<=t;++i)for(let t=r.minY,o=r.maxY;t<=o;++t)n([e,i,t])}forEachTileCoordParentTileRange(t,e,n,r){let o,l,h,c=null,d=t[0]-1;for(2===this.zoomFactor_?(l=t[1],h=t[2]):c=this.getTileCoordExtent(t,r);d>=this.minZoom;){if(2===this.zoomFactor_?(l=Math.floor(l/2),h=Math.floor(h/2),o=Object(k.a)(l,l,h,h,n)):o=this.getTileRangeForExtentAndZ(c,d,n),e(d,o))return!0;--d}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){const n=2*t[1],r=2*t[2];return Object(k.a)(n,n+1,r,r+1,e)}const r=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,t[0]+1,e)}return null}getTileRangeForTileCoordAndZ(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;const r=t[0],o=t[1],l=t[2];if(e===r)return Object(k.a)(o,l,o,l,n);if(this.zoomFactor_){const t=Math.pow(this.zoomFactor_,e-r),h=Math.floor(o*t),c=Math.floor(l*t);if(e<r)return Object(k.a)(h,h,c,c,n);const d=Math.floor(t*(o+1))-1,f=Math.floor(t*(l+1))-1;return Object(k.a)(h,d,c,f,n)}const h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,e,n)}getTileRangeExtent(t,e,n){const r=this.getOrigin(t),o=this.getResolution(t),l=Object(D.c)(this.getTileSize(t),this.tmpSize_),h=r[0]+e.minX*l[0]*o,c=r[0]+(e.maxX+1)*l[0]*o,d=r[1]+e.minY*l[1]*o,f=r[1]+(e.maxY+1)*l[1]*o;return Object(P.k)(h,d,c,f,n)}getTileRangeForExtentAndZ(t,e,n){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,N);const r=N[1],o=N[2];this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,N);const l=N[1],h=N[2];return Object(k.a)(r,l,o,h,n)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=Object(D.c)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]-(t[2]+.5)*r[1]*n]}getTileCoordExtent(t,e){const n=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=Object(D.c)(this.getTileSize(t[0]),this.tmpSize_),l=n[0]+t[1]*o[0]*r,h=n[1]-(t[2]+1)*o[1]*r,c=l+o[0]*r,d=h+o[1]*r;return Object(P.k)(l,h,c,d,e)}getTileCoordForCoordAndResolution(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)}getTileCoordForXYAndResolution_(t,e,n,r,o){const l=this.getZForResolution(n),h=n/this.getResolution(l),c=this.getOrigin(l),d=Object(D.c)(this.getTileSize(l),this.tmpSize_);let f=h*(t-c[0])/n/d[0],_=h*(c[1]-e)/n/d[1];return r?(f=Object(L.a)(f,5)-1,_=Object(L.a)(_,5)-1):(f=Object(L.c)(f,5),_=Object(L.c)(_,5)),v(l,f,_,o)}getTileCoordForXYAndZ_(t,e,n,r,o){const l=this.getOrigin(n),h=this.getResolution(n),c=Object(D.c)(this.getTileSize(n),this.tmpSize_);let d=(t-l[0])/h/c[0],f=(l[1]-e)/h/c[1];return r?(d=Object(L.a)(d,5)-1,f=Object(L.a)(f,5)-1):(d=Object(L.c)(d,5),f=Object(L.c)(f,5)),v(n,d,f,o)}getTileCoordForCoordAndZ(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){const n=Object(F.e)(this.resolutions_,t,e||0);return Object(L.b)(n,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,e){return Object(A.a)(e,0,e.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const e=this.resolutions_.length,n=new Array(e);for(let r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n}};function z(t){let e=t.getDefaultTileGrid();return e||(e=function(t,e,n,r){return function(t,e,n,r){r=void 0!==r?r:"top-left";const o=W(t,e,n);return new G({extent:t,origin:Object(P.x)(t,r),resolutions:o,tileSize:n})}(X(t),e,n,r)}(t),t.setDefaultTileGrid(e)),e}function W(t,e,n,r){e=void 0!==e?e:M.a,n=Object(D.c)(void 0!==n?n:M.b);const o=Object(P.z)(t),l=Object(P.E)(t);r=r>0?r:Math.max(l/n[0],o/n[1]);const h=e+1,c=new Array(h);for(let t=0;t<h;++t)c[t]=r/Math.pow(2,t);return c}function X(t){let e=(t=Object(I.i)(t)).getExtent();if(!e){const n=180*I.a.degrees/t.getMetersPerUnit();e=Object(P.k)(-n,-n,n,n)}return e}class B extends w.a{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null;const e=[256,256];this.tileGrid&&Object(D.c)(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),e),this.tileCache=new O(t.cacheSize||0),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(t,e){const n=this.getTileCacheForProjection(t);n&&n.expireCache(e)}forEachLoadedTile(t,e,n,r){const o=this.getTileCacheForProjection(t);if(!o)return!1;let l,h,c,d=!0;for(let t=n.minX;t<=n.maxX;++t)for(let f=n.minY;f<=n.maxY;++f)h=y(e,t,f),c=!1,o.containsKey(h)&&(l=o.get(h),c=l.getState()===E.a.LOADED,c&&(c=!1!==r(l))),c||(d=!1);return d}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getOpaque(t){return this.opaque_}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,n,r,o){return Object(T.a)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:z(t)}getTileCacheForProjection(t){const e=this.getProjection();return Object(_.a)(null===e||Object(I.d)(e,t),68),this.tileCache}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,n){const r=this.getTileGridForProjection(n),o=this.getTilePixelRatio(e),l=Object(D.c)(r.getTileSize(t),this.tmpSize);return 1==o?l:Object(D.b)(l,o,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){e=void 0!==e?e:this.getProjection();const n=this.getTileGridForProjection(e);return this.getWrapX()&&e.isGlobal()&&(t=function(t,e,n){const r=e[0],o=t.getTileCoordCenter(e),l=X(n);if(!Object(P.f)(l,o)){const e=Object(P.E)(l),n=Math.ceil((l[0]-o[0])/e);return o[0]+=e*n,t.getTileCoordForCoordAndZ(o,r)}return e}(n,t,e)),function(t,e){const n=t[0],r=t[1],o=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const l=e.getFullTileRange(n);return!l||l.containsXY(r,o)}(t,n)?t:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(t,e){const n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)}useTile(t,e,n,r){}}class Y extends j.a{constructor(t,e){super(t),this.tile=e}}var K=B;function Z(template,t){const e=/\{z\}/g,n=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(l,h,c){if(l)return template.replace(e,l[0].toString()).replace(n,l[1].toString()).replace(r,l[2].toString()).replace(o,(function(){const e=l[0],n=t.getFullTileRange(e);Object(_.a)(n,55);return(n.getHeight()-l[2]-1).toString()}))}}function V(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=Z(t[i],e);return function(t){if(1===t.length)return t[0];return function(e,n,r){if(!e)return;const o=function(t){return(t[1]<<t[0])+t[2]}(e),l=Object(L.e)(o,t.length);return t[l](e,n,r)}}(r)}class U extends K{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===U.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,n=Object(T.b)(e),r=e.getState();let o;r==E.a.LOADING?(this.tileLoadingKeys_[n]=!0,o=C):n in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[n],o=r==E.a.ERROR?R:r==E.a.LOADED?S:void 0),null!=o&&this.dispatchEvent(new Y(o,e))}setTileLoadFunction(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()}setUrl(t){const e=function(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),o=n[2].charCodeAt(0);let l;for(l=r;l<=o;++l)e.push(t.replace(n[0],String.fromCharCode(l)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(V(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,n){}useTile(t,e,n){const r=y(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)}}var H=U;function J(t,e){t.getImage().src=e}var Q=class extends H{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:J,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:d.a,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1}expireCache(t,e){const n=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==n?e:{});for(const t in this.tileCacheForProjection){const r=this.tileCacheForProjection[t];r.expireCache(r==n?e:{})}}getGutterForProjection(t){return this.getProjection()&&t&&!Object(I.d)(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getOpaque(t){return!(this.getProjection()&&t&&!Object(I.d)(this.getProjection(),t))&&super.getOpaque(t)}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||Object(I.d)(e,t)))return this.tileGrid;const n=Object(T.b)(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=z(t)),this.tileGridForProjection[n]}getTileCacheForProjection(t){const e=this.getProjection();if(!e||Object(I.d)(e,t))return this.tileCache;const n=Object(T.b)(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new O(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]}createTile_(t,e,n,r,o,l){const h=[t,e,n],d=this.getTileCoordForTileUrlFunction(h,o),f=d?this.tileUrlFunction(d,r,o):void 0,_=new this.tileClass(h,void 0!==f?E.a.IDLE:E.a.EMPTY,void 0!==f?f:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return _.key=l,_.addEventListener(c.a.CHANGE,this.handleTileChange.bind(this)),_}getTile(t,e,n,r,o){const l=this.getProjection();if(!l||!o||Object(I.d)(l,o))return this.getTileInternal(t,e,n,r,l||o);const h=this.getTileCacheForProjection(o),c=[t,e,n];let d;const _=x(c);h.containsKey(_)&&(d=h.get(_));const m=this.getKey();if(d&&d.key==m)return d;const v=this.getTileGridForProjection(l),y=this.getTileGridForProjection(o),O=this.getTileCoordForTileUrlFunction(c,o),E=new f.a(l,v,o,y,c,O,this.getTilePixelRatio(r),this.getGutter(),((t,e,n,r)=>this.getTileInternal(t,e,n,r,l)),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return E.key=m,d?(E.interimTile=d,E.refreshInterimChain(),h.replace(_,E)):h.set(_,E),E}getTileInternal(t,e,n,r,o){let l=null;const h=y(t,e,n),c=this.getKey();if(this.tileCache.containsKey(h)){if(l=this.tileCache.get(h),l.key!=c){const d=l;l=this.createTile_(t,e,n,r,o,c),d.getState()==E.a.IDLE?l.interimTile=d.interimTile:l.interimTile=d,l.refreshInterimChain(),this.tileCache.replace(h,l)}}else l=this.createTile_(t,e,n,r,o,c),this.tileCache.set(h,l);return l}setRenderReprojectionEdges(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear();this.changed()}}setTileGridForProjection(t,e){const n=Object(I.i)(t);if(n){const t=Object(T.b)(n);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}clear(){super.clear();for(const t in this.tileCacheForProjection)this.tileCacheForProjection[t].clear()}};function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(h.a)(t);if(e){var o=Object(h.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(l.a)(this,n)}}var tt=function(t){Object(o.a)(n,t);var e=$(n);function n(t){var o;Object(r.a)(this,n),o=void 0!==(t=t||{}).attributions?t.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'];var l=void 0!==t.crossOrigin?t.crossOrigin:"anonymous",h=void 0!==t.url?t.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";return e.call(this,{attributions:o,attributionsCollapsible:!1,cacheSize:t.cacheSize,crossOrigin:l,interpolate:t.interpolate,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,opaque:void 0===t.opaque||t.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:h,wrapX:t.wrapX,zDirection:t.zDirection})}return n}(class extends Q{constructor(t){const e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",n=void 0!==t.tileGrid?t.tileGrid:function(t){const e=t||{},n=e.extent||Object(I.i)("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:W(n,e.maxZoom,e.tileSize,e.maxResolution)};return new G(r)}({extent:X(e),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0}getGutter(){return this.gutter_}});e.a=tt},496:function(t,e,n){"use strict";n.d(e,"b",(function(){return A}));var r=n(426),o=n(303);function l(t,e,n,r,l,h,c){const d=t[e],f=t[e+1],_=t[n]-d,m=t[n+1]-f;let v;if(0===_&&0===m)v=e;else{const y=((l-d)*_+(h-f)*m)/(_*_+m*m);if(y>1)v=n;else{if(y>0){for(let i=0;i<r;++i)c[i]=Object(o.d)(t[e+i],t[n+i],y);return void(c.length=r)}v=e}}for(let i=0;i<r;++i)c[i]=t[v+i];c.length=r}function h(t,e,n,r,l){let h=t[e],c=t[e+1];for(e+=r;e<n;e+=r){const n=t[e],r=t[e+1],d=Object(o.g)(h,c,n,r);d>l&&(l=d),h=n,c=r}return l}function c(t,e,n,r,o){for(let i=0,l=n.length;i<l;++i){const l=n[i];o=h(t,e,l,r,o),e=l}return o}function d(t,e,n,r,h,c,d,f,_,m,v){if(e==n)return m;let i,y;if(0===h){if(y=Object(o.g)(d,f,t[e],t[e+1]),y<m){for(i=0;i<r;++i)_[i]=t[e+i];return _.length=r,y}return m}v=v||[NaN,NaN];let x=e+r;for(;x<n;)if(l(t,x-r,x,r,d,f,v),y=Object(o.g)(d,f,v[0],v[1]),y<m){for(m=y,i=0;i<r;++i)_[i]=v[i];_.length=r,x+=r}else x+=r*Math.max((Math.sqrt(y)-Math.sqrt(m))/h|0,1);if(c&&(l(t,n-r,e,r,d,f,v),y=Object(o.g)(d,f,v[0],v[1]),y<m)){for(m=y,i=0;i<r;++i)_[i]=v[i];_.length=r}return m}function f(t,e,n,r,o,l,h,c,f,_,m){m=m||[NaN,NaN];for(let i=0,v=n.length;i<v;++i){const v=n[i];_=d(t,e,v,r,o,l,h,c,f,_,m),e=v}return _}var _=n(293),m=n(444),v=n(445),y=n(442);function x(t,e,n,r){let o=0,l=t[n-r],h=t[n-r+1];for(;e<n;e+=r){const n=t[e],r=t[e+1];o+=h*n-l*r,l=n,h=r}return o/2}function O(t,e,n,r){let area=0;for(let i=0,o=n.length;i<o;++i){const o=n[i];area+=x(t,e,o,r),e=o}return area}class E extends r.a{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}clone(){return new E(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,n,r){return r<Object(_.e)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(h(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),d(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))}getArea(){return x(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Object(y.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=Object(v.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new E(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(m.b)(this.flatCoordinates,0,t,this.stride),this.changed()}}var C=E,S=n(443),R=n(320),j=n(441);function w(t,e,n,r,o,l,h){let i,c,d,f,_,m,v;const y=o[l+1],x=[];for(let o=0,l=n.length;o<l;++o){const l=n[o];for(f=t[l-r],m=t[l-r+1],i=e;i<l;i+=r)_=t[i],v=t[i+1],(y<=m&&v<=y||m<=y&&y<=v)&&(d=(y-m)/(v-m)*(_-f)+f,x.push(d)),f=_,m=v}let O=NaN,E=-1/0;for(x.sort(R.a),f=x[0],i=1,c=x.length;i<c;++i){_=x[i];const o=Math.abs(_-f);o>E&&(d=(f+_)/2,Object(j.c)(t,e,n,r,d,y)&&(O=d,E=o)),f=_}return isNaN(O)&&(O=o[l]),h?(h.push(O,y,E),h):[O,y,E]}var T=n(507);function I(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const o=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=o}e+=r,n-=r}}function k(t,e,n,r){let o=0,l=t[n-r],h=t[n-r+1];for(;e<n;e+=r){const n=t[e],r=t[e+1];o+=(n-l)*(r+h),l=n,h=r}return 0===o?void 0:o>0}function M(t,e,n,r,o){o=void 0!==o&&o;for(let i=0,l=n.length;i<l;++i){const l=n[i],h=k(t,e,l,r);if(0===i){if(o&&h||!o&&!h)return!1}else if(o&&!h||!o&&h)return!1;e=l}return!0}function L(t,e,n,r,o){o=void 0!==o&&o;for(let i=0,l=n.length;i<l;++i){const l=n[i],h=k(t,e,l,r);(0===i?o&&h||!o&&!h:o&&!h||!o&&h)&&I(t,e,l,r),e=l}return e}n(467);class P extends r.a{constructor(t,e,n){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&n?(this.setFlatCoordinates(e,t),this.ends_=n):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?Object(R.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const polygon=new P(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return polygon.applyProperties(this),polygon}closestPointXY(t,e,n,r){return r<Object(_.e)(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(c(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),f(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))}containsXY(t,e){return Object(j.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return O(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),L(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(y.b)(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=Object(_.w)(this.getExtent());this.flatInteriorPoint_=w(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new S.a(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new C(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[];let o=0;for(let i=0,l=n.length;i<l;++i){const l=n[i],h=new C(e.slice(o,l),t);r.push(h),o=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;M(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=L(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],n=[];return e.length=Object(v.b)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,n),new P(e,"XY",n)}getType(){return"Polygon"}intersectsExtent(t){return Object(T.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const n=Object(m.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}e.a=P;function A(t){const e=t[0],n=t[1],r=t[2],o=t[3],l=[e,n,e,o,r,o,r,n,e,n];return new P(l,"XY",[l.length])}},504:function(t,e,n){"use strict";n(79),n(42),n(120),n(13),n(477),n(50),n(41);var r=n(290),o=n(122),l=n(414),h=n(121),c=n(317),d=n(318),f=n(319),_=n(410),m=n(418),v=n(369),y=n(304),x=n(409),O=n(484),E=n.n(O),C=n(293),S=n(313),R=n(359);var j=class{constructor(t){this.rbush_=new E.a(t),this.items_={}}insert(t,e){const n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Object(S.b)(e)]=n}load(t,e){const n=new Array(e.length);for(let i=0,r=e.length;i<r;i++){const r=t[i],o=e[i],l={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:o};n[i]=l,this.items_[Object(S.b)(o)]=l}this.rbush_.load(n)}remove(t){const e=Object(S.b)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)}update(t,e){const n=this.items_[Object(S.b)(e)],r=[n.minX,n.minY,n.maxX,n.maxY];Object(C.o)(r,t)||(this.remove(e),this.insert(t,e))}getAll(){return this.rbush_.all().map((function(t){return t.value}))}getInExtent(t){const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let n;for(let i=0,r=t.length;i<r;i++)if(n=e(t[i]),n)return n;return n}isEmpty(){return Object(R.b)(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const data=this.rbush_.toJSON();return Object(C.k)(data.minX,data.minY,data.maxX,data.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const i in t.items_)this.items_[i]=t.items_[i]}},w=n(481),T="addfeature",I="changefeature",k="clear",M="removefeature",L="featuresloadstart",P="featuresloadend",A="featuresloaderror",F=n(326);n(325);function D(t,e){return[[-1/0,-1/0,1/0,1/0]]}var N=n(316),G=n(320),z=n(357);let W=!1;function X(t,e){return function(n,r,o,l,h){const source=this;!function(t,e,n,r,o,l,h){const c=new XMLHttpRequest;c.open("GET","function"==typeof t?t(n,r,o):t,!0),"arraybuffer"==e.getType()&&(c.responseType="arraybuffer"),c.withCredentials=W,c.onload=function(t){if(!c.status||c.status>=200&&c.status<300){const t=e.getType();let source;"json"==t||"text"==t?source=c.responseText:"xml"==t?(source=c.responseXML,source||(source=(new DOMParser).parseFromString(c.responseText,"application/xml"))):"arraybuffer"==t&&(source=c.response),source?l(e.readFeatures(source,{extent:n,featureProjection:o}),e.readProjection(source)):h()}else h()},c.onerror=h,c.send()}(t,e,n,r,o,(function(t,e){source.addFeatures(t),void 0!==l&&l(t)}),h||F.c)}}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var Y=function(t){Object(c.a)(n,t);var e=B(n);function n(t,r,o){var l;return Object(h.a)(this,n),(l=e.call(this,t)).feature=r,l.features=o,l}return n}(v.a),K=function(t){Object(c.a)(n,t);var e=B(n);function n(t){var r;Object(h.a)(this,n),t=t||{},(r=e.call(this,{attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX})).on,r.once,r.un,r.loader_=F.c,r.format_=t.format,r.overlaps_=void 0===t.overlaps||t.overlaps,r.url_=t.url,void 0!==t.loader?r.loader_=t.loader:void 0!==r.url_&&(Object(N.a)(r.format_,7),r.loader_=X(r.url_,r.format_)),r.strategy_=void 0!==t.strategy?t.strategy:D;var o,l,c=void 0===t.useSpatialIndex||t.useSpatialIndex;return r.featuresRtree_=c?new j:null,r.loadedExtentsRtree_=new j,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null,Array.isArray(t.features)?l=t.features:t.features&&(l=(o=t.features).getArray()),c||void 0!==o||(o=new _.a(l)),void 0!==l&&r.addFeaturesInternal(l),void 0!==o&&r.bindFeaturesCollection_(o),r}return Object(o.a)(n,[{key:"addFeature",value:function(t){this.addFeatureInternal(t),this.changed()}},{key:"addFeatureInternal",value:function(t){var e=Object(S.b)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Y(T,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)}},{key:"setupChangeEvents_",value:function(t,e){this.featureChangeKeys_[t]=[Object(z.a)(e,y.a.CHANGE,this.handleFeatureChange_,this),Object(z.a)(e,x.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]}},{key:"addToIndex_",value:function(t,e){var n=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e),n&&(Object(N.a)(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n}},{key:"addFeatures",value:function(t){this.addFeaturesInternal(t),this.changed()}},{key:"addFeaturesInternal",value:function(t){for(var e=[],n=[],r=[],i=0,o=t.length;i<o;i++){var l=t[i],h=Object(S.b)(l);this.addToIndex_(h,l)&&n.push(l)}for(var c=0,d=n.length;c<d;c++){var f=n[c],_=Object(S.b)(f);this.setupChangeEvents_(_,f);var m=f.getGeometry();if(m){var v=m.getExtent();e.push(v),r.push(f)}else this.nullGeometryFeatures_[_]=f}if(this.featuresRtree_&&this.featuresRtree_.load(e,r),this.hasListener(T))for(var y=0,x=n.length;y<x;y++)this.dispatchEvent(new Y(T,n[y]))}},{key:"bindFeaturesCollection_",value:function(t){var e=this,n=!1;this.addEventListener(T,(function(e){n||(n=!0,t.push(e.feature),n=!1)})),this.addEventListener(M,(function(e){n||(n=!0,t.remove(e.feature),n=!1)})),t.addEventListener(m.a.ADD,(function(t){n||(n=!0,e.addFeature(t.element),n=!1)})),t.addEventListener(m.a.REMOVE,(function(t){n||(n=!0,e.removeFeature(t.element),n=!1)})),this.featuresCollection_=t}},{key:"clear",value:function(t){var e=this;if(t){for(var n in this.featureChangeKeys_){this.featureChangeKeys_[n].forEach(z.c)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){for(var r in this.featuresRtree_.forEach((function(t){e.removeFeatureInternal(t)})),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var o=new Y(k);this.dispatchEvent(o),this.changed()}},{key:"forEachFeature",value:function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}},{key:"forEachFeatureAtCoordinateDirect",value:function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){if(n.getGeometry().intersectsCoordinate(t))return e(n)}))}},{key:"forEachFeatureInExtent",value:function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}},{key:"forEachFeatureIntersectingExtent",value:function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var r=e(n);if(r)return r}}))}},{key:"getFeaturesCollection",value:function(){return this.featuresCollection_}},{key:"getFeatures",value:function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(R.b)(this.nullGeometryFeatures_)||Object(G.c)(t,Object.values(this.nullGeometryFeatures_))),t}},{key:"getFeaturesAtCoordinate",value:function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e}},{key:"getFeaturesInExtent",value:function(t,e){var n=this;if(this.featuresRtree_){var o;if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);var l=Object(C.J)(t,e);return(o=[]).concat.apply(o,Object(r.a)(l.map((function(t){return n.featuresRtree_.getInExtent(t)}))))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}},{key:"getClosestFeatureToCoordinate",value:function(t,filter){var e=t[0],n=t[1],r=null,o=[NaN,NaN],l=1/0,h=[-1/0,-1/0,1/0,1/0];return filter=filter||F.b,this.featuresRtree_.forEachInExtent(h,(function(t){if(filter(t)){var c=t.getGeometry(),d=l;if((l=c.closestPointXY(e,n,o,l))<d){r=t;var f=Math.sqrt(l);h[0]=e-f,h[1]=n-f,h[2]=e+f,h[3]=n+f}}})),r}},{key:"getExtent",value:function(t){return this.featuresRtree_.getExtent(t)}},{key:"getFeatureById",value:function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null}},{key:"getFeatureByUid",value:function(t){var e=this.uidIndex_[t];return void 0!==e?e:null}},{key:"getFormat",value:function(){return this.format_}},{key:"getOverlaps",value:function(){return this.overlaps_}},{key:"getUrl",value:function(){return this.url_}},{key:"handleFeatureChange_",value:function(t){var e=t.target,n=Object(S.b)(e),r=e.getGeometry();if(r){var o=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var l=e.getId();if(void 0!==l){var h=l.toString();this.idIndex_[h]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[h]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new Y(I,e))}},{key:"hasFeature",value:function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(S.b)(t)in this.uidIndex_}},{key:"isEmpty",value:function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Object(R.b)(this.nullGeometryFeatures_):!this.featuresCollection_||0===this.featuresCollection_.getLength()}},{key:"loadFeatures",value:function(t,e,n){for(var r=this,o=this.loadedExtentsRtree_,l=this.strategy_(t,e,n),h=function(i,t){var h=l[i];o.forEachInExtent(h,(function(object){return Object(C.g)(object.extent,h)}))||(++r.loadingExtentsCount_,r.dispatchEvent(new Y(L)),r.loader_.call(r,h,e,n,(function(t){--r.loadingExtentsCount_,r.dispatchEvent(new Y(P,void 0,t))}),(function(){--r.loadingExtentsCount_,r.dispatchEvent(new Y(A))})),o.insert(h,{extent:h.slice()}))},i=0,c=l.length;i<c;++i)h(i);this.loading=!(this.loader_.length<4)&&this.loadingExtentsCount_>0}},{key:"refresh",value:function(){this.clear(!0),this.loadedExtentsRtree_.clear(),Object(l.a)(Object(f.a)(n.prototype),"refresh",this).call(this)}},{key:"removeLoadedExtent",value:function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(object){if(Object(C.o)(object.extent,t))return e=object,!0})),e&&n.remove(e)}},{key:"removeFeature",value:function(t){if(t){var e=Object(S.b)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t)&&this.changed()}}},{key:"removeFeatureInternal",value:function(t){var e=Object(S.b)(t),n=this.featureChangeKeys_[e];if(n){n.forEach(z.c),delete this.featureChangeKeys_[e];var r=t.getId();return void 0!==r&&delete this.idIndex_[r.toString()],delete this.uidIndex_[e],this.dispatchEvent(new Y(M,t)),t}}},{key:"removeFromIdIndex_",value:function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e}},{key:"setLoader",value:function(t){this.loader_=t}},{key:"setUrl",value:function(t){Object(N.a)(this.format_,7),this.url_=t,this.setLoader(X(t,this.format_))}}]),n}(w.a);e.a=K},505:function(t,e,n){"use strict";var r=n(121),o=n(122),l=n(317),h=n(318),c=n(319),d=n(407),f="preload",_="useInterimTilesOnError";class m extends d.a{constructor(t){t=t||{};const e=Object.assign({},t);delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.setPreload(void 0!==t.preload?t.preload:0),this.setUseInterimTilesOnError(void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}getPreload(){return this.get(f)}setPreload(t){this.set(f,t)}getUseInterimTilesOnError(){return this.get(_)}setUseInterimTilesOnError(t){this.set(_,t)}getData(t){return super.getData(t)}}var v=m,y=n(508),x=n(479),O=n(506),E=n(478),C=n(377),S=n(370),R=n(320),j=n(293),w=n(325),T=n(313),I=n(385);class k extends y.b{constructor(t){super(t),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Object(j.j)(),this.tmpTileRange_=new E.b(0,0,0,0)}isDrawableTile(t){const e=this.getLayer(),n=t.getState(),r=e.getUseInterimTilesOnError();return n==C.a.LOADED||n==C.a.EMPTY||n==C.a.ERROR&&!r}getTile(t,e,n,r){const o=r.pixelRatio,l=r.viewState.projection,h=this.getLayer();let c=h.getSource().getTile(t,e,n,o,l);return c.getState()==C.a.ERROR&&h.getUseInterimTilesOnError()&&h.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(c)||(c=c.getInterimTile()),c}getData(t){const e=this.frameState;if(!e)return null;const n=this.getLayer(),r=Object(S.a)(e.pixelToCoordinateTransform,t.slice()),o=n.getExtent();if(o&&!Object(j.f)(o,r))return null;const l=e.pixelRatio,h=e.viewState.projection,c=e.viewState,source=n.getRenderSource(),d=source.getTileGridForProjection(c.projection),f=source.getTilePixelRatio(e.pixelRatio);for(let t=d.getZForResolution(c.resolution);t>=d.getMinZoom();--t){const e=d.getTileCoordForCoordAndZ(r,t),n=source.getTile(t,e[1],e[2],l,h);if(!(n instanceof x.a||n instanceof O.a)||n instanceof O.a&&n.getState()===C.a.EMPTY)return null;if(n.getState()!==C.a.LOADED)continue;const o=d.getOrigin(t),_=Object(I.c)(d.getTileSize(t)),m=d.getResolution(t),col=Math.floor(f*((r[0]-o[0])/m-e[1]*_[0])),v=Math.floor(f*((o[1]-r[1])/m-e[2]*_[1])),y=Math.round(f*source.getGutterForProjection(c.projection));return this.getImageData(n.getImage(),col+y,v+y)}return null}loadedTileCallback(t,e,n){return!!this.isDrawableTile(n)&&super.loadedTileCallback(t,e,n)}prepareFrame(t){return!!this.getLayer().getSource()}renderFrame(t,e){const n=t.layerStatesArray[t.layerIndex],r=t.viewState,o=r.projection,l=r.resolution,h=r.center,c=r.rotation,d=t.pixelRatio,f=this.getLayer(),_=f.getSource(),m=_.getRevision(),v=_.getTileGridForProjection(o),y=v.getZForResolution(l,_.zDirection),x=v.getResolution(y);let O=t.extent;const E=t.viewState.resolution,I=_.getTilePixelRatio(d),k=Math.round(Object(j.E)(O)/E*d),M=Math.round(Object(j.z)(O)/E*d),L=n.extent&&Object(w.g)(n.extent,o);L&&(O=Object(j.A)(O,Object(w.g)(n.extent,o)));const P=x*k/2/I,A=x*M/2/I,F=[h[0]-P,h[1]-A,h[0]+P,h[1]+A],D=v.getTileRangeForExtentAndZ(O,y),N={};N[y]={};const G=this.createLoadedTileFinder(_,o,N),z=this.tmpExtent,W=this.tmpTileRange_;this.newTiles_=!1;const X=c?Object(j.B)(r.center,E,c,t.size):void 0;for(let e=D.minX;e<=D.maxX;++e)for(let r=D.minY;r<=D.maxY;++r){if(c&&!v.tileCoordIntersectsViewport([y,e,r],X))continue;const o=this.getTile(y,e,r,t);if(this.isDrawableTile(o)){const e=Object(T.b)(this);if(o.getState()==C.a.LOADED){N[y][o.tileCoord.toString()]=o;let t=o.inTransition(e);t&&1!==n.opacity&&(o.endTransition(e),t=!1),this.newTiles_||!t&&this.renderedTiles.includes(o)||(this.newTiles_=!0)}if(1===o.getAlpha(e,t.time))continue}const l=v.getTileCoordChildTileRange(o.tileCoord,W,z);let h=!1;l&&(h=G(y+1,l)),h||v.forEachTileCoordParentTileRange(o.tileCoord,G,W,z)}const B=x/l*d/I;Object(S.b)(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/d,1/d,c,-k/2,-M/2);const Y=Object(S.g)(this.pixelTransform);this.useContainer(e,Y,this.getBackground(t));const K=this.context,canvas=K.canvas;Object(S.d)(this.inversePixelTransform,this.pixelTransform),Object(S.b)(this.tempTransform,k/2,M/2,B,B,0,-k/2,-M/2),canvas.width!=k||canvas.height!=M?(canvas.width=k,canvas.height=M):this.containerReused||K.clearRect(0,0,k,M),L&&this.clipUnrotated(K,t,L),_.getInterpolate()||(K.imageSmoothingEnabled=!1),this.preRender(K,t),this.renderedTiles.length=0;let Z,V,U,H=Object.keys(N).map(Number);H.sort(R.a),1!==n.opacity||this.containerReused&&!_.getOpaque(t.viewState.projection)?(Z=[],V=[]):H=H.reverse();for(let i=H.length-1;i>=0;--i){const e=H[i],n=_.getTilePixelSize(e,d,o),r=v.getResolution(e)/x,l=n[0]*r*B,h=n[1]*r*B,c=v.getTileCoordForCoordAndZ(Object(j.C)(F),e),f=v.getTileCoordExtent(c),m=Object(S.a)(this.tempTransform,[I*(f[0]-F[0])/x,I*(F[3]-f[3])/x]),O=I*_.getGutterForProjection(o),E=N[e];for(const n in E){const r=E[n],o=r.tileCoord,d=c[1]-o[1],f=Math.round(m[0]-(d-1)*l),v=c[2]-o[2],x=Math.round(m[1]-(v-1)*h),C=Math.round(m[0]-d*l),S=Math.round(m[1]-v*h),R=f-C,w=x-S,I=y===e,k=I&&1!==r.getAlpha(Object(T.b)(this),t.time);let M=!1;if(!k)if(Z){U=[C,S,C+R,S,C+R,S+w,C,S+w];for(let i=0,t=Z.length;i<t;++i)if(y!==e&&e<V[i]){const t=Z[i];Object(j.F)([C,S,C+R,S+w],[t[0],t[3],t[4],t[7]])&&(M||(K.save(),M=!0),K.beginPath(),K.moveTo(U[0],U[1]),K.lineTo(U[2],U[3]),K.lineTo(U[4],U[5]),K.lineTo(U[6],U[7]),K.moveTo(t[6],t[7]),K.lineTo(t[4],t[5]),K.lineTo(t[2],t[3]),K.lineTo(t[0],t[1]),K.clip())}Z.push(U),V.push(e)}else K.clearRect(C,S,R,w);this.drawTileImage(r,t,C,S,R,w,O,I),Z&&!k?(M&&K.restore(),this.renderedTiles.unshift(r)):this.renderedTiles.push(r),this.updateUsedTiles(t.usedTiles,_,r)}}return this.renderedRevision=m,this.renderedResolution=x,this.extentChanged=!this.renderedExtent_||!Object(j.o)(this.renderedExtent_,F),this.renderedExtent_=F,this.renderedPixelRatio=d,this.renderedProjection=o,this.manageTilePyramid(t,_,v,d,o,O,y,f.getPreload()),this.scheduleExpireCache(t,_),this.postRender(K,t),n.extent&&K.restore(),K.imageSmoothingEnabled=!0,Y!==canvas.style.transform&&(canvas.style.transform=Y),this.container}drawTileImage(t,e,n,r,o,l,h,c){const image=this.getTileImage(t);if(!image)return;const d=Object(T.b)(this),f=e.layerStatesArray[e.layerIndex],_=f.opacity*(c?t.getAlpha(d,e.time):1),m=_!==this.context.globalAlpha;m&&(this.context.save(),this.context.globalAlpha=_),this.context.drawImage(image,h,h,image.width-2*h,image.height-2*h,n,r,o,l),m&&this.context.restore(),_!==f.opacity?e.animate=!0:c&&t.endTransition(d)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}scheduleExpireCache(t,e){if(e.canExpireCache()){const n=function(t,map,e){const n=Object(T.b)(t);n in e.usedTiles&&t.expireCache(e.viewState.projection,e.usedTiles[n])}.bind(null,e);t.postRenderFunctions.push(n)}}updateUsedTiles(t,e,n){const r=Object(T.b)(e);r in t||(t[r]={}),t[r][n.getKey()]=!0}manageTilePyramid(t,e,n,r,o,l,h,c,d){const f=Object(T.b)(e);f in t.wantedTiles||(t.wantedTiles[f]={});const _=t.wantedTiles[f],m=t.tileQueue,v=n.getMinZoom(),y=t.viewState.rotation,x=y?Object(j.B)(t.viewState.center,t.viewState.resolution,y,t.size):void 0;let O,E,S,R,w,I,k=0;for(I=v;I<=h;++I)for(E=n.getTileRangeForExtentAndZ(l,I,E),S=n.getResolution(I),R=E.minX;R<=E.maxX;++R)for(w=E.minY;w<=E.maxY;++w)y&&!n.tileCoordIntersectsViewport([I,R,w],x)||(h-I<=c?(++k,O=e.getTile(I,R,w,r,o),O.getState()==C.a.IDLE&&(_[O.getKey()]=!0,m.isKeyQueued(O.getKey())||m.enqueue([O,f,n.getTileCoordCenter(O.tileCoord),S])),void 0!==d&&d(O)):e.useTile(I,R,w,o));e.updateCacheSize(k,o)}}var M=k;function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(c.a)(t);if(e){var o=Object(c.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(h.a)(this,n)}}var P=function(t){Object(l.a)(n,t);var e=L(n);function n(t){return Object(r.a)(this,n),e.call(this,t)}return Object(o.a)(n,[{key:"createRenderer",value:function(){return new M(this)}}]),n}(v);e.a=P},506:function(t,e,n){"use strict";var r=n(304),o=n(480),l=n(377),h=n(293),c=n(325),d=n(303);var f=class{constructor(t,e,n,r,o,l){this.sourceProj_=t,this.targetProj_=e;let d={};const f=Object(c.k)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const e=t[0]+"/"+t[1];return d[e]||(d[e]=f(t)),d[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Object(h.E)(r)==Object(h.E)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(h.E)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(h.E)(this.targetProj_.getExtent()):null;const _=Object(h.C)(n),m=Object(h.D)(n),v=Object(h.v)(n),y=Object(h.u)(n),x=this.transformInv_(_),O=this.transformInv_(m),E=this.transformInv_(v),C=this.transformInv_(y),S=10+(l?Math.max(0,Math.ceil(Math.log2(Object(h.t)(n)/(l*l*256*256)))):0);if(this.addQuad_(_,m,v,y,x,O,E,C,S),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach((function(e,i,n){t=Math.min(t,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((e=>{if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-t>this.sourceWorldWidth_/2){const n=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];n[0][0]-t>this.sourceWorldWidth_/2&&(n[0][0]-=this.sourceWorldWidth_),n[1][0]-t>this.sourceWorldWidth_/2&&(n[1][0]-=this.sourceWorldWidth_),n[2][0]-t>this.sourceWorldWidth_/2&&(n[2][0]-=this.sourceWorldWidth_);const r=Math.min(n[0][0],n[1][0],n[2][0]);Math.max(n[0][0],n[1][0],n[2][0])-r<this.sourceWorldWidth_/2&&(e.source=n)}}))}d={}}addTriangle_(a,b,t,e,n,r){this.triangles_.push({source:[e,n,r],target:[a,b,t]})}addQuad_(a,b,t,e,n,r,o,l,c){const f=Object(h.b)([n,r,o,l]),_=this.sourceWorldWidth_?Object(h.E)(f)/this.sourceWorldWidth_:null,m=this.sourceWorldWidth_,v=this.sourceProj_.canWrapX()&&_>.5&&_<1;let y=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const n=Object(h.b)([a,b,t,e]);y=Object(h.E)(n)/this.targetWorldWidth_>.25||y}!v&&this.sourceProj_.isGlobal()&&_&&(y=_>.25||y)}if(!y&&this.maxSourceExtent_&&isFinite(f[0])&&isFinite(f[1])&&isFinite(f[2])&&isFinite(f[3])&&!Object(h.F)(f,this.maxSourceExtent_))return;let x=0;if(!(y||isFinite(n[0])&&isFinite(n[1])&&isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(l[0])&&isFinite(l[1])))if(c>0)y=!0;else if(x=(isFinite(n[0])&&isFinite(n[1])?0:8)+(isFinite(r[0])&&isFinite(r[1])?0:4)+(isFinite(o[0])&&isFinite(o[1])?0:2)+(isFinite(l[0])&&isFinite(l[1])?0:1),1!=x&&2!=x&&4!=x&&8!=x)return;if(c>0){if(!y){const e=[(a[0]+t[0])/2,(a[1]+t[1])/2],r=this.transformInv_(e);let l;if(v){l=(Object(d.e)(n[0],m)+Object(d.e)(o[0],m))/2-Object(d.e)(r[0],m)}else l=(n[0]+o[0])/2-r[0];const h=(n[1]+o[1])/2-r[1];y=l*l+h*h>this.errorThresholdSquared_}if(y){if(Math.abs(a[0]-t[0])<=Math.abs(a[1]-t[1])){const h=[(b[0]+t[0])/2,(b[1]+t[1])/2],d=this.transformInv_(h),f=[(e[0]+a[0])/2,(e[1]+a[1])/2],_=this.transformInv_(f);this.addQuad_(a,b,h,f,n,r,d,_,c-1),this.addQuad_(f,h,t,e,_,d,o,l,c-1)}else{const h=[(a[0]+b[0])/2,(a[1]+b[1])/2],d=this.transformInv_(h),f=[(t[0]+e[0])/2,(t[1]+e[1])/2],_=this.transformInv_(f);this.addQuad_(a,h,f,e,n,d,_,l,c-1),this.addQuad_(h,b,t,f,d,r,o,_,c-1)}return}}if(v){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&x)&&this.addTriangle_(a,t,e,n,o,l),0==(14&x)&&this.addTriangle_(a,t,b,n,o,r),x&&(0==(13&x)&&this.addTriangle_(b,e,a,r,l,n),0==(7&x)&&this.addTriangle_(b,e,t,r,l,o))}calculateSourceExtent(){const t=Object(h.j)();return this.triangles_.forEach((function(e,i,n){const r=e.source;Object(h.q)(t,r[0]),Object(h.q)(t,r[1]),Object(h.q)(t,r[2])})),t}getTriangles(){return this.triangles_}},_=n(324);let m;const v=[];function y(t,e,n,r,o){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,o),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,o)),t.restore()}function x(data,t){return Math.abs(data[4*t]-210)>2||Math.abs(data[4*t+3]-191.25)>2}function O(t,e,n,r){const o=Object(c.q)(n,e,t);let l=Object(c.j)(e,r,n);const d=e.getMetersPerUnit();void 0!==d&&(l*=d);const f=t.getMetersPerUnit();void 0!==f&&(l/=f);const _=t.getExtent();if(!_||Object(h.f)(_,o)){const e=Object(c.j)(t,l,o)/l;isFinite(e)&&e>0&&(l/=e)}return l}function E(t,e,n,r,o,l,c,f,O,E,C,S){const R=Object(_.a)(Math.round(n*t),Math.round(n*e),v);if(S||(R.imageSmoothingEnabled=!1),0===O.length)return R.canvas;function j(t){return Math.round(t*n)/n}R.scale(n,n),R.globalCompositeOperation="lighter";const w=Object(h.j)();O.forEach((function(t,i,e){Object(h.p)(w,t.extent)}));const T=Object(h.E)(w),I=Object(h.z)(w),k=Object(_.a)(Math.round(n*T/r),Math.round(n*I/r),v);S||(k.imageSmoothingEnabled=!1);const M=n/r;O.forEach((function(t,i,e){const n=t.extent[0]-w[0],r=-(t.extent[3]-w[3]),o=Object(h.E)(t.extent),l=Object(h.z)(t.extent);t.image.width>0&&t.image.height>0&&k.drawImage(t.image,E,E,t.image.width-2*E,t.image.height-2*E,n*M,r*M,o*M,l*M)}));const L=Object(h.C)(c);return f.getTriangles().forEach((function(t,i,e){const source=t.source,o=t.target;let h=source[0][0],c=source[0][1],f=source[1][0],O=source[1][1],E=source[2][0],C=source[2][1];const T=j((o[0][0]-L[0])/l),I=j(-(o[0][1]-L[1])/l),M=j((o[1][0]-L[0])/l),P=j(-(o[1][1]-L[1])/l),A=j((o[2][0]-L[0])/l),F=j(-(o[2][1]-L[1])/l),D=h,N=c;h=0,c=0,f-=D,O-=N,E-=D,C-=N;const G=[[f,O,0,0,M-T],[E,C,0,0,A-T],[0,0,f,O,P-I],[0,0,E,C,F-I]],z=Object(d.f)(G);if(z){if(R.save(),R.beginPath(),function(){if(void 0===m){const t=Object(_.a)(6,6,v);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",y(t,4,5,4,0),y(t,4,5,0,5);const data=t.getImageData(0,0,3,3).data;m=x(data,0)||x(data,4)||x(data,8),Object(_.b)(t),v.push(t.canvas)}return m}()||!S){R.moveTo(M,P);const t=4,e=T-M,n=I-P;for(let r=0;r<t;r++)R.lineTo(M+j((r+1)*e/t),P+j(r*n/(t-1))),r!=t-1&&R.lineTo(M+j((r+1)*e/t),P+j((r+1)*n/(t-1)));R.lineTo(A,F)}else R.moveTo(M,P),R.lineTo(T,I),R.lineTo(A,F);R.clip(),R.transform(z[0],z[2],z[1],z[3],T,I),R.translate(w[0]-D,w[3]-N),R.scale(r/n,-r/n),R.drawImage(k.canvas,0,0),R.restore()}})),Object(_.b)(k),v.push(k.canvas),C&&(R.save(),R.globalCompositeOperation="source-over",R.strokeStyle="black",R.lineWidth=1,f.getTriangles().forEach((function(t,i,e){const n=t.target,r=(n[0][0]-L[0])/l,o=-(n[0][1]-L[1])/l,h=(n[1][0]-L[0])/l,c=-(n[1][1]-L[1])/l,d=(n[2][0]-L[0])/l,f=-(n[2][1]-L[1])/l;R.beginPath(),R.moveTo(h,c),R.lineTo(r,o),R.lineTo(d,f),R.closePath(),R.stroke()})),R.restore()),R.canvas}var C=n(357);class S extends o.a{constructor(t,e,n,r,o,c,_,m,v,y,x,E){super(o,l.a.IDLE,{interpolate:!!E}),this.renderEdges_=void 0!==x&&x,this.pixelRatio_=_,this.gutter_=m,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=r,this.wrappedTileCoord_=c||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const C=r.getTileCoordExtent(this.wrappedTileCoord_),S=this.targetTileGrid_.getExtent();let R=this.sourceTileGrid_.getExtent();const j=S?Object(h.A)(C,S):C;if(0===Object(h.t)(j))return void(this.state=l.a.EMPTY);const w=t.getExtent();w&&(R=R?Object(h.A)(R,w):w);const T=r.getResolution(this.wrappedTileCoord_[0]),I=function(t,e,n,r){const o=Object(h.w)(n);let l=O(t,e,o,r);return(!isFinite(l)||l<=0)&&Object(h.s)(n,(function(n){return l=O(t,e,n,r),isFinite(l)&&l>0})),l}(t,n,j,T);if(!isFinite(I)||I<=0)return void(this.state=l.a.EMPTY);const k=void 0!==y?y:.5;if(this.triangulation_=new f(t,n,j,R,I*k,T),0===this.triangulation_.getTriangles().length)return void(this.state=l.a.EMPTY);this.sourceZ_=e.getZForResolution(I);let M=this.triangulation_.calculateSourceExtent();if(R&&(t.canWrapX()?(M[1]=Object(d.b)(M[1],R[1],R[3]),M[3]=Object(d.b)(M[3],R[1],R[3])):M=Object(h.A)(M,R)),Object(h.t)(M)){const t=e.getTileRangeForExtentAndZ(M,this.sourceZ_);for(let e=t.minX;e<=t.maxX;e++)for(let n=t.minY;n<=t.maxY;n++){const t=v(this.sourceZ_,e,n,_);t&&this.sourceTiles_.push(t)}0===this.sourceTiles_.length&&(this.state=l.a.EMPTY)}else this.state=l.a.EMPTY}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach((e=>{e&&e.getState()==l.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})})),this.sourceTiles_.length=0,0===t.length)this.state=l.a.ERROR;else{const e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r="number"==typeof n?n:n[0],o="number"==typeof n?n:n[1],h=this.targetTileGrid_.getResolution(e),c=this.sourceTileGrid_.getResolution(this.sourceZ_),d=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=E(r,o,this.pixelRatio_,c,this.sourceTileGrid_.getExtent(),h,d,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=l.a.LOADED}this.changed()}load(){if(this.state==l.a.IDLE){this.state=l.a.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((e=>{const n=e.getState();if(n==l.a.IDLE||n==l.a.LOADING){t++;const n=Object(C.a)(e,r.a.CHANGE,(function(r){const o=e.getState();o!=l.a.LOADED&&o!=l.a.ERROR&&o!=l.a.EMPTY||(Object(C.c)(n),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(n)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,i,e){t.getState()==l.a.IDLE&&t.load()}))}}unlistenSources_(){this.sourcesListenerKeys_.forEach(C.c),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Object(_.b)(this.canvas_.getContext("2d")),v.push(this.canvas_),this.canvas_=null),super.release()}}e.a=S},507:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return c}));var r=n(293);var o=n(441);function l(t,e,n,o,l){const h=Object(r.r)(Object(r.j)(),t,e,n,o);return!!Object(r.F)(l,h)&&(!!Object(r.g)(l,h)||(h[0]>=l[0]&&h[2]<=l[2]||(h[1]>=l[1]&&h[3]<=l[3]||function(t,e,n,r,o){let l;for(e+=r;e<n;e+=r)if(l=o(t.slice(e-r,e),t.slice(e,e+r)),l)return l;return!1}(t,e,n,o,(function(t,e){return Object(r.G)(l,t,e)})))))}function h(t,e,n,r,h){return!!l(t,e,n,r,h)||(!!Object(o.b)(t,e,n,r,h[0],h[1])||(!!Object(o.b)(t,e,n,r,h[0],h[3])||(!!Object(o.b)(t,e,n,r,h[2],h[1])||!!Object(o.b)(t,e,n,r,h[2],h[3]))))}function c(t,e,n,r,c){if(!h(t,e,n[0],r,c))return!1;if(1===n.length)return!0;for(let i=1,e=n.length;i<e;++i)if(Object(o.a)(t,n[i-1],n[i],r,c)&&!l(t,n[i-1],n[i],r,c))return!1;return!0}},508:function(t,e,n){"use strict";n.d(e,"a",(function(){return E}));var r=n(304),o=n(388),l=n(472),h=n(313);class c extends l.a{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.declutterExecutorGroup=null}getFeatures(t){return Object(h.a)()}getData(t){return null}prepareFrame(t){return Object(h.a)()}renderFrame(t,e){return Object(h.a)()}loadedTileCallback(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n}createLoadedTileFinder(source,t,e){return(n,r)=>{const o=this.loadedTileCallback.bind(this,e,n);return source.forEachLoadedTile(t,n,r,o)}}forEachFeatureAtCoordinate(t,e,n,r,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){t.target.getState()===o.a.LOADED&&this.renderIfReadyAndVisible()}loadImage(image){let t=image.getState();return t!=o.a.LOADED&&t!=o.a.ERROR&&image.addEventListener(r.a.CHANGE,this.boundHandleImageChange_),t==o.a.IDLE&&(image.load(),t=image.getState()),t==o.a.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&"ready"===t.getSourceState()&&t.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}var d=c,f=n(476),_=n(417),m=n(370),v=n(387),y=n(324),x=n(320),O=n(293);const E=[];let C=null;e.b=class extends d{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=Object(m.c)(),this.pixelTransform=Object(m.c)(),this.inversePixelTransform=Object(m.c)(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(image,col,t){let data;C||(C=Object(y.a)(1,1,void 0,{willReadFrequently:!0})),C.clearRect(0,0,1,1);try{C.drawImage(image,col,t,1,1,0,0,1,1),data=C.getImageData(0,0,1,1).data}catch(t){return C=null,null}return data}getBackground(t){let e=this.getLayer().getBackground();return"function"==typeof e&&(e=e(t.viewState.resolution)),e||void 0}useContainer(t,e,n){const r=this.getLayer().getClassName();let o,l;if(t&&t.className===r&&(!n||t&&t.style.backgroundColor&&Object(x.b)(Object(v.a)(t.style.backgroundColor),Object(v.a)(n)))){const canvas=t.firstElementChild;canvas instanceof HTMLCanvasElement&&(l=canvas.getContext("2d"))}if(l&&l.canvas.style.transform===e?(this.container=t,this.context=l,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){o=document.createElement("div"),o.className=r;let style=o.style;style.position="absolute",style.width="100%",style.height="100%",l=Object(y.a)();const canvas=l.canvas;o.appendChild(canvas),style=canvas.style,style.position="absolute",style.left="0",style.transformOrigin="top left",this.container=o,this.context=l}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}clipUnrotated(t,e,n){const r=Object(O.C)(n),o=Object(O.D)(n),l=Object(O.v)(n),h=Object(O.u)(n);Object(m.a)(e.coordinateToPixelTransform,r),Object(m.a)(e.coordinateToPixelTransform,o),Object(m.a)(e.coordinateToPixelTransform,l),Object(m.a)(e.coordinateToPixelTransform,h);const c=this.inversePixelTransform;Object(m.a)(c,r),Object(m.a)(c,o),Object(m.a)(c,l),Object(m.a)(c,h),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(l[0]),Math.round(l[1])),t.lineTo(Math.round(h[0]),Math.round(h[1])),t.clip()}dispatchRenderEvent_(t,e,n){const r=this.getLayer();if(r.hasListener(t)){const o=new f.a(t,this.inversePixelTransform,n,e);r.dispatchEvent(o)}}preRender(t,e){this.frameState=e,this.dispatchRenderEvent_(_.a.PRERENDER,t,e)}postRender(t,e){this.dispatchRenderEvent_(_.a.POSTRENDER,t,e)}getRenderTransform(t,e,n,r,o,l,h){const c=o/2,d=l/2,f=r/e,_=-f,v=-t[0]+h,y=-t[1];return Object(m.b)(this.tempTransform,c,d,f,_,-n,v,y)}disposeInternal(){delete this.frameState,super.disposeInternal()}}},509:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(304),o=n(408);n(313);o.a;n(388);var l=n(376),h=(n(293),n(357));function c(image,t,e){const img=image;let n=!0,o=!1,c=!1;const d=[Object(h.b)(img,r.a.LOAD,(function(){c=!0,o||t()}))];return img.src&&l.c?(o=!0,img.decode().then((function(){n&&t()})).catch((function(r){n&&(c?t():e())}))):d.push(Object(h.b)(img,r.a.ERROR,e)),function(){n=!1,d.forEach(h.c)}}},587:function(t,e){function n(e,p){return t.exports=n=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t},t.exports.default=t.exports,t.exports.__esModule=!0,n(e,p)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},588:function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(t.exports=n=function(t){return typeof t},t.exports.default=t.exports,t.exports.__esModule=!0):(t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.default=t.exports,t.exports.__esModule=!0),n(e)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0},589:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.default=t.exports,t.exports.__esModule=!0},590:function(t,e,n){var r=n(591);t.exports=function(object,t){for(;!Object.prototype.hasOwnProperty.call(object,t)&&null!==(object=r(object)););return object},t.exports.default=t.exports,t.exports.__esModule=!0},591:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.default=t.exports,t.exports.__esModule=!0,n(e)}t.exports=n,t.exports.default=t.exports,t.exports.__esModule=!0}}]);