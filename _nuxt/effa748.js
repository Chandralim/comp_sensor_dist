(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{423:function(t,e,o){var content=o(465);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(18).default)("13d7d416",content,!0,{sourceMap:!1})},425:function(t,e,o){"use strict";var r=o(37),c=o(82),n=o(14);t.exports=function(t){for(var e=r(this),o=n(e.length),l=arguments.length,d=c(l>1?arguments[1]:void 0,o),f=l>2?arguments[2]:void 0,h=void 0===f?o:c(f,o);h>d;)e[d++]=t;return e}},464:function(t,e,o){"use strict";o(423)},465:function(t,e,o){var r=o(17)(!1);r.push([t.i,"#map[data-v-c8c8c26c] .ol-attribution,#map[data-v-c8c8c26c] .ol-rotate{display:none}#map[data-v-c8c8c26c] .ol-zoom{display:flex;flex-direction:column}#map[data-v-c8c8c26c] .ol-zoom-in,#map[data-v-c8c8c26c] .ol-zoom-out{background-color:#fff;min-height:30px;min-width:30px;height:30px;width:30px;padding:0;border:1px solid #ccc;border-radius:3px}#map[data-v-c8c8c26c] .ol-zoom-in{margin-bottom:3px}#map[data-v-c8c8c26c] .ol-zoom-out{margin-top:3px}#map[data-v-c8c8c26c] .ol-overlaycontainer-stopevent{display:flex;flex-direction:row-reverse;align-items:flex-end}#map[data-v-c8c8c26c] .zoom-icon{width:30px;margin-bottom:10px;margin-right:5px}[data-v-c8c8c26c]::-moz-placeholder{color:#000}[data-v-c8c8c26c]:-ms-input-placeholder{color:#000}[data-v-c8c8c26c]::placeholder{color:#000}",""]),t.exports=r},522:function(t,e,o){"use strict";o.r(e);o(52),o(27),o(81),o(41);var r=o(10),c=o(511),n=o(437),l=o(499),d=o(524),f=o(512),h=o(523),m=o(459),v=o(513),w=o(349),_=o(430),y=o(432),x=o(431),O=o(422);function P(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function k(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var j={props:["data"],layout:"staff/defaultSide",components:{},data:function(){return{dt:{},dt_def:{location_id:0,location_name:"",sender_id:0},features:[],search:"",the_map:""}},mounted:function(){this.dt=k({},this.dt_def),this.createMap()},methods:{createMap:function(){var t=this;this.the_map=new c.a({target:"map",layers:[new d.a({source:new v.a})],view:new n.a({center:Object(w.e)([98.6897,3.6696]),zoom:14,minZoom:14})}),this.data.forEach((function(e,o){var r=new l.a({data:e,geometry:new m.a(Object(w.e)([e.sensor_coor_lon,e.sensor_coor_lat]))});t.features.push(r)})),this.makePoint();var e=new f.a({source:new h.a({features:this.features})});this.the_map.addLayer(e),this.the_map.on("click",(function(e){var o=!0;t.the_map.forEachFeatureAtPixel(e.pixel,(function(e,r){o=!1;var c=e.getProperties();t.dt=k({},c.data),t.makePoint(e)})),o&&(t.dt=k({},t.dt_def),t.makePoint())}))},makePoint:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.features.forEach((function(t,e){var o="#7e7e7e";"air_limbah"==t.getProperties().data.type&&(o="#8d5c00"),t.setStyle(new _.b({image:new y.a({radius:8,stroke:new x.a({color:"#fff"}),fill:new O.a({color:o})})}))})),t){var o=t.getProperties().data;t.setStyle(new _.b({image:new y.a({radius:8,stroke:new x.a({color:"#fff"}),fill:new O.a({color:"red"})})})),this.search=o.location_name,e&&this.the_map.setView(new n.a({center:Object(w.e)([o.sensor_coor_lon,o.sensor_coor_lat]),zoom:14}))}else this.search=""},local_searching:function(){var t=this,e=this.features.filter((function(e){return e.getProperties().data.location_name==t.search}));e.length>0?(this.dt=k({},e[0].getProperties().data),this.makePoint(e[0],!0)):(this.dt=k({},this.dt_def),this.makePoint())}}},S=(o(464),o(9)),component=Object(S.a)(j,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"w-100"},[o("div",{staticClass:"w-100 d-flex",staticStyle:{"background-color":"white",padding:"10px"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticStyle:{"flex-grow":"1",background:"#aac8a7"},attrs:{list:"browsers",type:"text",name:"search",placeholder:"Company Name"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),o("datalist",{attrs:{id:"browsers"}},t._l(t.data,(function(dt){return o("option",{domProps:{value:dt.location_name}})})),0),t._v(" "),o("button",{attrs:{type:"button",name:"button"},on:{click:function(e){t.search=""}}},[o("fa",{attrs:{icon:["fas","times"]}})],1),t._v(" "),o("button",{attrs:{type:"button",name:"button"},on:{click:function(e){return t.local_searching()}}},[o("fa",{attrs:{icon:["fas","search"]}})],1)]),t._v(" "),o("div",{staticStyle:{width:"100%",height:"20vh"},attrs:{id:"map"}}),t._v(" "),t.dt.location_id&&0!=t.dt.location_id?o("div",{staticClass:"w-100 d-flex align-items-center",staticStyle:{"background-color":"white",border:"solid 1px #ccc",height:"50px",cursor:"pointer"},on:{click:function(e){return t.$emit("callDetail",t.dt)}}},[o("div",{staticStyle:{"flex-grow":"1",padding:"10px"}},[o("div",{staticClass:"w-100",staticStyle:{color:"#2b9585","font-size":"0.8rem"}},[t._v(" Company Name ")]),t._v(" "),o("hr"),t._v(" "),o("div",{staticClass:"w-100"},[t._v(" "+t._s(t.dt.location_name)+" ")])]),t._v(" "),o("button",{staticClass:"btn btn-primary h-100",staticStyle:{"border-radius":"0"}},[t._v("\n            Visit\n        ")])]):t._e()])}),[],!1,null,"c8c8c26c",null);e.default=component.exports}}]);