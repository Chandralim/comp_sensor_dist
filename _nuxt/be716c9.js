(window.webpackJsonp=window.webpackJsonp||[]).push([[47,10,17,26,27],{290:function(t,e,r){"use strict";r.d(e,"a",(function(){return d}));var n=r(292),o=r(293),c=r(123),l=r(294);function d(t){return n(t)||o(t)||c(t)||l()}},292:function(t,e,r){var n=r(189);t.exports=function(t){if(Array.isArray(t))return n(t)},t.exports.default=t.exports,t.exports.__esModule=!0},293:function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)},t.exports.default=t.exports,t.exports.__esModule=!0},294:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},347:function(t,e,r){var content=r(365);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(18).default)("3125592a",content,!0,{sourceMap:!1})},353:function(t,e,r){"use strict";r.r(e);var n={props:["title","back","fn"],methods:{go_back:function(){this.fn?this.fn():this.$router.go(-1)}}},o=(r(364),r(9)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"myHeader d-flex align-items-center"},[t.back?r("div",{staticClass:"text-center",staticStyle:{width:"40px",cursor:"pointer"},on:{click:function(e){return t.go_back()}}},[r("fa",{staticStyle:{"font-size":"20px",color:"#fff"},attrs:{icon:["fas","chevron-left"]}})],1):t._e(),t._v(" "),r("div",{staticStyle:{"padding-left":"10px"}},[t._v("\n        "+t._s(t.title||" ")+"\n      ")])])}),[],!1,null,"6f0eed21",null);e.default=component.exports},364:function(t,e,r){"use strict";r(347)},365:function(t,e,r){var n=r(17)(!1);n.push([t.i,".myHeader[data-v-6f0eed21]{width:100%;height:40px;display:flex;align-items:center;box-shadow:1px 1px 5px 1px #ccc;background:var(--primary-color);color:#fff}.logo[data-v-6f0eed21]{padding:5px;width:100px;height:100%}.tools[data-v-6f0eed21]{width:calc(100% - 100px)}ul[data-v-6f0eed21]{padding:5px;float:right}ul li[data-v-6f0eed21]{display:inline;margin:5px}",""]),t.exports=n},375:function(t,e,r){var content=r(415);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(18).default)("0fab96e6",content,!0,{sourceMap:!1})},392:function(t,e,r){"use strict";r.r(e);var n={props:["title","show","fn"],methods:{go_back:function(){this.fn()}}},o=(r(414),r(9)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"myHeader"},[r("div",{staticStyle:{"padding-left":"1.5%","flex-grow":"1"}},[t._v("\n    "+t._s(t.title||" ")+"\n  ")]),t._v(" "),r("div",{staticClass:"text-center",staticStyle:{width:"40px",cursor:"pointer"},on:{click:function(e){return t.go_back()}}},[r("fa",{staticStyle:{"font-size":"20px",color:"#fff"},attrs:{icon:["fas","times"]}})],1)])}),[],!1,null,"43afd436",null);e.default=component.exports},414:function(t,e,r){"use strict";r(375)},415:function(t,e,r){var n=r(17)(!1);n.push([t.i,".myHeader[data-v-43afd436]{width:100%;height:40px;display:flex;align-items:center;box-shadow:1px 1px 5px 1px #ccc;background:var(--primary-color);color:#fff}",""]),t.exports=n},416:function(t,e,r){var content=r(454);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(18).default)("67f0ac3e",content,!0,{sourceMap:!1})},453:function(t,e,r){"use strict";r(416)},454:function(t,e,r){var n=r(17)(!1);n.push([t.i,"table.sticky thead tr[data-v-d70ced74]{top:0}.box-fixed[data-v-d70ced74]{width:100%;height:100%;position:fixed;z-index:10;display:flex;align-items:center;justify-content:center}.box-fixed>div[data-v-d70ced74]{width:95%;height:95%;background-color:#fff;border:1px solid #ccc;display:flex;flex-direction:column}",""]),t.exports=n},521:function(t,e,r){"use strict";r.r(e);r(79),r(53),r(27),r(81);var n=r(10),o=r(290),c=(r(22),r(4)),l=r(12);r(392);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var f={props:["show","fnClose","fnSelect"],data:function(){return{is_tenant:"",grup:"",name:"",locations:[],search:"",action:"Tambah",selected:-1,scrolling:{page:1,is_last_record:!1,scrollLeft:0},sort:{field:"",by:"asc"}}},methods:{sorting:function(t){this.sort.field!=t?(this.sort.field=t,this.sort.by="asc"):this.sort.by="asc"==this.sort.by?"desc":"asc",this.searching()},start:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$store.commit("SET_LOADING",!0),(r={}).page=t.scrolling.page,""!=t.search&&(t.like="is_tenant:%".concat(t.search,"%,grup:%").concat(t.search,"%,name:%").concat(t.search,"%"),r.like=t.like),t.sort.field&&(r.sort=t.sort.field+":"+t.sort.by),t.is_tenant&&(r.is_tenant=t.is_tenant),t.grup&&(r.grup=t.grup),t.name&&(r.name=t.name),e.next=10,t.$axios.$get("/locations",{params:r}).then((function(e){1==t.scrolling.page?(t.locations=e.data,t.$nextTick((function(){t.$refs.loadRef&&(t.$refs.loadRef.scrollTop=0)}))):t.scrolling.page>1&&(t.locations=[].concat(Object(o.a)(t.locations),Object(o.a)(e.data))),0==e.data.length&&(t.scrolling.is_last_record=!0)})).catch((function(e){t.$store.dispatch("error/errAct",e)}));case 10:t.$store.commit("SET_LOADING",!1);case 11:case"end":return e.stop()}}),e)})))()},searching:function(){this.scrolling.page=1,this.scrolling.is_last_record=!1,this.start()},loadMore:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.$refs.loadRef).scrollLeft==t.scrolling.scrollLeft){e.next=4;break}return t.scrolling.scrollLeft=r.scrollLeft,e.abrupt("return");case 4:if(!t.scrolling.is_last_record){e.next=6;break}return e.abrupt("return");case 6:if(Math.round(r.scrollTop)+r.clientHeight>=r.scrollHeight-1){e.next=9;break}return e.abrupt("return");case 9:return t.scrolling.page++,e.next=12,t.start();case 12:case"end":return e.stop()}}),e)})))()},selectRow:function(){this.selected>-1?this.fnSelect(this.locations[this.selected]):this.fnSelect({id:"",is_tenant:"",grup:"",name:""})}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(l.c)("error",["errors"])),watch:{show:function(t,e){1==t&&this.searching()}}},v=(r(453),r(9)),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"box-fixed"},[r("div",[r("PopupHeader",{staticClass:"w-100 d-flex align-items-center",staticStyle:{"background-color":"gray",color:"white"},attrs:{title:"Search And Select",close:"true",fn:t.fnClose}}),t._v(" "),r("div",{staticClass:"w-100 d-flex",staticStyle:{"flex-flow":"row wrap","align-items":"end"}},[r("div",{staticClass:"d-flex",staticStyle:{"flex-grow":"1",width:"0px","flex-flow":"row wrap"}},[r("div",{staticClass:"col-12 col-xs-4",staticStyle:{padding:"4px"}},[r("label",[t._v("Is Tenant?")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.is_tenant,expression:"is_tenant"}],staticClass:"form-control w-100",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.is_tenant=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:""}}),t._v(" "),r("option",{attrs:{value:"1"}},[t._v("True")]),t._v(" "),r("option",{attrs:{value:"0"}},[t._v("False")])])]),t._v(" "),r("div",{staticClass:"col-12 col-xs-4",staticStyle:{padding:"4px"}},[r("label",[t._v("Grup")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.grup,expression:"grup"}],staticClass:"form-control w-100",attrs:{type:"text",placeholder:"Grup"},domProps:{value:t.grup},on:{input:function(e){e.target.composing||(t.grup=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"col-12 col-xs-4",staticStyle:{padding:"4px"}},[r("label",[t._v("Nama")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control w-100",attrs:{type:"text",placeholder:"Name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),t._v(" "),r("button",{staticStyle:{margin:"4px"},attrs:{type:"button",name:"button"},on:{click:function(e){return t.searching()}}},[r("fa",{attrs:{icon:["fas","search"]}})],1)]),t._v(" "),r("div",{staticClass:"d-flex justify-content-center align-items-center",staticStyle:{"flex-grow":"1",height:"0px",padding:"4px"}},[0==t.locations.length?r("div",{},[t._v("\n            Maaf Tidak Ada Record\n            ")]):r("div",{ref:"loadRef",attrs:{role:"sticky"},on:{scroll:t.loadMore}},[r("table",{staticClass:"sticky"},[r("thead",[r("tr",[r("th",[t._v("No.")]),t._v(" "),r("th",{on:{click:function(e){return t.sorting("id")}}},[r("div",{staticStyle:{cursor:"pointer"}},[t._v(" ID "),r("fa",{attrs:{icon:["fas","sort"]}})],1)]),t._v(" "),r("th",{on:{click:function(e){return t.sorting("is_tenant")}}},[r("div",{staticStyle:{cursor:"pointer"}},[t._v(" Is Tenant "),r("fa",{attrs:{icon:["fas","sort"]}})],1)]),t._v(" "),r("th",{on:{click:function(e){return t.sorting("grup")}}},[r("div",{staticStyle:{cursor:"pointer"}},[t._v(" Grup "),r("fa",{attrs:{icon:["fas","sort"]}})],1)]),t._v(" "),r("th",{on:{click:function(e){return t.sorting("name")}}},[r("div",{staticStyle:{cursor:"pointer"}},[t._v(" Name "),r("fa",{attrs:{icon:["fas","sort"]}})],1)]),t._v(" "),r("th",[t._v("Tanggal Dibuat")]),t._v(" "),r("th",[t._v("Tanggal Diubah")])])]),t._v(" "),r("tbody",t._l(t.locations,(function(e,n){return r("tr",{key:n,class:t.selected==n?"active":"",on:{click:function(e){t.selected=n}}},[r("td",[t._v(t._s(n+1)+".")]),t._v(" "),r("td",{staticClass:"bold"},[t._v(t._s(e.id))]),t._v(" "),r("td",[t._v(t._s(e.is_tenant?"True":"False"))]),t._v(" "),r("td",[t._v(t._s(e.grup))]),t._v(" "),r("td",[t._v(t._s(e.name))]),t._v(" "),r("td",[t._v(t._s(t.$moment(e.created_at).format("DD-MM-Y HH:mm:ss")))]),t._v(" "),r("td",[t._v(t._s(t.$moment(e.updated_at).format("DD-MM-Y HH:mm:ss")))])])})),0)])])]),t._v(" "),r("div",{staticClass:"d-flex",staticStyle:{"justify-content":"end",padding:"5px"}},[r("button",{staticClass:"btn btn-primary",on:{click:function(e){return t.selectRow()}}},[t._v("\n                Select\n            ")])])],1)])}),[],!1,null,"d70ced74",null);e.default=component.exports;installComponents(component,{PopupHeader:r(392).default})},669:function(t,e,r){"use strict";r.r(e);var n=r(10),o=(r(22),r(4)),c=r(12),l=r(353),d=r(521);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var v={layout:"refresh",middleware:["auth-user",function(t){var e=t.$auth,r=t.redirect;t.store,t.route;e.hasScope("Super_Admin")||r("/dashboard")}],components:{CustomHeader:l.default,sns_locations:d.default},asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.store.commit("error/CLEAR_ERRORS"),t.store.commit("SET_LOADING",!0),r={id:"",is_tenant:"",grup:"",name:""},n={id:"",token:"",location_id:"",qmax:1},""===t.query.id){e.next=7;break}return e.next=7,t.app.$axios.$get("/air_limbah_sensor",{params:{id:t.query.id}}).then((function(t){n=t.data,r=t.data.location})).catch((function(e){t.store.dispatch("error/errAct",e)}));case 7:return o=[],e.next=10,t.app.$axios.$get("/locations",{sort:"updated_at:desc"}).then((function(t){o=t.data})).catch((function(e){t.store.dispatch("error/errAct",e)})).then((function(){}));case 10:return t.store.commit("SET_LOADING",!1),e.abrupt("return",{air_limbah_sensor:n,locations:o,location:r});case 12:case"end":return e.stop()}}),e)})))()},data:function(){return{show_location:!1}},created:function(){},methods:{doSave:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$store.commit("SET_LOADING",!0),t.$store.commit("error/CLEAR_ERRORS"),(r=new FormData).append("token",t.air_limbah_sensor.token),r.append("qmax",t.air_limbah_sensor.qmax),r.append("location_id",t.location.id),""!==t.$route.query.id){e.next=11;break}return e.next=9,t.$axios.$post("/air_limbah_sensor",r).then((function(e){t.$router.go(-1)})).catch((function(e){t.$store.dispatch("error/errAct",e)}));case 9:e.next=15;break;case 11:return r.append("_method","PUT"),r.append("id",t.$route.query.id),e.next=15,t.$axios.$post("/air_limbah_sensor",r).then((function(e){t.$router.go(-1)})).catch((function(e){t.$store.dispatch("error/errAct",e)}));case 15:t.$store.commit("SET_LOADING",!1);case 16:case"end":return e.stop()}}),e)})))()},clearLocation:function(){this.location={id:"",is_tenant:"",grup:"",name:""}},searchLocation:function(){this.show_location=!0},closeSNSLocation:function(){this.show_location=!1},selectSNSLocation:function(t){this.location=t,this.show_location=!1}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.c)("error",["errors"])),watch:{}},_=r(9),component=Object(_.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("CustomHeader",{attrs:{title:"Form Air Limbah Sensor",back:"Back"}}),t._v(" "),r("div",{staticClass:"w-100 d-flex",staticStyle:{"flex-grow":"1","flex-direction":"column",height:"0px",overflow:"auto",background:"#fff"}},[r("div",{staticClass:"w-100 align-items-center justify-content-center",staticStyle:{"flex-grow":"1",overflow:"auto"}},[r("div",{staticClass:"w-100 d-flex",staticStyle:{"flex-flow":"column wrap",padding:"4px"}},[r("label",{attrs:{for:""}},[t._v("ID")]),t._v(" "),r("input",{attrs:{type:"text",readonly:"readonly"},domProps:{value:t.$route.query.id}}),t._v(" "),r("p",{staticClass:"help-err"},[t._v(t._s(t.errors.id))])]),t._v(" "),r("div",{staticClass:"w-100 d-flex",staticStyle:{"flex-flow":"column wrap",padding:"4px"}},[r("label",{attrs:{for:""}},[t._v("Token")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.air_limbah_sensor.token,expression:"air_limbah_sensor.token"}],attrs:{cols:"30",rows:"10",readonly:"readonly"},domProps:{value:t.air_limbah_sensor.token},on:{input:function(e){e.target.composing||t.$set(t.air_limbah_sensor,"token",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"w-100 d-flex",staticStyle:{"flex-flow":"column wrap",padding:"4px"}},[r("label",{attrs:{for:""}},[t._v("QMax")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.air_limbah_sensor.qmax,expression:"air_limbah_sensor.qmax"}],attrs:{type:"text"},domProps:{value:t.air_limbah_sensor.qmax},on:{input:function(e){e.target.composing||t.$set(t.air_limbah_sensor,"qmax",e.target.value)}}}),t._v(" "),r("p",{staticClass:"help-err"},[t._v(t._s(t.errors.qmax))])]),t._v(" "),r("div",{staticClass:"w-100 d-flex",staticStyle:{"flex-flow":"column wrap",padding:"4px"}},[r("label",{attrs:{for:""}},[t._v("Lokasi")]),t._v(" "),r("div",{staticClass:"w-100 d-flex",staticStyle:{"flex-flow":"row wrap",border:"solid 1px #ccc"}},[t.location&&t.location.id?r("div",{staticClass:"w-100 d-flex"},[r("div",{staticClass:"d-flex",staticStyle:{"flex-flow":"row wrap","flex-grow":"1"}},[r("div",{staticStyle:{padding:"5px"}},[r("div",{staticStyle:{"font-size":"12px",color:"gray"}},[t._v("Is Tenant")]),t._v(" "),r("div",{staticClass:"bold"},[t._v(t._s(t.location.is_tenant?"True":"False"))])]),t._v(" "),r("div",{staticStyle:{padding:"5px"}},[r("div",{staticStyle:{"font-size":"12px",color:"gray"}},[t._v("Grup")]),t._v(" "),r("div",{staticClass:"bold"},[t._v(t._s(t.location.grup))])]),t._v(" "),r("div",{staticStyle:{padding:"5px"}},[r("div",{staticStyle:{"font-size":"12px",color:"gray"}},[t._v("Name")]),t._v(" "),r("div",{staticClass:"bold"},[t._v(t._s(t.location.name))])])]),t._v(" "),r("button",{staticClass:"btn btn-danger",staticStyle:{"border-radius":"0px"},on:{click:function(e){return t.clearLocation()}}},[r("fa",{staticStyle:{"font-size":"20px"},attrs:{icon:["fas","trash-alt"]}})],1)]):r("div",{staticClass:"w-100 d-flex"},[r("button",{staticClass:"d-flex align-items-center",staticStyle:{"flex-grow":"1"},on:{click:function(e){return t.searchLocation()}}},[r("fa",{staticStyle:{"font-size":"20px",color:"black"},attrs:{icon:["fas","search"]}}),t._v(" "),r("div",{staticClass:"d-flex align-items-center",staticStyle:{"flex-grow":"1",padding:"0.375rem 0.75rem"}},[t._v("\n                  Nama Lokasi\n                ")])],1)])])])]),t._v(" "),r("div",{staticClass:"w-100 d-flex align-items-center",staticStyle:{"justify-content":"flex-end"}},[r("button",{staticClass:"btn btn-secondary",staticStyle:{width:"150px",margin:"4px"},attrs:{type:"button",name:"button"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("\n          Cancel\n        ")]),t._v(" "),r("button",{staticClass:"btn btn-primary",staticStyle:{width:"150px",margin:"4px"},attrs:{type:"button",name:"button"},on:{click:function(e){return t.doSave()}}},[t._v("\n          Save\n        ")])])]),t._v(" "),r("sns_locations",{attrs:{show:t.show_location,fnClose:t.closeSNSLocation,fnSelect:t.selectSNSLocation}})],1)}),[],!1,null,"f2260946",null);e.default=component.exports;installComponents(component,{CustomHeader:r(353).default})}}]);